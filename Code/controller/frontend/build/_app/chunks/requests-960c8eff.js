import{W as e,C as t}from"./vendor-dc4ce95f.js";const s=(()=>{const s=t([]),n=(e,t="default")=>{s.update((s=>[...s,{id:"_"+Math.random().toString(36).substr(2,9),type:t,message:e}]))},a=e(s,((e,t)=>{if(t(e),e.length>0){const e=setTimeout((()=>{s.update((e=>(e.shift(),e)))}),3e3);return()=>{clearTimeout(e)}}})),{subscribe:r}=a;return{subscribe:r,send:n,danger:e=>n(e,"danger"),warning:e=>n(e,"warning"),info:e=>n(e,"info"),success:e=>n(e,"success")}})();async function n(e,t=null){var s=new XMLHttpRequest;s.onreadystatechange=function(){s.readyState===XMLHttpRequest.DONE&&200===s.status&&t(s)},s.open("GET",e,!0),s.send(null)}async function a(e,t,s=null,n=null){var a=new XMLHttpRequest;a.open(t,e,!0),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE)switch(a.status){case 404:n({error:404});break;case 500:n({error:500});break;case 200:n(JSON.parse(a.response));break;default:n({error:a.status})}},null!=s&&(s=JSON.stringify(s)),a.send(s)}async function r(e,t){return new Promise((function(s,n){var a=new XMLHttpRequest;a.open(e,t),a.onreadystatechange=function(){if(4===a.readyState)switch(a.status){case 200:s(JSON.parse(a.response));default:n(null)}},a.send()}))}export{a,r as m,s as n,n as x};
