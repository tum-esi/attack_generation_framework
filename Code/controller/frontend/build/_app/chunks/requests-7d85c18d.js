import{V as s,C as e,S as t,i as a,s as n,e as r,t as l,k as c,c as o,a as i,g as u,d,n as f,b as h,N as g,f as p,F as m,h as y,W as v,X as w,Y as b,Z as E,_ as S,$ as k,B as M,P as D,a0 as H,u as N,v as R,r as X,I as q,a1 as I,a2 as L,H as O}from"./vendor-f082dd3c.js";const T=(()=>{const t=e([]),a=(s,e="default")=>{t.update((t=>[...t,{id:"_"+Math.random().toString(36).substr(2,9),type:e,message:s}]))},n=s(t,((s,e)=>{if(e(s),s.length>0){const s=setTimeout((()=>{t.update((s=>(s.shift(),s)))}),3e3);return()=>{clearTimeout(s)}}})),{subscribe:r}=n;return{subscribe:r,send:a,danger:s=>a(s,"danger"),warning:s=>a(s,"warning"),info:s=>a(s,"info"),success:s=>a(s,"success")}})();function V(s,e,t){const a=s.slice();return a[2]=e[t],a}function x(s){let e,t;return{c(){e=r("i"),this.h()},l(s){e=o(s,"I",{class:!0}),i(e).forEach(d),this.h()},h(){h(e,"class",t=v(s[2].icon)+" svelte-rlsdwl")},m(s,t){p(s,e,t)},p(s,a){2&a&&t!==(t=v(s[2].icon)+" svelte-rlsdwl")&&h(e,"class",t)},d(s){s&&d(e)}}}function C(s,e){let t,a,n,v,M,D,H,N,R=e[2].message+"",X=O,q=e[2].icon&&x(e);return{key:s,first:null,c(){t=r("div"),a=r("div"),n=l(R),v=c(),q&&q.c(),M=c(),this.h()},l(s){t=o(s,"DIV",{class:!0,style:!0});var e=i(t);a=o(e,"DIV",{class:!0});var r=i(a);n=u(r,R),r.forEach(d),v=f(e),q&&q.l(e),M=f(e),e.forEach(d),this.h()},h(){h(a,"class","content svelte-rlsdwl"),h(t,"class","toast svelte-rlsdwl"),g(t,"background",e[0][e[2].type]),this.first=t},m(s,e){p(s,t,e),m(t,a),m(a,n),m(t,v),q&&q.m(t,null),m(t,M),N=!0},p(s,a){e=s,(!N||2&a)&&R!==(R=e[2].message+"")&&y(n,R),e[2].icon?q?q.p(e,a):(q=x(e),q.c(),q.m(t,M)):q&&(q.d(1),q=null),(!N||3&a)&&g(t,"background",e[0][e[2].type])},r(){H=t.getBoundingClientRect()},f(){w(t),X(),b(t,H)},a(){X(),X=E(t,H,I,{})},i(s){N||(S((()=>{D||(D=k(t,L,{y:-30},!0)),D.run(1)})),N=!0)},o(s){D||(D=k(t,L,{y:-30},!1)),D.run(0),N=!1},d(s){s&&d(t),q&&q.d(),s&&D&&D.end()}}}function J(s){let e,t,a=[],n=new Map,l=s[1];const c=s=>s[2].id;for(let r=0;r<l.length;r+=1){let e=V(s,l,r),t=c(e);n.set(t,a[r]=C(t,e))}return{c(){e=r("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=o(s,"DIV",{class:!0});var t=i(e);for(let e=0;e<a.length;e+=1)a[e].l(t);t.forEach(d),this.h()},h(){h(e,"class","notifications svelte-rlsdwl")},m(s,n){p(s,e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);t=!0},p(s,[t]){if(3&t){l=s[1],M();for(let s=0;s<a.length;s+=1)a[s].r();a=D(a,t,c,1,s,l,n,e,H,C,null,V);for(let s=0;s<a.length;s+=1)a[s].a();N()}},i(s){if(!t){for(let s=0;s<l.length;s+=1)R(a[s]);t=!0}},o(s){for(let e=0;e<a.length;e+=1)X(a[e]);t=!1},d(s){s&&d(e);for(let e=0;e<a.length;e+=1)a[e].d()}}}function $(s,e,t){let a;q(s,T,(s=>t(1,a=s)));let{themes:n={danger:"#E26D69",success:"#84C991",warning:"#f0ad4e",info:"#5bc0de",default:"#aaaaaa"}}=e;return s.$$set=s=>{"themes"in s&&t(0,n=s.themes)},[n,a]}class B extends t{constructor(s){super(),a(this,s,$,J,n,{themes:0})}}async function P(s,e=null){var t=new XMLHttpRequest;t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&200===t.status&&e(t)},t.open("GET",s,!0),t.send(null)}async function _(s,e,t=null,a=null){var n=new XMLHttpRequest;n.open(e,s,!0),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)switch(n.status){case 404:a({error:404});break;case 500:a({error:500});break;case 200:a(JSON.parse(n.response));break;default:a({error:n.status})}},null!=t&&(t=JSON.stringify(t)),n.send(t)}async function j(s,e){return new Promise((function(t,a){var n=new XMLHttpRequest;n.open(s,e),n.onreadystatechange=function(){if(4===n.readyState)switch(n.status){case 200:t(JSON.parse(n.response));default:a(null)}},n.send()}))}export{B as T,_ as a,j as m,T as n,P as x};
