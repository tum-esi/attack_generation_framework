import{V as e,C as s,S as t,i as a,s as n,e as r,t as l,k as i,c as o,a as c,g as u,d as f,n as d,b as h,E as p,f as g,G as y,h as m,W as b,X as v,Y as w,Z as E,_ as S,$ as M,B as R,P as D,a0 as O,u as X,v as k,r as q,J as H,a1 as L,a2 as N,I as F}from"./vendor-915ebf8f.js";const T=(()=>{const t=s([]),a=(e,s="default")=>{t.update((t=>[...t,{id:"_"+Math.random().toString(36).substr(2,9),type:s,message:e}]))},n=e(t,((e,s)=>{if(s(e),e.length>0){const e=setTimeout((()=>{t.update((e=>(e.shift(),e)))}),3e3);return()=>{clearTimeout(e)}}})),{subscribe:r}=n;return{subscribe:r,send:a,danger:e=>a(e,"danger"),warning:e=>a(e,"warning"),info:e=>a(e,"info"),success:e=>a(e,"success")}})();function I(e,s,t){const a=e.slice();return a[2]=s[t],a}function J(e){let s,t;return{c(){s=r("i"),this.h()},l(e){s=o(e,"I",{class:!0}),c(s).forEach(f),this.h()},h(){h(s,"class",t=b(e[2].icon)+" svelte-rlsdwl")},m(e,t){g(e,s,t)},p(e,a){2&a&&t!==(t=b(e[2].icon)+" svelte-rlsdwl")&&h(s,"class",t)},d(e){e&&f(s)}}}function x(e,s){let t,a,n,b,R,D,O,X,k=s[2].message+"",q=F,H=s[2].icon&&J(s);return{key:e,first:null,c(){t=r("div"),a=r("div"),n=l(k),b=i(),H&&H.c(),R=i(),this.h()},l(e){t=o(e,"DIV",{class:!0,style:!0});var s=c(t);a=o(s,"DIV",{class:!0});var r=c(a);n=u(r,k),r.forEach(f),b=d(s),H&&H.l(s),R=d(s),s.forEach(f),this.h()},h(){h(a,"class","content svelte-rlsdwl"),h(t,"class","toast svelte-rlsdwl"),p(t,"background",s[0][s[2].type]),this.first=t},m(e,s){g(e,t,s),y(t,a),y(a,n),y(t,b),H&&H.m(t,null),y(t,R),X=!0},p(e,a){s=e,(!X||2&a)&&k!==(k=s[2].message+"")&&m(n,k),s[2].icon?H?H.p(s,a):(H=J(s),H.c(),H.m(t,R)):H&&(H.d(1),H=null),(!X||3&a)&&p(t,"background",s[0][s[2].type])},r(){O=t.getBoundingClientRect()},f(){v(t),q(),w(t,O)},a(){q(),q=E(t,O,L,{})},i(e){X||(S((()=>{D||(D=M(t,N,{y:-30},!0)),D.run(1)})),X=!0)},o(e){D||(D=M(t,N,{y:-30},!1)),D.run(0),X=!1},d(e){e&&f(t),H&&H.d(),e&&D&&D.end()}}}function V(e){let s,t,a=[],n=new Map,l=e[1];const i=e=>e[2].id;for(let r=0;r<l.length;r+=1){let s=I(e,l,r),t=i(s);n.set(t,a[r]=x(t,s))}return{c(){s=r("div");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){s=o(e,"DIV",{class:!0});var t=c(s);for(let s=0;s<a.length;s+=1)a[s].l(t);t.forEach(f),this.h()},h(){h(s,"class","notifications svelte-rlsdwl")},m(e,n){g(e,s,n);for(let t=0;t<a.length;t+=1)a[t].m(s,null);t=!0},p(e,[t]){if(3&t){l=e[1],R();for(let e=0;e<a.length;e+=1)a[e].r();a=D(a,t,i,1,e,l,n,s,O,x,null,I);for(let e=0;e<a.length;e+=1)a[e].a();X()}},i(e){if(!t){for(let e=0;e<l.length;e+=1)k(a[e]);t=!0}},o(e){for(let s=0;s<a.length;s+=1)q(a[s]);t=!1},d(e){e&&f(s);for(let s=0;s<a.length;s+=1)a[s].d()}}}function B(e,s,t){let a;H(e,T,(e=>t(1,a=e)));let{themes:n={danger:"#E26D69",success:"#84C991",warning:"#f0ad4e",info:"#5bc0de",default:"#aaaaaa"}}=s;return e.$$set=e=>{"themes"in e&&t(0,n=e.themes)},[n,a]}class C extends t{constructor(e){super(),a(this,e,B,V,n,{themes:0})}}async function $(e,s=null){var t=new XMLHttpRequest;t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&200===t.status&&s(t)},t.open("GET",e,!0),t.send(null)}async function j(e,s,t=null,a=null){var n=new XMLHttpRequest;n.open(s,e,!0),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)switch(n.status){case 404:a({error:404});break;case 500:a({error:500});break;case 200:a(JSON.parse(n.response));break;default:a({error:n.status})}},null!=t&&(t=JSON.stringify(t)),n.send(t)}async function G(e,s,t,a){var n=new XMLHttpRequest;n.open(s,e,!0),n.responseType="arraybuffer",n.dataType="blob",n.onreadystatechange=function(){if(4!==n.readyState||200!==n.status)return!1;a(n)},t=JSON.stringify(t),n.send(t)}async function _(e,s,t=null,a=null){var n=new XMLHttpRequest,r=new FormData;r.append("media",t.Files);let l={};for(let o in t)"Files"!=o&&(l[o]=t[o]);let i={};for(let o in t.Files)["name","type"].indexOf(o)>-1&&(i[o]=t.Files[o]);l.Files=[i],r.append("metadata",new Blob([JSON.stringify(l)],{type:"application/json"})),n.open(s,e,!0),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status&&a(n)},n.send(r)}export{_ as R,C as T,j as a,G as g,T as n,$ as x};
