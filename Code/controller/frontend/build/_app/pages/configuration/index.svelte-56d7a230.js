import{C as e,S as t,i as a,s as n,e as s,t as r,k as c,c as l,a as o,g as i,d as h,n as f,b as u,f as d,G as p,l as v,M as g,N as m,O as E,P as b,h as w,Q as T,j as y,L as k,m as S,o as D,v as N,r as I,w as A,R as O,T as x,z as _,U as B,V as U}from"../../chunks/vendor-dc4ce95f.js";/* empty css                                                       */import{T as C,x as H,n as R,a as z,m as V}from"../../chunks/requests-7a5f6942.js";const P=e([{_id:223,name:"Test DoS Attack",activated:!0},{_id:324,name:"Sample Scenario",activated:!1}]),j=e({_id:"ObjectIdentifier",ref:"scenario_identifier",configurations:[{container_info:{short_id:"123",name:"DoS Attack",ports:"8010"},configs:{delay:"0",duration:"0",interval:"1000",jitter:"0",target:""}},{container_info:{short_id:"1243",name:"Replay Attack",ports:"8020"},configs:{delay:"5",duration:"12",interval:"1000",jitter:"0",target:""}}]});const{document:L}=B;function M(e,t,a){const n=e.slice();return n[20]=t[a],n[22]=a,n}function $(e,t,a){const n=e.slice();return n[23]=t[a][0],n[24]=t[a][1],n}function q(e,t,a){const n=e.slice();return n[27]=t[a].short_id,n[28]=t[a].name,n[29]=t[a].ports,n[22]=a,n}function J(e,t,a){const n=e.slice();return n[31]=t[a],n[22]=a,n}function F(e,t,a){const n=e.slice();return n[23]=t[a][0],n[24]=t[a][1],n}function G(e,t,a){const n=e.slice();return n[23]=t[a][0],n[24]=t[a][1],n}function Q(e){let t,a,n,v,m,E,b,w,T,y,k,S,D,N,I,A=e[0],O=[];for(let s=0;s<A.length;s+=1)O[s]=Z(J(e,A,s));return{c(){t=s("table"),a=s("thead"),n=s("tr"),v=s("th"),m=r("ID"),E=c(),b=s("th"),w=r("Name"),T=c(),y=s("th"),k=r("Activated"),S=c(),D=s("th"),N=r("Actions"),I=c();for(let e=0;e<O.length;e+=1)O[e].c();this.h()},l(e){t=l(e,"TABLE",{class:!0});var s=o(t);a=l(s,"THEAD",{});var r=o(a);n=l(r,"TR",{class:!0});var c=o(n);v=l(c,"TH",{});var u=o(v);m=i(u,"ID"),u.forEach(h),E=f(c),b=l(c,"TH",{});var d=o(b);w=i(d,"Name"),d.forEach(h),T=f(c),y=l(c,"TH",{});var p=o(y);k=i(p,"Activated"),p.forEach(h),S=f(c),D=l(c,"TH",{});var g=o(D);N=i(g,"Actions"),g.forEach(h),c.forEach(h),r.forEach(h),I=f(s);for(let t=0;t<O.length;t+=1)O[t].l(s);s.forEach(h),this.h()},h(){u(n,"class","w3-dark-grey"),u(t,"class","w3-table-all w3-centered")},m(e,s){d(e,t,s),p(t,a),p(a,n),p(n,v),p(v,m),p(n,E),p(n,b),p(b,w),p(n,T),p(n,y),p(y,k),p(n,S),p(n,D),p(D,N),p(t,I);for(let a=0;a<O.length;a+=1)O[a].m(t,null)},p(e,a){if(4357&a[0]){let n;for(A=e[0],n=0;n<A.length;n+=1){const s=J(e,A,n);O[n]?O[n].p(s,a):(O[n]=Z(s),O[n].c(),O[n].m(t,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=A.length}},d(e){e&&h(t),g(O,e)}}}function K(e){let t,a,n,v,g,m,b,w,y,k,S,D,N,I,A,x,_=[],B=new Map,C=Object.entries(e[31]);const H=e=>e[23];for(let s=0;s<C.length;s+=1){let t=F(e,C,s),a=H(t);B.set(a,_[s]=X(a,t))}return{c(){t=s("tr");for(let e=0;e<_.length;e+=1)_[e].c();a=c(),n=s("td"),v=s("div"),g=s("div"),m=s("button"),b=r("Activate"),w=c(),y=s("button"),k=r("Copy"),S=c(),D=s("button"),N=r("Delete"),I=c(),this.h()},l(e){t=l(e,"TR",{index:!0});var s=o(t);for(let t=0;t<_.length;t+=1)_[t].l(s);a=f(s),n=l(s,"TD",{class:!0});var r=o(n);v=l(r,"DIV",{class:!0});var c=o(v);g=l(c,"DIV",{class:!0});var u=o(g);m=l(u,"BUTTON",{});var d=o(m);b=i(d,"Activate"),d.forEach(h),w=f(u),y=l(u,"BUTTON",{});var p=o(y);k=i(p,"Copy"),p.forEach(h),S=f(u),D=l(u,"BUTTON",{});var E=o(D);N=i(E,"Delete"),E.forEach(h),u.forEach(h),c.forEach(h),r.forEach(h),I=f(s),s.forEach(h),this.h()},h(){u(g,"class","w3-bar"),u(v,"class","w3-show-inline-block"),u(n,"class","svelte-17uzir7"),u(t,"index",e[22])},m(s,r){d(s,t,r);for(let e=0;e<_.length;e+=1)_[e].m(t,null);p(t,a),p(t,n),p(n,v),p(v,g),p(g,m),p(m,b),p(g,w),p(g,y),p(y,k),p(g,S),p(g,D),p(D,N),p(t,I),A||(x=[E(m,"click",e[8]),E(y,"click",de),E(D,"click",e[12])],A=!0)},p(e,n){1&n[0]&&(C=Object.entries(e[31]),_=T(_,n,H,1,e,C,B,t,U,X,a,F))},d(e){e&&h(t);for(let t=0;t<_.length;t+=1)_[t].d();A=!1,O(x)}}}function W(e){let t,a,n,v,g,b,w,y,k,S,D,N,I,A,x,_,B=[],C=new Map,H=Object.entries(e[31]);const R=e=>e[23];for(let s=0;s<H.length;s+=1){let t=G(e,H,s),a=R(t);C.set(a,B[s]=Y(a,t))}return{c(){t=s("tr");for(let e=0;e<B.length;e+=1)B[e].c();a=c(),n=s("td"),v=s("div"),g=s("div"),b=s("button"),w=r("Activate"),y=c(),k=s("button"),S=r("Copy"),D=c(),N=s("button"),I=r("Delete"),A=c(),this.h()},l(e){t=l(e,"TR",{index:!0,style:!0});var s=o(t);for(let t=0;t<B.length;t+=1)B[t].l(s);a=f(s),n=l(s,"TD",{class:!0});var r=o(n);v=l(r,"DIV",{class:!0});var c=o(v);g=l(c,"DIV",{class:!0});var u=o(g);b=l(u,"BUTTON",{});var d=o(b);w=i(d,"Activate"),d.forEach(h),y=f(u),k=l(u,"BUTTON",{});var p=o(k);S=i(p,"Copy"),p.forEach(h),D=f(u),N=l(u,"BUTTON",{});var m=o(N);I=i(m,"Delete"),m.forEach(h),u.forEach(h),c.forEach(h),r.forEach(h),A=f(s),s.forEach(h),this.h()},h(){u(g,"class","w3-bar"),u(v,"class","w3-show-inline-block"),u(n,"class","svelte-17uzir7"),u(t,"index",e[22]),m(t,"background-color","#acddb4")},m(s,r){d(s,t,r);for(let e=0;e<B.length;e+=1)B[e].m(t,null);p(t,a),p(t,n),p(n,v),p(v,g),p(g,b),p(b,w),p(g,y),p(g,k),p(k,S),p(g,D),p(g,N),p(N,I),p(t,A),x||(_=[E(b,"click",e[8]),E(k,"click",de),E(N,"click",e[12])],x=!0)},p(e,n){1&n[0]&&(H=Object.entries(e[31]),B=T(B,n,R,1,e,H,C,t,U,Y,a,G))},d(e){e&&h(t);for(let t=0;t<B.length;t+=1)B[t].d();x=!1,O(_)}}}function X(e,t){let a,n,c=t[24]+"";return{key:e,first:null,c(){a=s("td"),n=r(c),this.h()},l(e){a=l(e,"TD",{class:!0});var t=o(a);n=i(t,c),t.forEach(h),this.h()},h(){u(a,"class","svelte-17uzir7"),this.first=a},m(e,t){d(e,a,t),p(a,n)},p(e,a){t=e,1&a[0]&&c!==(c=t[24]+"")&&w(n,c)},d(e){e&&h(a)}}}function Y(e,t){let a,n,c=t[24]+"";return{key:e,first:null,c(){a=s("td"),n=r(c),this.h()},l(e){a=l(e,"TD",{class:!0});var t=o(a);n=i(t,c),t.forEach(h),this.h()},h(){u(a,"class","svelte-17uzir7"),this.first=a},m(e,t){d(e,a,t),p(a,n)},p(e,a){t=e,1&a[0]&&c!==(c=t[24]+"")&&w(n,c)},d(e){e&&h(a)}}}function Z(e){let t;function a(e,t){return e[2]==e[22]?W:K}let n=a(e),s=n(e);return{c(){s.c(),t=v()},l(e){s.l(e),t=v()},m(e,a){s.m(e,a),d(e,t,a)},p(e,r){n===(n=a(e))&&s?s.p(e,r):(s.d(1),s=n(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&h(t)}}}function ee(e){let t,a,n,v,m,E,b,w,T,y,k,S,D,N,I,A=e[3],O=[];for(let s=0;s<A.length;s+=1)O[s]=ne(q(e,A,s));return{c(){t=s("table"),a=s("thead"),n=s("tr"),v=s("th"),m=r("ShortID"),E=c(),b=s("th"),w=r("Name"),T=c(),y=s("th"),k=r("Ports"),S=c(),D=s("th"),N=r("Actions"),I=c();for(let e=0;e<O.length;e+=1)O[e].c();this.h()},l(e){t=l(e,"TABLE",{class:!0});var s=o(t);a=l(s,"THEAD",{});var r=o(a);n=l(r,"TR",{class:!0});var c=o(n);v=l(c,"TH",{});var u=o(v);m=i(u,"ShortID"),u.forEach(h),E=f(c),b=l(c,"TH",{});var d=o(b);w=i(d,"Name"),d.forEach(h),T=f(c),y=l(c,"TH",{});var p=o(y);k=i(p,"Ports"),p.forEach(h),S=f(c),D=l(c,"TH",{});var g=o(D);N=i(g,"Actions"),g.forEach(h),c.forEach(h),r.forEach(h),I=f(s);for(let t=0;t<O.length;t+=1)O[t].l(s);s.forEach(h),this.h()},h(){u(n,"class","w3-dark-grey"),u(t,"class","w3-table-all w3-centered")},m(e,s){d(e,t,s),p(t,a),p(a,n),p(n,v),p(v,m),p(n,E),p(n,b),p(b,w),p(n,T),p(n,y),p(y,k),p(n,S),p(n,D),p(D,N),p(t,I);for(let a=0;a<O.length;a+=1)O[a].m(t,null)},p(e,a){if(1560&a[0]){let n;for(A=e[3],n=0;n<A.length;n+=1){const s=q(e,A,n);O[n]?O[n].p(s,a):(O[n]=ne(s),O[n].c(),O[n].m(t,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=A.length}},d(e){e&&h(t),g(O,e)}}}function te(e){let t,a,n,v,g,m,b,T,y,k,S,D,N,I,A,x,_,B,U,C,H,R=e[27]+"",z=e[28]+"",V=e[29]+"";return{c(){t=s("tr"),a=s("td"),n=r(R),v=c(),g=s("td"),m=r(z),b=c(),T=s("td"),y=r(V),k=c(),S=s("td"),D=s("div"),N=s("div"),I=s("button"),A=r("Activate"),x=c(),_=s("button"),B=r("Deactivate"),U=c(),this.h()},l(e){t=l(e,"TR",{index:!0});var s=o(t);a=l(s,"TD",{class:!0});var r=o(a);n=i(r,R),r.forEach(h),v=f(s),g=l(s,"TD",{class:!0});var c=o(g);m=i(c,z),c.forEach(h),b=f(s),T=l(s,"TD",{class:!0});var u=o(T);y=i(u,V),u.forEach(h),k=f(s),S=l(s,"TD",{class:!0});var d=o(S);D=l(d,"DIV",{class:!0});var p=o(D);N=l(p,"DIV",{class:!0});var E=o(N);I=l(E,"BUTTON",{});var w=o(I);A=i(w,"Activate"),w.forEach(h),x=f(E),_=l(E,"BUTTON",{});var O=o(_);B=i(O,"Deactivate"),O.forEach(h),E.forEach(h),p.forEach(h),d.forEach(h),U=f(s),s.forEach(h),this.h()},h(){u(a,"class","svelte-17uzir7"),u(g,"class","svelte-17uzir7"),u(T,"class","svelte-17uzir7"),u(N,"class","w3-bar"),u(D,"class","w3-show-inline-block"),u(S,"class","svelte-17uzir7"),u(t,"index",e[22])},m(s,r){d(s,t,r),p(t,a),p(a,n),p(t,v),p(t,g),p(g,m),p(t,b),p(t,T),p(T,y),p(t,k),p(t,S),p(S,D),p(D,N),p(N,I),p(I,A),p(N,x),p(N,_),p(_,B),p(t,U),C||(H=[E(I,"click",e[9]),E(_,"click",e[10])],C=!0)},p(e,t){8&t[0]&&R!==(R=e[27]+"")&&w(n,R),8&t[0]&&z!==(z=e[28]+"")&&w(m,z),8&t[0]&&V!==(V=e[29]+"")&&w(y,V)},d(e){e&&h(t),C=!1,O(H)}}}function ae(e){let t,a,n,v,g,m,b,T,y,k,S,D,N,I,A,x,_,B,U,C,H,R,z=e[27]+"",V=e[28]+"",P=e[29]+"";return{c(){t=s("tr"),a=s("td"),n=r(z),v=c(),g=s("td"),m=r(V),b=c(),T=s("td"),y=r(P),k=c(),S=s("td"),D=s("div"),N=s("div"),I=s("button"),A=r("Activate"),x=c(),_=s("button"),B=r("Deactivate"),U=c(),this.h()},l(e){t=l(e,"TR",{index:!0,style:!0});var s=o(t);a=l(s,"TD",{class:!0});var r=o(a);n=i(r,z),r.forEach(h),v=f(s),g=l(s,"TD",{class:!0});var c=o(g);m=i(c,V),c.forEach(h),b=f(s),T=l(s,"TD",{class:!0});var u=o(T);y=i(u,P),u.forEach(h),k=f(s),S=l(s,"TD",{class:!0});var d=o(S);D=l(d,"DIV",{class:!0});var p=o(D);N=l(p,"DIV",{class:!0});var E=o(N);I=l(E,"BUTTON",{});var w=o(I);A=i(w,"Activate"),w.forEach(h),x=f(E),_=l(E,"BUTTON",{});var O=o(_);B=i(O,"Deactivate"),O.forEach(h),E.forEach(h),p.forEach(h),d.forEach(h),U=f(s),s.forEach(h),this.h()},h(){u(a,"class","svelte-17uzir7"),u(g,"class","svelte-17uzir7"),u(T,"class","svelte-17uzir7"),u(N,"class","w3-bar"),u(D,"class","w3-show-inline-block"),u(S,"class","svelte-17uzir7"),u(t,"index",e[22]),u(t,"style",C=e[4][e[22]])},m(s,r){d(s,t,r),p(t,a),p(a,n),p(t,v),p(t,g),p(g,m),p(t,b),p(t,T),p(T,y),p(t,k),p(t,S),p(S,D),p(D,N),p(N,I),p(I,A),p(N,x),p(N,_),p(_,B),p(t,U),H||(R=[E(I,"click",e[9]),E(_,"click",e[10])],H=!0)},p(e,a){8&a[0]&&z!==(z=e[27]+"")&&w(n,z),8&a[0]&&V!==(V=e[28]+"")&&w(m,V),8&a[0]&&P!==(P=e[29]+"")&&w(y,P),16&a[0]&&C!==(C=e[4][e[22]])&&u(t,"style",C)},d(e){e&&h(t),H=!1,O(R)}}}function ne(e){let t;function a(e,t){return e[22]in e[4]?ae:te}let n=a(e),s=n(e);return{c(){s.c(),t=v()},l(e){s.l(e),t=v()},m(e,a){s.m(e,a),d(e,t,a)},p(e,r){n===(n=a(e))&&s?s.p(e,r):(s.d(1),s=n(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&h(t)}}}function se(e){let t,a=e[1].configurations.length>0&&re(e);return{c(){a&&a.c(),t=v()},l(e){a&&a.l(e),t=v()},m(e,n){a&&a.m(e,n),d(e,t,n)},p(e,n){e[1].configurations.length>0?a?a.p(e,n):(a=re(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&h(t)}}}function re(e){let t,a=e[1].configurations,n=[];for(let s=0;s<a.length;s+=1)n[s]=fe(M(e,a,s));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=v()},l(e){for(let t=0;t<n.length;t+=1)n[t].l(e);t=v()},m(e,a){for(let t=0;t<n.length;t+=1)n[t].m(e,a);d(e,t,a)},p(e,s){if(130&s[0]){let r;for(a=e[1].configurations,r=0;r<a.length;r+=1){const c=M(e,a,r);n[r]?n[r].p(c,s):(n[r]=fe(c),n[r].c(),n[r].m(t.parentNode,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=a.length}},d(e){g(n,e),e&&h(t)}}}function ce(e){let t,a,n,v,g,m,E,b=e[23]+"";return{c(){t=s("label"),a=s("b"),n=r(b),v=c(),g=s("input"),this.h()},l(e){t=l(e,"LABEL",{class:!0});var s=o(t);a=l(s,"B",{});var r=o(a);n=i(r,b),r.forEach(h),s.forEach(h),v=f(e),g=l(e,"INPUT",{class:!0,type:!0,key:!0,value:!0}),this.h()},h(){u(t,"class",""),u(g,"class","w3-input w3-border"),u(g,"type","list"),u(g,"key",m=e[23]),g.value=E=e[24].join()},m(e,s){d(e,t,s),p(t,a),p(a,n),d(e,v,s),d(e,g,s)},p(e,t){2&t[0]&&b!==(b=e[23]+"")&&w(n,b),2&t[0]&&m!==(m=e[23])&&u(g,"key",m),2&t[0]&&E!==(E=e[24].join())&&(g.value=E)},d(e){e&&h(t),e&&h(v),e&&h(g)}}}function le(e){let t,a,n,v,g,m,E,b=e[23]+"";return{c(){t=s("input"),v=c(),g=s("label"),m=s("b"),E=r(b),this.h()},l(e){t=l(e,"INPUT",{class:!0,type:!0,key:!0,checked:!0}),v=f(e),g=l(e,"LABEL",{class:!0});var a=o(g);m=l(a,"B",{});var n=o(m);E=i(n,b),n.forEach(h),a.forEach(h),this.h()},h(){u(t,"class","w3-check"),u(t,"type","checkbox"),u(t,"key",a=e[23]),t.checked=n=e[24],u(g,"class","")},m(e,a){d(e,t,a),d(e,v,a),d(e,g,a),p(g,m),p(m,E)},p(e,s){2&s[0]&&a!==(a=e[23])&&u(t,"key",a),2&s[0]&&n!==(n=e[24])&&(t.checked=n),2&s[0]&&b!==(b=e[23]+"")&&w(E,b)},d(e){e&&h(t),e&&h(v),e&&h(g)}}}function oe(e){let t,a,n,v,g,m,E,b=e[23]+"";return{c(){t=s("label"),a=s("b"),n=r(b),v=c(),g=s("input"),this.h()},l(e){t=l(e,"LABEL",{class:!0});var s=o(t);a=l(s,"B",{});var r=o(a);n=i(r,b),r.forEach(h),s.forEach(h),v=f(e),g=l(e,"INPUT",{class:!0,type:!0,key:!0,value:!0}),this.h()},h(){u(t,"class",""),u(g,"class","w3-input w3-border"),u(g,"type","string"),u(g,"key",m=e[23]),g.value=E=e[24]},m(e,s){d(e,t,s),p(t,a),p(a,n),d(e,v,s),d(e,g,s)},p(e,t){2&t[0]&&b!==(b=e[23]+"")&&w(n,b),2&t[0]&&m!==(m=e[23])&&u(g,"key",m),2&t[0]&&E!==(E=e[24])&&(g.value=E)},d(e){e&&h(t),e&&h(v),e&&h(g)}}}function ie(e){let t,a,n,v,g,m,E,b=e[23]+"";return{c(){t=s("label"),a=s("b"),n=r(b),v=c(),g=s("input"),this.h()},l(e){t=l(e,"LABEL",{class:!0});var s=o(t);a=l(s,"B",{});var r=o(a);n=i(r,b),r.forEach(h),s.forEach(h),v=f(e),g=l(e,"INPUT",{class:!0,type:!0,convert:!0,key:!0,value:!0}),this.h()},h(){u(t,"class",""),u(g,"class","w3-input w3-border"),u(g,"type","string"),u(g,"convert","required"),u(g,"key",m=e[23]),g.value=E=e[24]},m(e,s){d(e,t,s),p(t,a),p(a,n),d(e,v,s),d(e,g,s)},p(e,t){2&t[0]&&b!==(b=e[23]+"")&&w(n,b),2&t[0]&&m!==(m=e[23])&&u(g,"key",m),2&t[0]&&E!==(E=e[24])&&(g.value=E)},d(e){e&&h(t),e&&h(v),e&&h(g)}}}function he(e,t){let a;function n(e,t){return"number"==typeof e[24]?ie:"string"==typeof e[24]?oe:"boolean"==typeof e[24]?le:"object"==typeof e[24]?ce:void 0}let r=n(t),c=r&&r(t);return{key:e,first:null,c(){a=s("p"),c&&c.c(),this.h()},l(e){a=l(e,"P",{});var t=o(a);c&&c.l(t),t.forEach(h),this.h()},h(){this.first=a},m(e,t){d(e,a,t),c&&c.m(a,null)},p(e,s){r===(r=n(t=e))&&c?c.p(t,s):(c&&c.d(1),c=r&&r(t),c&&(c.c(),c.m(a,null)))},d(e){e&&h(a),c&&c.d()}}}function fe(e){let t,a,n,v,g,y,k,S,D,N,I,A,O,x,_,B,C,H,R,z,V,P,j,L=e[20].container_info.name+"",M=[],q=new Map,J=Object.entries(e[20].configs);const F=e=>e[23];for(let s=0;s<J.length;s+=1){let t=$(e,J,s),a=F(t);q.set(a,M[s]=he(a,t))}return{c(){t=s("div"),a=s("div"),n=s("h2"),v=r(L),g=c(),y=s("p"),k=r("Description here from application configs"),S=c(),D=s("div"),N=s("form"),I=s("h5"),A=r("Update Form"),O=c();for(let e=0;e<M.length;e+=1)M[e].c();x=c(),_=s("p"),B=s("input"),R=c(),z=s("hr"),V=c(),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);a=l(s,"DIV",{class:!0});var r=o(a);n=l(r,"H2",{class:!0,style:!0});var c=o(n);v=i(c,L),c.forEach(h),g=f(r),y=l(r,"P",{});var u=o(y);k=i(u,"Description here from application configs"),u.forEach(h),r.forEach(h),S=f(s),D=l(s,"DIV",{class:!0});var d=o(D);N=l(d,"FORM",{name:!0,port:!0,index:!0,class:!0});var p=o(N);I=l(p,"H5",{class:!0,style:!0});var m=o(I);A=i(m,"Update Form"),m.forEach(h),O=f(p);for(let t=0;t<M.length;t+=1)M[t].l(p);x=f(p),_=l(p,"P",{});var E=o(_);B=l(E,"INPUT",{class:!0,type:!0,value:!0}),E.forEach(h),p.forEach(h),d.forEach(h),s.forEach(h),R=f(e),z=l(e,"HR",{class:!0}),V=f(e),this.h()},h(){u(n,"class","w3-text-orange"),m(n,"text-shadow","1px 1px 0 #444"),u(a,"class","w3-third w3-container w3-blue"),u(I,"class","w3-text-orange"),m(I,"text-shadow","1px 1px 0 #444"),u(B,"class","w3-blue"),u(B,"type","submit"),B.value="Update",u(N,"name",C=e[20].container_info.name),u(N,"port",H=e[20].container_info.ports),u(N,"index",e[22]),u(N,"class","w3-container"),u(D,"class","w3-twothird w3-container w3-gray"),u(t,"class","w3-row w3-border"),u(z,"class","svelte-17uzir7")},m(s,r){d(s,t,r),p(t,a),p(a,n),p(n,v),p(a,g),p(a,y),p(y,k),p(t,S),p(t,D),p(D,N),p(N,I),p(I,A),p(N,O);for(let e=0;e<M.length;e+=1)M[e].m(N,null);p(N,x),p(N,_),p(_,B),d(s,R,r),d(s,z,r),d(s,V,r),P||(j=E(N,"submit",b(e[7])),P=!0)},p(e,t){2&t[0]&&L!==(L=e[20].container_info.name+"")&&w(v,L),2&t[0]&&(J=Object.entries(e[20].configs),M=T(M,t,F,1,e,J,q,N,U,he,x,$)),2&t[0]&&C!==(C=e[20].container_info.name)&&u(N,"name",C),2&t[0]&&H!==(H=e[20].container_info.ports)&&u(N,"port",H)},d(e){e&&h(t);for(let t=0;t<M.length;t+=1)M[t].d();e&&h(R),e&&h(z),e&&h(V),P=!1,j()}}}function ue(e){let t,a,n,v,g,m,b,w,T,x,_,B,U,H,R,z,V,P,j,M,$,q,J,F,G,K,W,X,Y,Z,te,ae,ne,re,ce,le,oe,ie,he,fe,ue,de,pe,ve,ge,me,Ee,be,we,Te,ye,ke,Se,De,Ne,Ie,Ae,Oe,xe,_e,Be,Ue,Ce,He,Re;a=new C({});let ze=e[0].length>0&&Q(e),Ve=e[3].length>0&&ee(e),Pe="configurations"in e[1]&&se(e);return{c(){t=c(),y(a.$$.fragment),n=c(),v=s("hr"),g=c(),m=s("section"),b=s("h2"),w=r("Scenario Management"),T=c(),x=s("hr"),_=c(),B=s("section"),U=s("h3"),H=r("Select scenario"),R=c(),z=s("section"),ze&&ze.c(),V=c(),P=s("div"),j=s("div"),M=s("button"),$=r("Create Scenario"),q=c(),J=s("div"),F=s("input"),G=c(),K=s("div"),W=s("div"),X=s("button"),Y=r("Rename Scenario"),Z=c(),te=s("div"),ae=s("input"),ne=c(),re=s("div"),ce=s("input"),le=c(),oe=s("hr"),ie=c(),he=s("h2"),fe=r("Configure Scenarios"),ue=c(),de=s("hr"),pe=c(),ve=s("section"),ge=s("h3"),me=r("Select containers"),Ee=c(),be=s("section"),Ve&&Ve.c(),we=c(),Te=s("hr"),ye=c(),ke=s("section"),Se=s("h3"),De=r("Configure containers"),Ne=c(),Ie=s("section"),Ae=s("button"),Oe=r("Reset Configurations"),xe=c(),Pe&&Pe.c(),_e=c(),Be=s("button"),Ue=r("Save Configurations"),this.h()},l(e){k('[data-svelte="svelte-101i1i0"]',L.head).forEach(h),t=f(e),S(a.$$.fragment,e),n=f(e),v=l(e,"HR",{class:!0}),g=f(e),m=l(e,"SECTION",{class:!0});var s=o(m);b=l(s,"H2",{});var r=o(b);w=i(r,"Scenario Management"),r.forEach(h),s.forEach(h),T=f(e),x=l(e,"HR",{class:!0}),_=f(e),B=l(e,"SECTION",{class:!0});var c=o(B);U=l(c,"H3",{});var u=o(U);H=i(u,"Select scenario"),u.forEach(h),c.forEach(h),R=f(e),z=l(e,"SECTION",{class:!0});var d=o(z);ze&&ze.l(d),V=f(d),P=l(d,"DIV",{class:!0});var p=o(P);j=l(p,"DIV",{class:!0});var E=o(j);M=l(E,"BUTTON",{ref:!0,class:!0});var y=o(M);$=i(y,"Create Scenario"),y.forEach(h),E.forEach(h),q=f(p),J=l(p,"DIV",{class:!0});var D=o(J);F=l(D,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),D.forEach(h),p.forEach(h),G=f(d),K=l(d,"DIV",{class:!0});var N=o(K);W=l(N,"DIV",{class:!0});var I=o(W);X=l(I,"BUTTON",{ref:!0,class:!0});var A=o(X);Y=i(A,"Rename Scenario"),A.forEach(h),I.forEach(h),Z=f(N),te=l(N,"DIV",{class:!0});var O=o(te);ae=l(O,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),O.forEach(h),ne=f(N),re=l(N,"DIV",{class:!0});var C=o(re);ce=l(C,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),C.forEach(h),N.forEach(h),d.forEach(h),le=f(e),oe=l(e,"HR",{class:!0}),ie=f(e),he=l(e,"H2",{});var Q=o(he);fe=i(Q,"Configure Scenarios"),Q.forEach(h),ue=f(e),de=l(e,"HR",{class:!0}),pe=f(e),ve=l(e,"SECTION",{class:!0});var ee=o(ve);ge=l(ee,"H3",{});var se=o(ge);me=i(se,"Select containers"),se.forEach(h),ee.forEach(h),Ee=f(e),be=l(e,"SECTION",{class:!0});var Ce=o(be);Ve&&Ve.l(Ce),Ce.forEach(h),we=f(e),Te=l(e,"HR",{class:!0}),ye=f(e),ke=l(e,"SECTION",{class:!0});var He=o(ke);Se=l(He,"H3",{});var Re=o(Se);De=i(Re,"Configure containers"),Re.forEach(h),He.forEach(h),Ne=f(e),Ie=l(e,"SECTION",{class:!0});var je=o(Ie);Ae=l(je,"BUTTON",{class:!0});var Le=o(Ae);Oe=i(Le,"Reset Configurations"),Le.forEach(h),xe=f(je),Pe&&Pe.l(je),_e=f(je),Be=l(je,"BUTTON",{class:!0});var Me=o(Be);Ue=i(Me,"Save Configurations"),Me.forEach(h),je.forEach(h),this.h()},h(){L.title="Configuration and Scheduling",u(v,"class","svelte-17uzir7"),u(m,"class","page-headline"),u(x,"class","svelte-17uzir7"),u(B,"class","page-headline"),u(M,"ref","createNewScenario"),u(M,"class","w3-col w3-input w3-border"),u(j,"class","w3-third"),u(F,"id","createNewScenario"),u(F,"class","w3-input w3-border"),u(F,"name","name"),u(F,"type","text"),u(F,"placeholder","Scenario Name"),u(J,"class","w3-rest"),u(P,"class","w3-row w3-section"),u(X,"ref","renameScenario"),u(X,"class","w3-col w3-input w3-border"),u(W,"class","w3-third"),u(ae,"id","renameScenarioID"),u(ae,"class","w3-input w3-border"),u(ae,"name","id"),u(ae,"type","text"),u(ae,"placeholder","Scenario Identifier"),u(te,"class","w3-third"),u(ce,"id","renameScenario"),u(ce,"class","w3-input w3-border"),u(ce,"name","name"),u(ce,"type","text"),u(ce,"placeholder","Scenario Name"),u(re,"class","w3-rest"),u(K,"class","w3-row w3-section"),u(z,"class","w3-container"),u(oe,"class","svelte-17uzir7"),u(de,"class","svelte-17uzir7"),u(ve,"class","page-headline"),u(be,"class","w3-container"),u(Te,"class","svelte-17uzir7"),u(ke,"class","page-headline"),u(Ae,"class","w3-col w3-input w3-border w3-margin-bottom"),u(Be,"class","w3-col w3-input w3-border w3-margin-top"),u(Ie,"class","w3-container")},m(s,r){d(s,t,r),D(a,s,r),d(s,n,r),d(s,v,r),d(s,g,r),d(s,m,r),p(m,b),p(b,w),d(s,T,r),d(s,x,r),d(s,_,r),d(s,B,r),p(B,U),p(U,H),d(s,R,r),d(s,z,r),ze&&ze.m(z,null),p(z,V),p(z,P),p(P,j),p(j,M),p(M,$),p(P,q),p(P,J),p(J,F),p(z,G),p(z,K),p(K,W),p(W,X),p(X,Y),p(K,Z),p(K,te),p(te,ae),p(K,ne),p(K,re),p(re,ce),d(s,le,r),d(s,oe,r),d(s,ie,r),d(s,he,r),p(he,fe),d(s,ue,r),d(s,de,r),d(s,pe,r),d(s,ve,r),p(ve,ge),p(ge,me),d(s,Ee,r),d(s,be,r),Ve&&Ve.m(be,null),d(s,we,r),d(s,Te,r),d(s,ye,r),d(s,ke,r),p(ke,Se),p(Se,De),d(s,Ne,r),d(s,Ie,r),p(Ie,Ae),p(Ae,Oe),p(Ie,xe),Pe&&Pe.m(Ie,null),p(Ie,_e),p(Ie,Be),p(Be,Ue),Ce=!0,He||(Re=[E(M,"click",e[13]),E(X,"click",e[11]),E(Ae,"click",e[5]),E(Be,"click",e[6])],He=!0)},p(e,t){e[0].length>0?ze?ze.p(e,t):(ze=Q(e),ze.c(),ze.m(z,V)):ze&&(ze.d(1),ze=null),e[3].length>0?Ve?Ve.p(e,t):(Ve=ee(e),Ve.c(),Ve.m(be,null)):Ve&&(Ve.d(1),Ve=null),"configurations"in e[1]?Pe?Pe.p(e,t):(Pe=se(e),Pe.c(),Pe.m(Ie,_e)):Pe&&(Pe.d(1),Pe=null)},i(e){Ce||(N(a.$$.fragment,e),Ce=!0)},o(e){I(a.$$.fragment,e),Ce=!1},d(e){e&&h(t),A(a,e),e&&h(n),e&&h(v),e&&h(g),e&&h(m),e&&h(T),e&&h(x),e&&h(_),e&&h(B),e&&h(R),e&&h(z),ze&&ze.d(),e&&h(le),e&&h(oe),e&&h(ie),e&&h(he),e&&h(ue),e&&h(de),e&&h(pe),e&&h(ve),e&&h(Ee),e&&h(be),Ve&&Ve.d(),e&&h(we),e&&h(Te),e&&h(ye),e&&h(ke),e&&h(Ne),e&&h(Ie),Pe&&Pe.d(),He=!1,O(Re)}}}function de(){console.log(this,"copyScenario")}function pe(e,t,a){let n=[],s={};const r=P.subscribe((e=>{a(0,n=e)})),c=j.subscribe((e=>{a(1,s=e)}));let l;x((()=>{r(),c()}));let o=[{short_id:"123",name:"DoS Attack",ports:"8010"},{short_id:"1243",name:"Replay Attack",ports:"8020"},{short_id:"122",name:"MitM",ports:"8030"}],i=[],h={},f=[];function u(){let e=!1;for(let t=0;t<n.length;t++)n[t].activated&&(e=!0);return e}return _((async()=>{H("/api/db1/scenarios",(function(e){let t=JSON.parse(e.response);if(t.data){console.log("scenarios array:",t.data);for(let e=0;e<t.data.length;e++)t.data[e].activated=!1;P.set(t.data),console.log("store set with: ",t.data)}})),async function(){H("/containers",(function(e){let t=JSON.parse(e.response);t.data&&a(3,o=t.data),console.log("containers loaded:",o)}))}()})),[n,s,l,o,h,async function(){if(!u())return void R.danger("please create and activate a scenario first.");let e=[],t=[];for(let a=0;a<o.length;a++)if(f.includes(a.toString())){console.log(o[a],"data");let n=o[a].name,s=o[a].ports.split(",")[0].split("/")[0];t.push(o[a]),console.log(n,s,"name and port");let r=V("GET","/containers/"+n+"/"+s+"/configs");e.push(r)}Promise.allSettled(e).then((function(e){console.log(e,"after all resolved",t);for(let t=0;t<e.length;t++)"fulfilled"==e[t].status&&a(1,s.configurations[t].configs=e[t].value.data.data,s);j.set(s)})),console.log("config_containers:",s)},async function(){u()||R.danger("please create and activate a scenario first.")},async function(){if(!u())return void R.danger("please create and activate a scenario first.");let e={},t=parseInt(this.getAttribute("index")),a=this.getAttribute("name"),n=this.getAttribute("port").split(",")[0].split("/")[0];console.log(t,a,n,"printing index");let s=this.querySelectorAll("input");for(let c=0;c<s.length;c++){let t=s[c];console.log(t,"element found with input scan");let a=t.getAttribute("type"),n=t.getAttribute("key"),r=t.value;null==r&&(r=""),console.log(a,n,r,"triple"),"submit"!=a&&("checkbox"==a?e[n]=t.checked:"list"==a?e[n]=r.split(","):t.hasAttribute("convert")?e[n]=Number(r):e[n]=r)}let r="/containers/"+a+"/"+n+"/configs";console.log(e,"nanan",r),z(r,"POST",e,(function(a){console.log(a,e,"response from modal request"),i[t].configs=e,console.log(i,a,"new container structure"),R.success("Configuration update successfull.")}))},function(){let e,t=this.parentElement.parentElement.parentElement.parentElement.getAttribute("index");for(let s=0;s<n.length;s++)s==t?(a(2,l=s),a(0,n[s].activated=!0,n),e=n[s]):a(0,n[s].activated=!1,n);P.set(n),a(1,s.ref=e._id,s),a(1,s.name=e.name,s),a(1,s.configurations=[],s);let r="/api/db1/scenario_configurations/ref-"+e._id;H(r,(function(e){let t=JSON.parse(e.response);if(t.data){if(console.log("scenarios_configurations data:",t.data),t.data.length>1){a(1,s=t.data),f=[];for(let e=0;e<o.length;e++){let t=e.toString();a(4,h[t]="",h);let r=o[e];for(var n=0;n<s.configurations.length;n++){let e=s.configurations[n];r.short_id==e.container_info.short_id&&(a(4,h[t]="background-color: #acddb4;",h),f.includes(t)||f.push(t),n=s.configurations.length)}}}j.set(s)}}))},function(){if(!u())return void R.danger("please create and activate a scenario first.");let e=this.parentElement.parentElement.parentElement.parentElement.getAttribute("index");a(4,h[e]="background-color: #acddb4;",h),f.includes(e)||f.push(e);let t=o[parseInt(e)],n={};console.log("container info:",t);let r=t.name,c=t.ports.split(",")[0].split("/")[0];H("/containers/"+r+"/"+c+"/configs",(function(e){let a=JSON.parse(e.response);console.log("return data containers configs",a),a.data&&"data"in a.data&&(n=a.data.data),console.log("containers loaded:",o),s.configurations.push({container_info:t,configs:n}),j.set(s),console.log("scenario_configurations",s)}))},function(){if(!u())return void R.danger("please create and activate a scenario first.");let e=this.parentElement.parentElement.parentElement.parentElement.getAttribute("index");if(a(4,h[e]="",h),f.includes(e)){const t=f.indexOf(e);t>-1&&f.splice(t,1)}},function(){let e=this.getAttribute("ref"),t=document.getElementById(e+"ID"),s=document.getElementById(e);if(""!=t.value&&""!=s.value){let e=!1,r=-1;for(let a=0;a<n.length;a++)console.log("comparing scenario id with input1 value:",n[a]._id,t.value),n[a]._id==t.value&&(e=!0,r=a,a=n.length);if(!e)return void R.danger("scenario identifier does not exist.");let c="/api/db1/scenarios/"+t.value,l={name:s.value};z(c,"PUT",l,(function(e){a(0,n[r].name=s.value,n),P.set(n),R.success("Scenario renamed successfully.")}))}else R.danger("please provide scenario identifier and new name.")},function(){console.log(this,"deleteScenario");let e=parseInt(this.parentElement.parentElement.parentElement.parentElement.getAttribute("index"));console.log("index:",e),console.log("scenarios",n);let t=n[e]._id;console.log("identifier",t);let a="/api/db1/scenarios/"+t;console.log("delete scenario request with url:",a),z(a,"DELETE",{},(function(t){n.splice(e,1),P.set(n),console.log(t,"response from deleteScenario"),R.success("Scenario deleted successfully.")}))},function(){let e=this.getAttribute("ref");if(""!=e){let t=document.getElementById(e);if(""!=t.value){let e={name:t.value},a="/api/db1/scenarios";console.log("createNewScenario request with body:",e," and url:",a),z(a,"POST",e,(function(e){console.log(e,"response from createNewScenario"),n.push({_id:e.data,name:t.value,activated:!1}),P.set(n),R.success("New scenario created.")}))}else R.danger("please provide scenario name.")}}]}export default class extends t{constructor(e){super(),a(this,e,pe,ue,n,{},[-1,-1])}}
