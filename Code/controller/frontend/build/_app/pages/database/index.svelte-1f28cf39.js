import{S as t,i as a,s as e,e as s,t as l,k as n,c as o,a as c,g as r,d as i,n as h,b as f,f as d,F as u,h as p,M as g,j as v,L as w,m as b,N as m,o as E,a7 as D,G as x,v as y,r as O,w as C,Q as I,a8 as N,a4 as T}from"../../chunks/vendor-88cff2d8.js";import{T as j,x as B,n as k}from"../../chunks/requests-95bb71be.js";function $(t,a,e){const s=t.slice();return s[11]=a[e],s[12]=a,s[13]=e,s}function V(t,a,e){const s=t.slice();return s[14]=a[e][0],s[15]=a[e][1],s}function U(t,a,e){const s=t.slice();return s[11]=a[e],s[18]=a,s[13]=e,s}function L(t){let a,e,n=t[11]+"",h=t[13];const g=()=>t[8](a,h),v=()=>t[8](null,h);return{c(){a=s("li"),e=l(n),this.h()},l(t){a=o(t,"LI",{class:!0});var s=c(a);e=r(s,n),s.forEach(i),this.h()},h(){f(a,"class","db-collection svelte-1ve4g5t")},m(t,s){d(t,a,s),u(a,e),g()},p(a,s){t=a,4&s&&n!==(n=t[11]+"")&&p(e,n),h!==t[13]&&(v(),h=t[13],g())},d(t){t&&i(a),v()}}}function R(t){let a,e,v,w,b,m,E=t[14]+"",D=t[15],x=[];for(let s=0;s<D.length;s+=1)x[s]=L(U(t,D,s));return{c(){a=s("div"),e=l(E),v=n(),w=s("ul");for(let t=0;t<x.length;t+=1)x[t].c();b=n(),m=s("br"),this.h()},l(t){a=o(t,"DIV",{class:!0});var s=c(a);e=r(s,E),s.forEach(i),v=h(t),w=o(t,"UL",{});var l=c(w);for(let a=0;a<x.length;a+=1)x[a].l(l);b=h(l),m=o(l,"BR",{}),l.forEach(i),this.h()},h(){f(a,"class","db-name svelte-1ve4g5t")},m(t,s){d(t,a,s),u(a,e),d(t,v,s),d(t,w,s);for(let a=0;a<x.length;a+=1)x[a].m(w,null);u(w,b),u(w,m)},p(t,a){if(4&a&&E!==(E=t[14]+"")&&p(e,E),5&a){let e;for(D=t[15],e=0;e<D.length;e+=1){const s=U(t,D,e);x[e]?x[e].p(s,a):(x[e]=L(s),x[e].c(),x[e].m(w,b))}for(;e<x.length;e+=1)x[e].d(1);x.length=D.length}},d(t){t&&i(a),t&&i(v),t&&i(w),g(x,t)}}}function S(t){let a,e,f,g=JSON.stringify(t[11],void 0,2)+"",v=t[13];const w=()=>t[10](a,v),b=()=>t[10](null,v);return{c(){a=s("li"),e=l(g),f=n()},l(t){a=o(t,"LI",{});var s=c(a);e=r(s,g),f=h(s),s.forEach(i)},m(t,s){d(t,a,s),u(a,e),u(a,f),w()},p(a,s){t=a,16&s&&g!==(g=JSON.stringify(t[11],void 0,2)+"")&&p(e,g),v!==t[13]&&(b(),v=t[13],w())},d(t){t&&i(a),b()}}}function _(t){let a,e,p,N,T,B,k,U,L,_,H,J,G,q,F,M,P,Q,z,A,K,W,X,Y,Z,tt,at,et,st,lt,nt,ot,ct,rt,it,ht,ft,dt,ut;e=new j({});let pt=Object.entries(t[2]),gt=[];for(let s=0;s<pt.length;s+=1)gt[s]=R(V(t,pt,s));let vt=t[4],wt=[];for(let s=0;s<vt.length;s+=1)wt[s]=S($(t,vt,s));return{c(){a=n(),v(e.$$.fragment),p=n(),N=s("hr"),T=n(),B=s("div"),k=s("h1"),U=s("b"),L=l("Databases and Collections"),_=n(),H=s("button"),J=l("DBs and Collections"),G=n(),q=s("br"),F=n();for(let t=0;t<gt.length;t+=1)gt[t].c();M=n(),P=s("hr"),Q=n(),z=s("div"),A=s("h1"),K=s("b"),W=l("Collection Data"),X=n(),Y=s("div"),Z=s("div"),tt=s("input"),at=n(),et=s("div"),st=s("button"),lt=l("Get Data"),nt=n(),ot=s("div"),ct=s("button"),rt=l("Clear Data"),it=n(),ht=s("ul");for(let t=0;t<wt.length;t+=1)wt[t].c();this.h()},l(t){w('[data-svelte="svelte-qmgm2y"]',document.head).forEach(i),a=h(t),b(e.$$.fragment,t),p=h(t),N=o(t,"HR",{class:!0}),T=h(t),B=o(t,"DIV",{class:!0});var s=c(B);k=o(s,"H1",{class:!0,style:!0});var l=c(k);U=o(l,"B",{});var n=c(U);L=r(n,"Databases and Collections"),n.forEach(i),l.forEach(i),s.forEach(i),_=h(t),H=o(t,"BUTTON",{class:!0});var f=c(H);J=r(f,"DBs and Collections"),f.forEach(i),G=h(t),q=o(t,"BR",{}),F=h(t);for(let a=0;a<gt.length;a+=1)gt[a].l(t);M=h(t),P=o(t,"HR",{class:!0}),Q=h(t),z=o(t,"DIV",{class:!0});var d=c(z);A=o(d,"H1",{class:!0,style:!0});var u=c(A);K=o(u,"B",{});var g=c(K);W=r(g,"Collection Data"),g.forEach(i),u.forEach(i),d.forEach(i),X=h(t),Y=o(t,"DIV",{class:!0});var v=c(Y);Z=o(v,"DIV",{class:!0});var m=c(Z);tt=o(m,"INPUT",{class:!0,type:!0,placeholder:!0}),m.forEach(i),at=h(v),et=o(v,"DIV",{class:!0});var E=c(et);st=o(E,"BUTTON",{class:!0});var D=c(st);lt=r(D,"Get Data"),D.forEach(i),E.forEach(i),nt=h(v),ot=o(v,"DIV",{class:!0});var x=c(ot);ct=o(x,"BUTTON",{class:!0});var y=c(ct);rt=r(y,"Clear Data"),y.forEach(i),x.forEach(i),v.forEach(i),it=h(t),ht=o(t,"UL",{});var O=c(ht);for(let a=0;a<wt.length;a+=1)wt[a].l(O);O.forEach(i),this.h()},h(){document.title="Database",f(N,"class","svelte-1ve4g5t"),f(k,"class","w3-text-yellow"),m(k,"text-shadow","1px 1px 0 #444"),f(B,"class","w3-panel w3-blue"),f(H,"class","w3-col w3-input w3-border"),f(P,"class","svelte-1ve4g5t"),f(A,"class","w3-text-yellow"),m(A,"text-shadow","1px 1px 0 #444"),f(z,"class","w3-panel w3-blue"),f(tt,"class","w3-input w3-border"),f(tt,"type","text"),f(tt,"placeholder","collection_name"),f(Z,"class","w3-third"),f(st,"class","w3-col w3-input w3-border"),f(et,"class","w3-third"),f(ct,"class","w3-col w3-input w3-border"),f(ot,"class","w3-rest"),f(Y,"class","w3-row w3-section")},m(s,l){d(s,a,l),E(e,s,l),d(s,p,l),d(s,N,l),d(s,T,l),d(s,B,l),u(B,k),u(k,U),u(U,L),d(s,_,l),d(s,H,l),u(H,J),d(s,G,l),d(s,q,l),d(s,F,l);for(let t=0;t<gt.length;t+=1)gt[t].m(s,l);d(s,M,l),d(s,P,l),d(s,Q,l),d(s,z,l),u(z,A),u(A,K),u(K,W),d(s,X,l),d(s,Y,l),u(Y,Z),u(Z,tt),D(tt,t[3]),u(Y,at),u(Y,et),u(et,st),u(st,lt),u(Y,nt),u(Y,ot),u(ot,ct),u(ct,rt),d(s,it,l),d(s,ht,l);for(let t=0;t<wt.length;t+=1)wt[t].m(ht,null);ft=!0,dt||(ut=[x(H,"click",t[5]),x(tt,"input",t[9]),x(st,"click",t[6]),x(ct,"click",t[7])],dt=!0)},p(t,[a]){if(5&a){let e;for(pt=Object.entries(t[2]),e=0;e<pt.length;e+=1){const s=V(t,pt,e);gt[e]?gt[e].p(s,a):(gt[e]=R(s),gt[e].c(),gt[e].m(M.parentNode,M))}for(;e<gt.length;e+=1)gt[e].d(1);gt.length=pt.length}if(8&a&&tt.value!==t[3]&&D(tt,t[3]),18&a){let e;for(vt=t[4],e=0;e<vt.length;e+=1){const s=$(t,vt,e);wt[e]?wt[e].p(s,a):(wt[e]=S(s),wt[e].c(),wt[e].m(ht,null))}for(;e<wt.length;e+=1)wt[e].d(1);wt.length=vt.length}},i(t){ft||(y(e.$$.fragment,t),ft=!0)},o(t){O(e.$$.fragment,t),ft=!1},d(t){t&&i(a),C(e,t),t&&i(p),t&&i(N),t&&i(T),t&&i(B),t&&i(_),t&&i(H),t&&i(G),t&&i(q),t&&i(F),g(gt,t),t&&i(M),t&&i(P),t&&i(Q),t&&i(z),t&&i(X),t&&i(Y),t&&i(it),t&&i(ht),g(wt,t),dt=!1,I(ut)}}}function H(t,a,e){let s=[],l=[],n={},o="",c=[];return[s,l,n,o,c,function(){B("/allapi",(function(t){let a=JSON.parse(t.response);console.log(a,"data..."),a.data&&(k.success("Found data."),e(2,n=JSON.parse(a.data)))}))},function(){let t="";if(Object.keys(n).forEach((function(a){n[a].indexOf(o)>-1&&(t=a)})),""==t)return void k.danger("please provide a database name.");let a={collection_name:o,db_name:t},s="/api/"+t+"/"+o;N.post(s,a,{headers:{"Content-Type":"application/json"}}).then((t=>{e(4,c=t.data.data),console.log("Mongo Data: ",t.data)}),(t=>{console.log(t)}))},function(){let t="";if(Object.keys(n).forEach((function(a){n[a].indexOf(o)>-1&&(t=a)})),""==t)return void window.console.log("cannot find database for collection");let a={collection_name:o,db_name:t};N.post("/deletedata",a,{headers:{"Content-Type":"application/json"}}).then((t=>{e(4,c=[]),window.console.log("Response: ",t.data)}),(t=>{window.console.log(t)}))},function(t,a){T[t?"unshift":"push"]((()=>{s[a]=t,e(0,s)}))},function(){o=this.value,e(3,o)},function(t,a){T[t?"unshift":"push"]((()=>{l[a]=t,e(1,l)}))}]}export default class extends t{constructor(t){super(),a(this,t,H,_,e,{})}}
