import{S as a,i as e,s,j as r,m as t,o as n,a5 as o,v as c,r as l,w as i,k as p,e as h,t as f,l as v,n as m,c as u,a as d,g as w,d as E,b,N as y,f as g,F as P,G as I,O as N,u as T,Q as k,a3 as B,a4 as L,B as x}from"../../chunks/vendor-5cf7a4b5.js";import{T as C,n as U}from"../../chunks/Toast-8167f713.js";import{T as $}from"../../chunks/index-6469371a.js";function R(a){let e,s,p;function h(e){a[5](e)}let f={title:"Logfiles",headers:Object.keys(a[0][0])};return void 0!==a[0]&&(f.data=a[0]),e=new $({props:f}),B.push((()=>L(e,"data",h))),{c(){r(e.$$.fragment)},l(a){t(e.$$.fragment,a)},m(a,s){n(e,a,s),p=!0},p(a,r){const t={};1&r&&(t.headers=Object.keys(a[0][0])),!s&&1&r&&(s=!0,t.data=a[0],o((()=>s=!1))),e.$set(t)},i(a){p||(c(e.$$.fragment,a),p=!0)},o(a){l(e.$$.fragment,a),p=!1},d(a){i(e,a)}}}function S(a){let e,s,o,B,L,U,$,S,V,A,F,O,j,q,M,X,G,J,Q,z,K,W,Y,Z,_,aa,ea,sa,ra,ta,na,oa,ca,la,ia,pa,ha,fa,va,ma,ua,da,wa,Ea,ba,ya,ga,Pa,Ia,Na,Ta,ka,Ba,La,xa,Ca,Ua,$a,Ra,Sa,Da,Ha,Va,Aa,Fa,Oa,ja,qa,Ma,Xa,Ga,Ja,Qa,za,Ka,Wa,Ya,Za,_a,ae,ee,se,re,te,ne,oe,ce,le,ie,pe,he,fe,ve,me,ue,de,we,Ee,be,ye,ge,Pe,Ie,Ne,Te,ke,Be,Le,xe,Ce,Ue,$e,Re,Se,De,He,Ve,Ae,Fe,Oe,je,qe,Me,Xe,Ge,Je,Qe,ze;e=new C({});let Ke=a[0].length>0&&R(a);return{c(){r(e.$$.fragment),s=p(),o=h("hr"),B=p(),L=h("div"),U=h("h1"),$=h("b"),S=f("Recovery Handlers"),V=p(),A=h("hr"),F=p(),O=h("h2"),j=f("Upload Checkpoint"),q=p(),M=h("form"),X=h("p"),G=h("label"),J=h("b"),Q=f("Image Tag"),z=p(),K=h("input"),W=p(),Y=h("p"),Z=h("label"),_=h("b"),aa=f("Image Version"),ea=p(),sa=h("input"),ra=p(),ta=h("p"),na=h("label"),oa=h("b"),ca=f("Container Name"),la=p(),ia=h("input"),pa=p(),ha=h("p"),fa=h("label"),va=h("b"),ma=f("Container Ports (8080:8080,443:443)"),ua=p(),da=h("input"),wa=p(),Ea=h("p"),ba=h("label"),ya=h("b"),ga=f("Container Networks"),Pa=p(),Ia=h("input"),Na=p(),Ta=h("p"),ka=h("label"),Ba=h("b"),La=f("Container Volumes"),xa=p(),Ca=h("input"),Ua=p(),$a=h("p"),Ra=h("label"),Sa=h("b"),Da=f("Container Privileged (yes, no)"),Ha=p(),Va=h("input"),Aa=p(),Fa=h("p"),Oa=h("label"),ja=h("b"),qa=f("File"),Ma=p(),Xa=h("input"),Ga=p(),Ja=h("p"),Qa=h("input"),za=p(),Ka=h("hr"),Wa=p(),Ya=h("h2"),Za=f("Recovery Actions"),_a=p(),ae=h("div"),ee=h("div"),se=h("button"),re=f("Snapshot Container ( create image as .tar )"),te=p(),ne=h("div"),oe=h("input"),ce=p(),le=h("div"),ie=h("div"),pe=h("button"),he=f("Recover Container ( load from .tar )"),fe=p(),ve=h("div"),me=h("input"),ue=p(),de=h("div"),we=h("div"),Ee=h("button"),be=f("Download Snapshot ( as .tar )"),ye=p(),ge=h("div"),Pe=h("input"),Ie=p(),Ne=h("hr"),Te=p(),ke=h("h2"),Be=f("Container Snapshots"),Le=p(),xe=h("hr"),Ce=p(),Ue=h("h2"),$e=f("Log Files"),Re=p(),Se=h("form"),De=h("p"),He=h("label"),Ve=h("b"),Ae=f(".csv File"),Fe=p(),Oe=h("input"),je=p(),qe=h("p"),Me=h("input"),Xe=p(),Ke&&Ke.c(),Ge=v(),this.h()},l(a){t(e.$$.fragment,a),s=m(a),o=u(a,"HR",{class:!0}),B=m(a),L=u(a,"DIV",{class:!0});var r=d(L);U=u(r,"H1",{class:!0,style:!0});var n=d(U);$=u(n,"B",{});var c=d($);S=w(c,"Recovery Handlers"),c.forEach(E),n.forEach(E),r.forEach(E),V=m(a),A=u(a,"HR",{class:!0}),F=m(a),O=u(a,"H2",{});var l=d(O);j=w(l,"Upload Checkpoint"),l.forEach(E),q=m(a),M=u(a,"FORM",{class:!0,enctype:!0});var i=d(M);X=u(i,"P",{});var p=d(X);G=u(p,"LABEL",{});var h=d(G);J=u(h,"B",{});var f=d(J);Q=w(f,"Image Tag"),f.forEach(E),h.forEach(E),z=m(p),K=u(p,"INPUT",{class:!0,name:!0,type:!0}),p.forEach(E),W=m(i),Y=u(i,"P",{});var b=d(Y);Z=u(b,"LABEL",{});var y=d(Z);_=u(y,"B",{});var g=d(_);aa=w(g,"Image Version"),g.forEach(E),y.forEach(E),ea=m(b),sa=u(b,"INPUT",{class:!0,name:!0,type:!0}),b.forEach(E),ra=m(i),ta=u(i,"P",{});var P=d(ta);na=u(P,"LABEL",{});var I=d(na);oa=u(I,"B",{});var N=d(oa);ca=w(N,"Container Name"),N.forEach(E),I.forEach(E),la=m(P),ia=u(P,"INPUT",{class:!0,name:!0,type:!0}),P.forEach(E),pa=m(i),ha=u(i,"P",{});var T=d(ha);fa=u(T,"LABEL",{});var k=d(fa);va=u(k,"B",{});var x=d(va);ma=w(x,"Container Ports (8080:8080,443:443)"),x.forEach(E),k.forEach(E),ua=m(T),da=u(T,"INPUT",{class:!0,name:!0,type:!0}),T.forEach(E),wa=m(i),Ea=u(i,"P",{});var C=d(Ea);ba=u(C,"LABEL",{});var R=d(ba);ya=u(R,"B",{});var D=d(ya);ga=w(D,"Container Networks"),D.forEach(E),R.forEach(E),Pa=m(C),Ia=u(C,"INPUT",{class:!0,name:!0,type:!0}),C.forEach(E),Na=m(i),Ta=u(i,"P",{});var H=d(Ta);ka=u(H,"LABEL",{});var Je=d(ka);Ba=u(Je,"B",{});var Qe=d(Ba);La=w(Qe,"Container Volumes"),Qe.forEach(E),Je.forEach(E),xa=m(H),Ca=u(H,"INPUT",{class:!0,name:!0,type:!0}),H.forEach(E),Ua=m(i),$a=u(i,"P",{});var ze=d($a);Ra=u(ze,"LABEL",{});var We=d(Ra);Sa=u(We,"B",{});var Ye=d(Sa);Da=w(Ye,"Container Privileged (yes, no)"),Ye.forEach(E),We.forEach(E),Ha=m(ze),Va=u(ze,"INPUT",{class:!0,name:!0,type:!0}),ze.forEach(E),Aa=m(i),Fa=u(i,"P",{});var Ze=d(Fa);Oa=u(Ze,"LABEL",{class:!0});var _e=d(Oa);ja=u(_e,"B",{});var as=d(ja);qa=w(as,"File"),as.forEach(E),_e.forEach(E),Ma=m(Ze),Xa=u(Ze,"INPUT",{class:!0,type:!0,name:!0}),Ze.forEach(E),Ga=m(i),Ja=u(i,"P",{});var es=d(Ja);Qa=u(es,"INPUT",{class:!0,type:!0,value:!0}),es.forEach(E),i.forEach(E),za=m(a),Ka=u(a,"HR",{class:!0}),Wa=m(a),Ya=u(a,"H2",{});var ss=d(Ya);Za=w(ss,"Recovery Actions"),ss.forEach(E),_a=m(a),ae=u(a,"DIV",{class:!0});var rs=d(ae);ee=u(rs,"DIV",{class:!0});var ts=d(ee);se=u(ts,"BUTTON",{class:!0});var ns=d(se);re=w(ns,"Snapshot Container ( create image as .tar )"),ns.forEach(E),ts.forEach(E),te=m(rs),ne=u(rs,"DIV",{class:!0});var os=d(ne);oe=u(os,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),os.forEach(E),rs.forEach(E),ce=m(a),le=u(a,"DIV",{class:!0});var cs=d(le);ie=u(cs,"DIV",{class:!0});var ls=d(ie);pe=u(ls,"BUTTON",{class:!0});var is=d(pe);he=w(is,"Recover Container ( load from .tar )"),is.forEach(E),ls.forEach(E),fe=m(cs),ve=u(cs,"DIV",{class:!0});var ps=d(ve);me=u(ps,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),ps.forEach(E),cs.forEach(E),ue=m(a),de=u(a,"DIV",{class:!0});var hs=d(de);we=u(hs,"DIV",{class:!0});var fs=d(we);Ee=u(fs,"BUTTON",{class:!0});var vs=d(Ee);be=w(vs,"Download Snapshot ( as .tar )"),vs.forEach(E),fs.forEach(E),ye=m(hs),ge=u(hs,"DIV",{class:!0});var ms=d(ge);Pe=u(ms,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),ms.forEach(E),hs.forEach(E),Ie=m(a),Ne=u(a,"HR",{class:!0}),Te=m(a),ke=u(a,"H2",{});var us=d(ke);Be=w(us,"Container Snapshots"),us.forEach(E),Le=m(a),xe=u(a,"HR",{class:!0}),Ce=m(a),Ue=u(a,"H2",{});var ds=d(Ue);$e=w(ds,"Log Files"),ds.forEach(E),Re=m(a),Se=u(a,"FORM",{class:!0,enctype:!0});var ws=d(Se);De=u(ws,"P",{});var Es=d(De);He=u(Es,"LABEL",{class:!0});var bs=d(He);Ve=u(bs,"B",{});var ys=d(Ve);Ae=w(ys,".csv File"),ys.forEach(E),bs.forEach(E),Fe=m(Es),Oe=u(Es,"INPUT",{class:!0,type:!0,name:!0}),Es.forEach(E),je=m(ws),qe=u(ws,"P",{});var gs=d(qe);Me=u(gs,"INPUT",{class:!0,type:!0,value:!0}),gs.forEach(E),ws.forEach(E),Xe=m(a),Ke&&Ke.l(a),Ge=v(),this.h()},h(){b(o,"class","svelte-drd2kv"),b(U,"class","w3-text-yellow"),y(U,"text-shadow","1px 1px 0 #444"),b(L,"class","w3-panel w3-blue"),b(A,"class","svelte-drd2kv"),b(K,"class","w3-input w3-border"),b(K,"name","imagetag"),b(K,"type","text"),b(sa,"class","w3-input w3-border"),b(sa,"name","imageversion"),b(sa,"type","text"),b(ia,"class","w3-input w3-border"),b(ia,"name","containername"),b(ia,"type","text"),b(da,"class","w3-input w3-border"),b(da,"name","containerports"),b(da,"type","text"),b(Ia,"class","w3-input w3-border"),b(Ia,"name","containernetworks"),b(Ia,"type","text"),b(Ca,"class","w3-input w3-border"),b(Ca,"name","containervolumes"),b(Ca,"type","text"),b(Va,"class","w3-input w3-border"),b(Va,"name","containerprivilege"),b(Va,"type","text"),b(Oa,"class","w3-text-blue"),b(Xa,"class","w3-input w3-border"),b(Xa,"type","file"),b(Xa,"name","file"),b(Qa,"class","w3-col w3-input w3-border w3-margin-bottom"),b(Qa,"type","submit"),Qa.value="upload",b(M,"class","w3-container w3-card-4"),b(M,"enctype","multipart/form-data"),b(Ka,"class","svelte-drd2kv"),b(se,"class","w3-col w3-input w3-border w3-button"),b(ee,"class","w3-third"),b(oe,"class","w3-input w3-border"),b(oe,"name","containername"),b(oe,"type","text"),b(oe,"placeholder","Container Name"),b(ne,"class","w3-rest"),b(ae,"class","w3-row w3-section"),b(pe,"class","w3-col w3-input w3-border w3-button"),b(ie,"class","w3-third"),b(me,"class","w3-input w3-border"),b(me,"name","containername"),b(me,"type","text"),b(me,"placeholder","Container Name"),b(ve,"class","w3-rest"),b(le,"class","w3-row w3-section"),b(Ee,"class","w3-col w3-input w3-border w3-button"),b(we,"class","w3-third"),b(Pe,"class","w3-input w3-border"),b(Pe,"name","snapshotname"),b(Pe,"type","text"),b(Pe,"placeholder","Snapshot Name"),b(ge,"class","w3-rest"),b(de,"class","w3-row w3-section"),b(Ne,"class","svelte-drd2kv"),b(xe,"class","svelte-drd2kv"),b(He,"class","w3-text-blue"),b(Oe,"class","w3-input w3-border"),b(Oe,"type","file"),b(Oe,"name","file"),b(Me,"class","w3-col w3-input w3-border w3-margin-bottom"),b(Me,"type","submit"),Me.value="upload",b(Se,"class","w3-container w3-card-4"),b(Se,"enctype","multipart/form-data")},m(r,t){n(e,r,t),g(r,s,t),g(r,o,t),g(r,B,t),g(r,L,t),P(L,U),P(U,$),P($,S),g(r,V,t),g(r,A,t),g(r,F,t),g(r,O,t),P(O,j),g(r,q,t),g(r,M,t),P(M,X),P(X,G),P(G,J),P(J,Q),P(X,z),P(X,K),P(M,W),P(M,Y),P(Y,Z),P(Z,_),P(_,aa),P(Y,ea),P(Y,sa),P(M,ra),P(M,ta),P(ta,na),P(na,oa),P(oa,ca),P(ta,la),P(ta,ia),P(M,pa),P(M,ha),P(ha,fa),P(fa,va),P(va,ma),P(ha,ua),P(ha,da),P(M,wa),P(M,Ea),P(Ea,ba),P(ba,ya),P(ya,ga),P(Ea,Pa),P(Ea,Ia),P(M,Na),P(M,Ta),P(Ta,ka),P(ka,Ba),P(Ba,La),P(Ta,xa),P(Ta,Ca),P(M,Ua),P(M,$a),P($a,Ra),P(Ra,Sa),P(Sa,Da),P($a,Ha),P($a,Va),P(M,Aa),P(M,Fa),P(Fa,Oa),P(Oa,ja),P(ja,qa),P(Fa,Ma),P(Fa,Xa),P(M,Ga),P(M,Ja),P(Ja,Qa),g(r,za,t),g(r,Ka,t),g(r,Wa,t),g(r,Ya,t),P(Ya,Za),g(r,_a,t),g(r,ae,t),P(ae,ee),P(ee,se),P(se,re),P(ae,te),P(ae,ne),P(ne,oe),g(r,ce,t),g(r,le,t),P(le,ie),P(ie,pe),P(pe,he),P(le,fe),P(le,ve),P(ve,me),g(r,ue,t),g(r,de,t),P(de,we),P(we,Ee),P(Ee,be),P(de,ye),P(de,ge),P(ge,Pe),g(r,Ie,t),g(r,Ne,t),g(r,Te,t),g(r,ke,t),P(ke,Be),g(r,Le,t),g(r,xe,t),g(r,Ce,t),g(r,Ue,t),P(Ue,$e),g(r,Re,t),g(r,Se,t),P(Se,De),P(De,He),P(He,Ve),P(Ve,Ae),P(De,Fe),P(De,Oe),P(Se,je),P(Se,qe),P(qe,Me),g(r,Xe,t),Ke&&Ke.m(r,t),g(r,Ge,t),Je=!0,Qe||(ze=[I(M,"submit",N(a[1])),I(se,"click",D),I(pe,"click",H),I(Ee,"click",H),I(Se,"submit",N(a[2]))],Qe=!0)},p(a,[e]){a[0].length>0?Ke?(Ke.p(a,e),1&e&&c(Ke,1)):(Ke=R(a),Ke.c(),c(Ke,1),Ke.m(Ge.parentNode,Ge)):Ke&&(x(),l(Ke,1,1,(()=>{Ke=null})),T())},i(a){Je||(c(e.$$.fragment,a),c(Ke),Je=!0)},o(a){l(e.$$.fragment,a),l(Ke),Je=!1},d(a){i(e,a),a&&E(s),a&&E(o),a&&E(B),a&&E(L),a&&E(V),a&&E(A),a&&E(F),a&&E(O),a&&E(q),a&&E(M),a&&E(za),a&&E(Ka),a&&E(Wa),a&&E(Ya),a&&E(_a),a&&E(ae),a&&E(ce),a&&E(le),a&&E(ue),a&&E(de),a&&E(Ie),a&&E(Ne),a&&E(Te),a&&E(ke),a&&E(Le),a&&E(xe),a&&E(Ce),a&&E(Ue),a&&E(Re),a&&E(Se),a&&E(Xe),Ke&&Ke.d(a),a&&E(Ge),Qe=!1,k(ze)}}}function D(){}function H(){}function V(a,e,s){let{snapshots:r}=e,{logfiles:t=[]}=e,{checkpoints:n}=e;return a.$$set=a=>{"snapshots"in a&&s(3,r=a.snapshots),"logfiles"in a&&s(0,t=a.logfiles),"checkpoints"in a&&s(4,n=a.checkpoints)},[t,async function(){var a=new FormData;let e=!1;if(this.querySelectorAll("input").forEach((function(s){""!=s.name&&("file"==s.name?(a.append(s.name,s.files[0]),e=!0):a.append(s.name,s.value))})),e){var s=new XMLHttpRequest;s.open("POST","/checkpoints"),s.onreadystatechange=function(){if(4!==xhr.readyState||200!==xhr.status)return!1;console.log("response from checkpoint:",[xhr.response])},s.send(a)}else U.danger("please select a file.")},async function(){var a=new FormData;let e=!1,r="";this.querySelectorAll("input").forEach((function(s){""!=s.name&&"file"==s.name&&(console.log(s.files[0]),a.append(s.name,s.files[0]),r=s.files[0].name,e=!0)}));let n="/logfiles/"+r;if(e){var o=new XMLHttpRequest;o.open("POST",n),o.onreadystatechange=function(){if(4!==o.readyState||200!==o.status)return!1;{let a=JSON.parse(o.response);s(0,t=[...t,a.data]),console.log("response from checkpoint:",[o.response])}},o.send(a)}else U.danger("please select a file.")},r,n,function(a){t=a,s(0,t)}]}export default class extends a{constructor(a){super(),e(this,a,V,S,s,{snapshots:3,logfiles:0,checkpoints:4})}}
