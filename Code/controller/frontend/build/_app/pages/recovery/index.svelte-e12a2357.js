import{S as a,i as e,s,j as r,m as t,o as n,a5 as o,v as c,r as l,w as i,k as p,e as h,t as f,l as v,n as d,c as u,a as m,g as w,d as E,b,N as y,f as g,F as I,G as P,O as T,u as N,Q as k,a3 as L,a4 as B,B as x}from"../../chunks/vendor-5cf7a4b5.js";import{T as U,n as C}from"../../chunks/Toast-8167f713.js";import{T as D}from"../../chunks/index-6469371a.js";function $(a){let e,s,p;function h(e){a[5](e)}let f={title:"Logfiles",headers:Object.keys(a[0][0])};return void 0!==a[0]&&(f.data=a[0]),e=new D({props:f}),L.push((()=>B(e,"data",h))),{c(){r(e.$$.fragment)},l(a){t(e.$$.fragment,a)},m(a,s){n(e,a,s),p=!0},p(a,r){const t={};1&r&&(t.headers=Object.keys(a[0][0])),!s&&1&r&&(s=!0,t.data=a[0],o((()=>s=!1))),e.$set(t)},i(a){p||(c(e.$$.fragment,a),p=!0)},o(a){l(e.$$.fragment,a),p=!1},d(a){i(e,a)}}}function V(a){let e,s,o,L,B,C,D,V,H,A,O,F,j,q,M,X,G,J,Q,z,K,W,Y,Z,_,aa,ea,sa,ra,ta,na,oa,ca,la,ia,pa,ha,fa,va,da,ua,ma,wa,Ea,ba,ya,ga,Ia,Pa,Ta,Na,ka,La,Ba,xa,Ua,Ca,Da,$a,Va,Ra,Sa,Ha,Aa,Oa,Fa,ja,qa,Ma,Xa,Ga,Ja,Qa,za,Ka,Wa,Ya,Za,_a,ae,ee,se,re,te,ne,oe,ce,le,ie,pe,he,fe,ve,de,ue,me,we,Ee,be,ye,ge,Ie,Pe,Te,Ne,ke,Le,Be,xe,Ue,Ce,De,$e,Ve,Re,Se,He,Ae,Oe,Fe,je,qe,Me,Xe,Ge,Je,Qe,ze,Ke,We,Ye,Ze,_e,as,es,ss,rs,ts;e=new U({});let ns=a[0].length>0&&$(a);return{c(){r(e.$$.fragment),s=p(),o=h("hr"),L=p(),B=h("div"),C=h("h1"),D=h("b"),V=f("Recovery Handlers"),H=p(),A=h("hr"),O=p(),F=h("h2"),j=f("Upload Checkpoint"),q=p(),M=h("form"),X=h("p"),G=h("label"),J=h("b"),Q=f("Image Tag"),z=p(),K=h("input"),W=p(),Y=h("p"),Z=h("label"),_=h("b"),aa=f("Image Version"),ea=p(),sa=h("input"),ra=p(),ta=h("p"),na=h("label"),oa=h("b"),ca=f("Container Name"),la=p(),ia=h("input"),pa=p(),ha=h("p"),fa=h("label"),va=h("b"),da=f("Container Ports (8080:8080,443:443)"),ua=p(),ma=h("input"),wa=p(),Ea=h("p"),ba=h("label"),ya=h("b"),ga=f("Container Networks"),Ia=p(),Pa=h("input"),Ta=p(),Na=h("p"),ka=h("label"),La=h("b"),Ba=f("Container Volumes"),xa=p(),Ua=h("input"),Ca=p(),Da=h("p"),$a=h("label"),Va=h("b"),Ra=f("Container Privileged (yes, no)"),Sa=p(),Ha=h("input"),Aa=p(),Oa=h("p"),Fa=h("label"),ja=h("b"),qa=f("File"),Ma=p(),Xa=h("input"),Ga=p(),Ja=h("p"),Qa=h("input"),za=p(),Ka=h("hr"),Wa=p(),Ya=h("h2"),Za=f("Recovery Actions"),_a=p(),ae=h("div"),ee=h("div"),se=h("button"),re=f("Snapshot Container ( create image as .tar )"),te=p(),ne=h("div"),oe=h("input"),ce=p(),le=h("div"),ie=h("div"),pe=h("button"),he=f("Recover Container ( load from .tar )"),fe=p(),ve=h("div"),de=h("input"),ue=p(),me=h("div"),we=h("div"),Ee=h("button"),be=f("Download Snapshot ( as .tar )"),ye=p(),ge=h("div"),Ie=h("input"),Pe=p(),Te=h("hr"),Ne=p(),ke=h("h2"),Le=f("Container Snapshots"),Be=p(),xe=h("hr"),Ue=p(),Ce=h("h2"),De=f("Log Files"),$e=p(),Ve=h("form"),Re=h("p"),Se=h("label"),He=h("b"),Ae=f(".csv File"),Oe=p(),Fe=h("input"),je=p(),qe=h("p"),Me=h("input"),Xe=p(),Ge=h("div"),Je=h("div"),Qe=h("button"),ze=f("Delete Logfile"),Ke=p(),We=h("div"),Ye=h("input"),Ze=p(),_e=h("br"),as=p(),ns&&ns.c(),es=v(),this.h()},l(a){t(e.$$.fragment,a),s=d(a),o=u(a,"HR",{class:!0}),L=d(a),B=u(a,"DIV",{class:!0});var r=m(B);C=u(r,"H1",{class:!0,style:!0});var n=m(C);D=u(n,"B",{});var c=m(D);V=w(c,"Recovery Handlers"),c.forEach(E),n.forEach(E),r.forEach(E),H=d(a),A=u(a,"HR",{class:!0}),O=d(a),F=u(a,"H2",{});var l=m(F);j=w(l,"Upload Checkpoint"),l.forEach(E),q=d(a),M=u(a,"FORM",{class:!0,enctype:!0});var i=m(M);X=u(i,"P",{});var p=m(X);G=u(p,"LABEL",{});var h=m(G);J=u(h,"B",{});var f=m(J);Q=w(f,"Image Tag"),f.forEach(E),h.forEach(E),z=d(p),K=u(p,"INPUT",{class:!0,name:!0,type:!0}),p.forEach(E),W=d(i),Y=u(i,"P",{});var b=m(Y);Z=u(b,"LABEL",{});var y=m(Z);_=u(y,"B",{});var g=m(_);aa=w(g,"Image Version"),g.forEach(E),y.forEach(E),ea=d(b),sa=u(b,"INPUT",{class:!0,name:!0,type:!0}),b.forEach(E),ra=d(i),ta=u(i,"P",{});var I=m(ta);na=u(I,"LABEL",{});var P=m(na);oa=u(P,"B",{});var T=m(oa);ca=w(T,"Container Name"),T.forEach(E),P.forEach(E),la=d(I),ia=u(I,"INPUT",{class:!0,name:!0,type:!0}),I.forEach(E),pa=d(i),ha=u(i,"P",{});var N=m(ha);fa=u(N,"LABEL",{});var k=m(fa);va=u(k,"B",{});var x=m(va);da=w(x,"Container Ports (8080:8080,443:443)"),x.forEach(E),k.forEach(E),ua=d(N),ma=u(N,"INPUT",{class:!0,name:!0,type:!0}),N.forEach(E),wa=d(i),Ea=u(i,"P",{});var U=m(Ea);ba=u(U,"LABEL",{});var $=m(ba);ya=u($,"B",{});var R=m(ya);ga=w(R,"Container Networks"),R.forEach(E),$.forEach(E),Ia=d(U),Pa=u(U,"INPUT",{class:!0,name:!0,type:!0}),U.forEach(E),Ta=d(i),Na=u(i,"P",{});var S=m(Na);ka=u(S,"LABEL",{});var ss=m(ka);La=u(ss,"B",{});var rs=m(La);Ba=w(rs,"Container Volumes"),rs.forEach(E),ss.forEach(E),xa=d(S),Ua=u(S,"INPUT",{class:!0,name:!0,type:!0}),S.forEach(E),Ca=d(i),Da=u(i,"P",{});var ts=m(Da);$a=u(ts,"LABEL",{});var os=m($a);Va=u(os,"B",{});var cs=m(Va);Ra=w(cs,"Container Privileged (yes, no)"),cs.forEach(E),os.forEach(E),Sa=d(ts),Ha=u(ts,"INPUT",{class:!0,name:!0,type:!0}),ts.forEach(E),Aa=d(i),Oa=u(i,"P",{});var ls=m(Oa);Fa=u(ls,"LABEL",{class:!0});var is=m(Fa);ja=u(is,"B",{});var ps=m(ja);qa=w(ps,"File"),ps.forEach(E),is.forEach(E),Ma=d(ls),Xa=u(ls,"INPUT",{class:!0,type:!0,name:!0}),ls.forEach(E),Ga=d(i),Ja=u(i,"P",{});var hs=m(Ja);Qa=u(hs,"INPUT",{class:!0,type:!0,value:!0}),hs.forEach(E),i.forEach(E),za=d(a),Ka=u(a,"HR",{class:!0}),Wa=d(a),Ya=u(a,"H2",{});var fs=m(Ya);Za=w(fs,"Recovery Actions"),fs.forEach(E),_a=d(a),ae=u(a,"DIV",{class:!0});var vs=m(ae);ee=u(vs,"DIV",{class:!0});var ds=m(ee);se=u(ds,"BUTTON",{class:!0});var us=m(se);re=w(us,"Snapshot Container ( create image as .tar )"),us.forEach(E),ds.forEach(E),te=d(vs),ne=u(vs,"DIV",{class:!0});var ms=m(ne);oe=u(ms,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),ms.forEach(E),vs.forEach(E),ce=d(a),le=u(a,"DIV",{class:!0});var ws=m(le);ie=u(ws,"DIV",{class:!0});var Es=m(ie);pe=u(Es,"BUTTON",{class:!0});var bs=m(pe);he=w(bs,"Recover Container ( load from .tar )"),bs.forEach(E),Es.forEach(E),fe=d(ws),ve=u(ws,"DIV",{class:!0});var ys=m(ve);de=u(ys,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),ys.forEach(E),ws.forEach(E),ue=d(a),me=u(a,"DIV",{class:!0});var gs=m(me);we=u(gs,"DIV",{class:!0});var Is=m(we);Ee=u(Is,"BUTTON",{class:!0});var Ps=m(Ee);be=w(Ps,"Download Snapshot ( as .tar )"),Ps.forEach(E),Is.forEach(E),ye=d(gs),ge=u(gs,"DIV",{class:!0});var Ts=m(ge);Ie=u(Ts,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),Ts.forEach(E),gs.forEach(E),Pe=d(a),Te=u(a,"HR",{class:!0}),Ne=d(a),ke=u(a,"H2",{});var Ns=m(ke);Le=w(Ns,"Container Snapshots"),Ns.forEach(E),Be=d(a),xe=u(a,"HR",{class:!0}),Ue=d(a),Ce=u(a,"H2",{});var ks=m(Ce);De=w(ks,"Log Files"),ks.forEach(E),$e=d(a),Ve=u(a,"FORM",{class:!0,enctype:!0});var Ls=m(Ve);Re=u(Ls,"P",{});var Bs=m(Re);Se=u(Bs,"LABEL",{class:!0});var xs=m(Se);He=u(xs,"B",{});var Us=m(He);Ae=w(Us,".csv File"),Us.forEach(E),xs.forEach(E),Oe=d(Bs),Fe=u(Bs,"INPUT",{class:!0,type:!0,name:!0}),Bs.forEach(E),je=d(Ls),qe=u(Ls,"P",{});var Cs=m(qe);Me=u(Cs,"INPUT",{class:!0,type:!0,value:!0}),Cs.forEach(E),Ls.forEach(E),Xe=d(a),Ge=u(a,"DIV",{class:!0});var Ds=m(Ge);Je=u(Ds,"DIV",{class:!0});var $s=m(Je);Qe=u($s,"BUTTON",{class:!0});var Vs=m(Qe);ze=w(Vs,"Delete Logfile"),Vs.forEach(E),$s.forEach(E),Ke=d(Ds),We=u(Ds,"DIV",{class:!0});var Rs=m(We);Ye=u(Rs,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),Rs.forEach(E),Ds.forEach(E),Ze=d(a),_e=u(a,"BR",{}),as=d(a),ns&&ns.l(a),es=v(),this.h()},h(){b(o,"class","svelte-drd2kv"),b(C,"class","w3-text-yellow"),y(C,"text-shadow","1px 1px 0 #444"),b(B,"class","w3-panel w3-blue"),b(A,"class","svelte-drd2kv"),b(K,"class","w3-input w3-border"),b(K,"name","imagetag"),b(K,"type","text"),b(sa,"class","w3-input w3-border"),b(sa,"name","imageversion"),b(sa,"type","text"),b(ia,"class","w3-input w3-border"),b(ia,"name","containername"),b(ia,"type","text"),b(ma,"class","w3-input w3-border"),b(ma,"name","containerports"),b(ma,"type","text"),b(Pa,"class","w3-input w3-border"),b(Pa,"name","containernetworks"),b(Pa,"type","text"),b(Ua,"class","w3-input w3-border"),b(Ua,"name","containervolumes"),b(Ua,"type","text"),b(Ha,"class","w3-input w3-border"),b(Ha,"name","containerprivilege"),b(Ha,"type","text"),b(Fa,"class","w3-text-blue"),b(Xa,"class","w3-input w3-border"),b(Xa,"type","file"),b(Xa,"name","file"),b(Qa,"class","w3-col w3-input w3-border w3-margin-bottom"),b(Qa,"type","submit"),Qa.value="upload",b(M,"class","w3-container w3-card-4"),b(M,"enctype","multipart/form-data"),b(Ka,"class","svelte-drd2kv"),b(se,"class","w3-col w3-input w3-border w3-button"),b(ee,"class","w3-third"),b(oe,"class","w3-input w3-border"),b(oe,"name","containername"),b(oe,"type","text"),b(oe,"placeholder","Container Name"),b(ne,"class","w3-rest"),b(ae,"class","w3-row w3-section"),b(pe,"class","w3-col w3-input w3-border w3-button"),b(ie,"class","w3-third"),b(de,"class","w3-input w3-border"),b(de,"name","containername"),b(de,"type","text"),b(de,"placeholder","Container Name"),b(ve,"class","w3-rest"),b(le,"class","w3-row w3-section"),b(Ee,"class","w3-col w3-input w3-border w3-button"),b(we,"class","w3-third"),b(Ie,"class","w3-input w3-border"),b(Ie,"name","snapshotname"),b(Ie,"type","text"),b(Ie,"placeholder","Snapshot Name"),b(ge,"class","w3-rest"),b(me,"class","w3-row w3-section"),b(Te,"class","svelte-drd2kv"),b(xe,"class","svelte-drd2kv"),b(Se,"class","w3-text-blue"),b(Fe,"class","w3-input w3-border"),b(Fe,"type","file"),b(Fe,"name","file"),b(Me,"class","w3-col w3-input w3-border w3-margin-bottom"),b(Me,"type","submit"),Me.value="upload",b(Ve,"class","w3-container w3-card-4"),b(Ve,"enctype","multipart/form-data"),b(Qe,"class","w3-col w3-input w3-border w3-button"),b(Je,"class","w3-third"),b(Ye,"class","w3-input w3-border"),b(Ye,"name","logfileid"),b(Ye,"type","text"),b(Ye,"placeholder","Logfile ID"),b(We,"class","w3-rest"),b(Ge,"class","w3-row w3-section")},m(r,t){n(e,r,t),g(r,s,t),g(r,o,t),g(r,L,t),g(r,B,t),I(B,C),I(C,D),I(D,V),g(r,H,t),g(r,A,t),g(r,O,t),g(r,F,t),I(F,j),g(r,q,t),g(r,M,t),I(M,X),I(X,G),I(G,J),I(J,Q),I(X,z),I(X,K),I(M,W),I(M,Y),I(Y,Z),I(Z,_),I(_,aa),I(Y,ea),I(Y,sa),I(M,ra),I(M,ta),I(ta,na),I(na,oa),I(oa,ca),I(ta,la),I(ta,ia),I(M,pa),I(M,ha),I(ha,fa),I(fa,va),I(va,da),I(ha,ua),I(ha,ma),I(M,wa),I(M,Ea),I(Ea,ba),I(ba,ya),I(ya,ga),I(Ea,Ia),I(Ea,Pa),I(M,Ta),I(M,Na),I(Na,ka),I(ka,La),I(La,Ba),I(Na,xa),I(Na,Ua),I(M,Ca),I(M,Da),I(Da,$a),I($a,Va),I(Va,Ra),I(Da,Sa),I(Da,Ha),I(M,Aa),I(M,Oa),I(Oa,Fa),I(Fa,ja),I(ja,qa),I(Oa,Ma),I(Oa,Xa),I(M,Ga),I(M,Ja),I(Ja,Qa),g(r,za,t),g(r,Ka,t),g(r,Wa,t),g(r,Ya,t),I(Ya,Za),g(r,_a,t),g(r,ae,t),I(ae,ee),I(ee,se),I(se,re),I(ae,te),I(ae,ne),I(ne,oe),g(r,ce,t),g(r,le,t),I(le,ie),I(ie,pe),I(pe,he),I(le,fe),I(le,ve),I(ve,de),g(r,ue,t),g(r,me,t),I(me,we),I(we,Ee),I(Ee,be),I(me,ye),I(me,ge),I(ge,Ie),g(r,Pe,t),g(r,Te,t),g(r,Ne,t),g(r,ke,t),I(ke,Le),g(r,Be,t),g(r,xe,t),g(r,Ue,t),g(r,Ce,t),I(Ce,De),g(r,$e,t),g(r,Ve,t),I(Ve,Re),I(Re,Se),I(Se,He),I(He,Ae),I(Re,Oe),I(Re,Fe),I(Ve,je),I(Ve,qe),I(qe,Me),g(r,Xe,t),g(r,Ge,t),I(Ge,Je),I(Je,Qe),I(Qe,ze),I(Ge,Ke),I(Ge,We),I(We,Ye),g(r,Ze,t),g(r,_e,t),g(r,as,t),ns&&ns.m(r,t),g(r,es,t),ss=!0,rs||(ts=[P(M,"submit",T(a[1])),P(se,"click",R),P(pe,"click",S),P(Ee,"click",S),P(Ve,"submit",T(a[2])),P(Qe,"click",deleteLogfile)],rs=!0)},p(a,[e]){a[0].length>0?ns?(ns.p(a,e),1&e&&c(ns,1)):(ns=$(a),ns.c(),c(ns,1),ns.m(es.parentNode,es)):ns&&(x(),l(ns,1,1,(()=>{ns=null})),N())},i(a){ss||(c(e.$$.fragment,a),c(ns),ss=!0)},o(a){l(e.$$.fragment,a),l(ns),ss=!1},d(a){i(e,a),a&&E(s),a&&E(o),a&&E(L),a&&E(B),a&&E(H),a&&E(A),a&&E(O),a&&E(F),a&&E(q),a&&E(M),a&&E(za),a&&E(Ka),a&&E(Wa),a&&E(Ya),a&&E(_a),a&&E(ae),a&&E(ce),a&&E(le),a&&E(ue),a&&E(me),a&&E(Pe),a&&E(Te),a&&E(Ne),a&&E(ke),a&&E(Be),a&&E(xe),a&&E(Ue),a&&E(Ce),a&&E($e),a&&E(Ve),a&&E(Xe),a&&E(Ge),a&&E(Ze),a&&E(_e),a&&E(as),ns&&ns.d(a),a&&E(es),rs=!1,k(ts)}}}function R(){}function S(){}function H(a,e,s){let{snapshots:r}=e,{logfiles:t=[]}=e,{checkpoints:n}=e;return a.$$set=a=>{"snapshots"in a&&s(3,r=a.snapshots),"logfiles"in a&&s(0,t=a.logfiles),"checkpoints"in a&&s(4,n=a.checkpoints)},[t,async function(){var a=new FormData;let e=!1;if(this.querySelectorAll("input").forEach((function(s){""!=s.name&&("file"==s.name?(a.append(s.name,s.files[0]),e=!0):a.append(s.name,s.value))})),e){var s=new XMLHttpRequest;s.open("POST","/checkpoints"),s.onreadystatechange=function(){if(4!==xhr.readyState||200!==xhr.status)return!1;console.log("response from checkpoint:",[xhr.response])},s.send(a)}else C.danger("please select a file.")},async function(){var a=new FormData;let e=!1,r="";this.querySelectorAll("input").forEach((function(s){""!=s.name&&"file"==s.name&&(console.log(s.files[0]),a.append(s.name,s.files[0]),r=s.files[0].name,e=!0)}));let n="/logfiles/"+r;if(e){var o=new XMLHttpRequest;o.open("POST",n),o.onreadystatechange=function(){if(4!==o.readyState||200!==o.status)return!1;{let a=JSON.parse(o.response);s(0,t=[...t,a.data]),console.log("response from checkpoint:",[o.response])}},o.send(a)}else C.danger("please select a file.")},r,n,function(a){t=a,s(0,t)}]}export default class extends a{constructor(a){super(),e(this,a,H,V,s,{snapshots:3,logfiles:0,checkpoints:4})}}
