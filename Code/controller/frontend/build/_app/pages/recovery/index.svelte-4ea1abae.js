import{S as a,i as e,s,j as t,m as r,o as n,a5 as o,v as c,r as l,w as i,k as p,e as h,t as f,l as d,n as v,c as u,a as m,g as w,d as E,b,N as y,f as g,F as I,G as P,O as N,u as T,Q as k,a3 as $,a4 as L,B}from"../../chunks/vendor-5cf7a4b5.js";import{T as x,n as U}from"../../chunks/Toast-8167f713.js";import{T as C}from"../../chunks/index-6469371a.js";function D(a){let e,s,p;function h(e){a[5](e)}let f={title:"Snapshots",headers:Object.keys(a[0][0])};return void 0!==a[0]&&(f.data=a[0]),e=new C({props:f}),$.push((()=>L(e,"data",h))),{c(){t(e.$$.fragment)},l(a){r(e.$$.fragment,a)},m(a,s){n(e,a,s),p=!0},p(a,t){const r={};1&t&&(r.headers=Object.keys(a[0][0])),!s&&1&t&&(s=!0,r.data=a[0],o((()=>s=!1))),e.$set(r)},i(a){p||(c(e.$$.fragment,a),p=!0)},o(a){l(e.$$.fragment,a),p=!1},d(a){i(e,a)}}}function V(a){let e,s,p;function h(e){a[6](e)}let f={title:"Logfiles",headers:Object.keys(a[1][0])};return void 0!==a[1]&&(f.data=a[1]),e=new C({props:f}),$.push((()=>L(e,"data",h))),{c(){t(e.$$.fragment)},l(a){r(e.$$.fragment,a)},m(a,s){n(e,a,s),p=!0},p(a,t){const r={};2&t&&(r.headers=Object.keys(a[1][0])),!s&&2&t&&(s=!0,r.data=a[1],o((()=>s=!1))),e.$set(r)},i(a){p||(c(e.$$.fragment,a),p=!0)},o(a){l(e.$$.fragment,a),p=!1},d(a){i(e,a)}}}function R(a){let e,s,o,$,L,U,C,R,O,A,F,j,q,M,X,G,J,Q,z,K,W,Y,Z,_,aa,ea,sa,ta,ra,na,oa,ca,la,ia,pa,ha,fa,da,va,ua,ma,wa,Ea,ba,ya,ga,Ia,Pa,Na,Ta,ka,$a,La,Ba,xa,Ua,Ca,Da,Va,Ra,Sa,Ha,Oa,Aa,Fa,ja,qa,Ma,Xa,Ga,Ja,Qa,za,Ka,Wa,Ya,Za,_a,ae,ee,se,te,re,ne,oe,ce,le,ie,pe,he,fe,de,ve,ue,me,we,Ee,be,ye,ge,Ie,Pe,Ne,Te,ke,$e,Le,Be,xe,Ue,Ce,De,Ve,Re,Se,He,Oe,Ae,Fe,je,qe,Me,Xe,Ge,Je,Qe,ze,Ke,We,Ye,Ze,_e,as,es,ss,ts,rs,ns,os;e=new x({});let cs=a[0].length>0&&D(a),ls=a[1].length>0&&V(a);return{c(){t(e.$$.fragment),s=p(),o=h("hr"),$=p(),L=h("div"),U=h("h1"),C=h("b"),R=f("Recovery Handlers"),O=p(),A=h("hr"),F=p(),j=h("h2"),q=f("Upload Checkpoint"),M=p(),X=h("form"),G=h("p"),J=h("label"),Q=h("b"),z=f("Image Tag"),K=p(),W=h("input"),Y=p(),Z=h("p"),_=h("label"),aa=h("b"),ea=f("Image Version"),sa=p(),ta=h("input"),ra=p(),na=h("p"),oa=h("label"),ca=h("b"),la=f("Container Name"),ia=p(),pa=h("input"),ha=p(),fa=h("p"),da=h("label"),va=h("b"),ua=f("Container Ports (8080:8080,443:443)"),ma=p(),wa=h("input"),Ea=p(),ba=h("p"),ya=h("label"),ga=h("b"),Ia=f("Container Networks"),Pa=p(),Na=h("input"),Ta=p(),ka=h("p"),$a=h("label"),La=h("b"),Ba=f("Container Volumes"),xa=p(),Ua=h("input"),Ca=p(),Da=h("p"),Va=h("label"),Ra=h("b"),Sa=f("Container Privileged (yes, no)"),Ha=p(),Oa=h("input"),Aa=p(),Fa=h("p"),ja=h("label"),qa=h("b"),Ma=f("File"),Xa=p(),Ga=h("input"),Ja=p(),Qa=h("p"),za=h("input"),Ka=p(),Wa=h("hr"),Ya=p(),Za=h("h2"),_a=f("Recovery Actions"),ae=p(),ee=h("div"),se=h("div"),te=h("button"),re=f("Snapshot Container ( create image as .tar )"),ne=p(),oe=h("div"),ce=h("input"),le=p(),ie=h("div"),pe=h("div"),he=h("button"),fe=f("Recover Container ( load from .tar )"),de=p(),ve=h("div"),ue=h("input"),me=p(),we=h("div"),Ee=h("div"),be=h("button"),ye=f("Download Snapshot ( as .tar )"),ge=p(),Ie=h("div"),Pe=h("input"),Ne=p(),Te=h("hr"),ke=p(),$e=h("h2"),Le=f("Container Snapshots"),Be=p(),cs&&cs.c(),xe=p(),Ue=h("hr"),Ce=p(),De=h("h2"),Ve=f("Log Files"),Re=p(),Se=h("form"),He=h("p"),Oe=h("label"),Ae=h("b"),Fe=f(".csv File"),je=p(),qe=h("input"),Me=p(),Xe=h("p"),Ge=h("input"),Je=p(),Qe=h("div"),ze=h("div"),Ke=h("button"),We=f("Delete Logfile"),Ye=p(),Ze=h("div"),_e=h("input"),as=p(),es=h("br"),ss=p(),ls&&ls.c(),ts=d(),this.h()},l(a){r(e.$$.fragment,a),s=v(a),o=u(a,"HR",{class:!0}),$=v(a),L=u(a,"DIV",{class:!0});var t=m(L);U=u(t,"H1",{class:!0,style:!0});var n=m(U);C=u(n,"B",{});var c=m(C);R=w(c,"Recovery Handlers"),c.forEach(E),n.forEach(E),t.forEach(E),O=v(a),A=u(a,"HR",{class:!0}),F=v(a),j=u(a,"H2",{});var l=m(j);q=w(l,"Upload Checkpoint"),l.forEach(E),M=v(a),X=u(a,"FORM",{class:!0,enctype:!0});var i=m(X);G=u(i,"P",{});var p=m(G);J=u(p,"LABEL",{});var h=m(J);Q=u(h,"B",{});var f=m(Q);z=w(f,"Image Tag"),f.forEach(E),h.forEach(E),K=v(p),W=u(p,"INPUT",{class:!0,name:!0,type:!0}),p.forEach(E),Y=v(i),Z=u(i,"P",{});var b=m(Z);_=u(b,"LABEL",{});var y=m(_);aa=u(y,"B",{});var g=m(aa);ea=w(g,"Image Version"),g.forEach(E),y.forEach(E),sa=v(b),ta=u(b,"INPUT",{class:!0,name:!0,type:!0}),b.forEach(E),ra=v(i),na=u(i,"P",{});var I=m(na);oa=u(I,"LABEL",{});var P=m(oa);ca=u(P,"B",{});var N=m(ca);la=w(N,"Container Name"),N.forEach(E),P.forEach(E),ia=v(I),pa=u(I,"INPUT",{class:!0,name:!0,type:!0}),I.forEach(E),ha=v(i),fa=u(i,"P",{});var T=m(fa);da=u(T,"LABEL",{});var k=m(da);va=u(k,"B",{});var B=m(va);ua=w(B,"Container Ports (8080:8080,443:443)"),B.forEach(E),k.forEach(E),ma=v(T),wa=u(T,"INPUT",{class:!0,name:!0,type:!0}),T.forEach(E),Ea=v(i),ba=u(i,"P",{});var x=m(ba);ya=u(x,"LABEL",{});var D=m(ya);ga=u(D,"B",{});var V=m(ga);Ia=w(V,"Container Networks"),V.forEach(E),D.forEach(E),Pa=v(x),Na=u(x,"INPUT",{class:!0,name:!0,type:!0}),x.forEach(E),Ta=v(i),ka=u(i,"P",{});var S=m(ka);$a=u(S,"LABEL",{});var H=m($a);La=u(H,"B",{});var rs=m(La);Ba=w(rs,"Container Volumes"),rs.forEach(E),H.forEach(E),xa=v(S),Ua=u(S,"INPUT",{class:!0,name:!0,type:!0}),S.forEach(E),Ca=v(i),Da=u(i,"P",{});var ns=m(Da);Va=u(ns,"LABEL",{});var os=m(Va);Ra=u(os,"B",{});var is=m(Ra);Sa=w(is,"Container Privileged (yes, no)"),is.forEach(E),os.forEach(E),Ha=v(ns),Oa=u(ns,"INPUT",{class:!0,name:!0,type:!0}),ns.forEach(E),Aa=v(i),Fa=u(i,"P",{});var ps=m(Fa);ja=u(ps,"LABEL",{class:!0});var hs=m(ja);qa=u(hs,"B",{});var fs=m(qa);Ma=w(fs,"File"),fs.forEach(E),hs.forEach(E),Xa=v(ps),Ga=u(ps,"INPUT",{class:!0,type:!0,name:!0}),ps.forEach(E),Ja=v(i),Qa=u(i,"P",{});var ds=m(Qa);za=u(ds,"INPUT",{class:!0,type:!0,value:!0}),ds.forEach(E),i.forEach(E),Ka=v(a),Wa=u(a,"HR",{class:!0}),Ya=v(a),Za=u(a,"H2",{});var vs=m(Za);_a=w(vs,"Recovery Actions"),vs.forEach(E),ae=v(a),ee=u(a,"DIV",{class:!0});var us=m(ee);se=u(us,"DIV",{class:!0});var ms=m(se);te=u(ms,"BUTTON",{class:!0});var ws=m(te);re=w(ws,"Snapshot Container ( create image as .tar )"),ws.forEach(E),ms.forEach(E),ne=v(us),oe=u(us,"DIV",{class:!0});var Es=m(oe);ce=u(Es,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),Es.forEach(E),us.forEach(E),le=v(a),ie=u(a,"DIV",{class:!0});var bs=m(ie);pe=u(bs,"DIV",{class:!0});var ys=m(pe);he=u(ys,"BUTTON",{class:!0});var gs=m(he);fe=w(gs,"Recover Container ( load from .tar )"),gs.forEach(E),ys.forEach(E),de=v(bs),ve=u(bs,"DIV",{class:!0});var Is=m(ve);ue=u(Is,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),Is.forEach(E),bs.forEach(E),me=v(a),we=u(a,"DIV",{class:!0});var Ps=m(we);Ee=u(Ps,"DIV",{class:!0});var Ns=m(Ee);be=u(Ns,"BUTTON",{class:!0});var Ts=m(be);ye=w(Ts,"Download Snapshot ( as .tar )"),Ts.forEach(E),Ns.forEach(E),ge=v(Ps),Ie=u(Ps,"DIV",{class:!0});var ks=m(Ie);Pe=u(ks,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),ks.forEach(E),Ps.forEach(E),Ne=v(a),Te=u(a,"HR",{class:!0}),ke=v(a),$e=u(a,"H2",{});var $s=m($e);Le=w($s,"Container Snapshots"),$s.forEach(E),Be=v(a),cs&&cs.l(a),xe=v(a),Ue=u(a,"HR",{class:!0}),Ce=v(a),De=u(a,"H2",{});var Ls=m(De);Ve=w(Ls,"Log Files"),Ls.forEach(E),Re=v(a),Se=u(a,"FORM",{class:!0,enctype:!0});var Bs=m(Se);He=u(Bs,"P",{});var xs=m(He);Oe=u(xs,"LABEL",{class:!0});var Us=m(Oe);Ae=u(Us,"B",{});var Cs=m(Ae);Fe=w(Cs,".csv File"),Cs.forEach(E),Us.forEach(E),je=v(xs),qe=u(xs,"INPUT",{class:!0,type:!0,name:!0}),xs.forEach(E),Me=v(Bs),Xe=u(Bs,"P",{});var Ds=m(Xe);Ge=u(Ds,"INPUT",{class:!0,type:!0,value:!0}),Ds.forEach(E),Bs.forEach(E),Je=v(a),Qe=u(a,"DIV",{class:!0});var Vs=m(Qe);ze=u(Vs,"DIV",{class:!0});var Rs=m(ze);Ke=u(Rs,"BUTTON",{class:!0});var Ss=m(Ke);We=w(Ss,"Delete Logfile"),Ss.forEach(E),Rs.forEach(E),Ye=v(Vs),Ze=u(Vs,"DIV",{class:!0});var Hs=m(Ze);_e=u(Hs,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),Hs.forEach(E),Vs.forEach(E),as=v(a),es=u(a,"BR",{}),ss=v(a),ls&&ls.l(a),ts=d(),this.h()},h(){b(o,"class","svelte-drd2kv"),b(U,"class","w3-text-yellow"),y(U,"text-shadow","1px 1px 0 #444"),b(L,"class","w3-panel w3-blue"),b(A,"class","svelte-drd2kv"),b(W,"class","w3-input w3-border"),b(W,"name","imagetag"),b(W,"type","text"),b(ta,"class","w3-input w3-border"),b(ta,"name","imageversion"),b(ta,"type","text"),b(pa,"class","w3-input w3-border"),b(pa,"name","containername"),b(pa,"type","text"),b(wa,"class","w3-input w3-border"),b(wa,"name","containerports"),b(wa,"type","text"),b(Na,"class","w3-input w3-border"),b(Na,"name","containernetworks"),b(Na,"type","text"),b(Ua,"class","w3-input w3-border"),b(Ua,"name","containervolumes"),b(Ua,"type","text"),b(Oa,"class","w3-input w3-border"),b(Oa,"name","containerprivilege"),b(Oa,"type","text"),b(ja,"class","w3-text-blue"),b(Ga,"class","w3-input w3-border"),b(Ga,"type","file"),b(Ga,"name","file"),b(za,"class","w3-col w3-input w3-border w3-margin-bottom"),b(za,"type","submit"),za.value="upload",b(X,"class","w3-container w3-card-4"),b(X,"enctype","multipart/form-data"),b(Wa,"class","svelte-drd2kv"),b(te,"class","w3-col w3-input w3-border w3-button"),b(se,"class","w3-third"),b(ce,"class","w3-input w3-border"),b(ce,"name","containername"),b(ce,"type","text"),b(ce,"placeholder","Container Name"),b(oe,"class","w3-rest"),b(ee,"class","w3-row w3-section"),b(he,"class","w3-col w3-input w3-border w3-button"),b(pe,"class","w3-third"),b(ue,"class","w3-input w3-border"),b(ue,"name","containername"),b(ue,"type","text"),b(ue,"placeholder","Container Name"),b(ve,"class","w3-rest"),b(ie,"class","w3-row w3-section"),b(be,"class","w3-col w3-input w3-border w3-button"),b(Ee,"class","w3-third"),b(Pe,"class","w3-input w3-border"),b(Pe,"name","snapshotname"),b(Pe,"type","text"),b(Pe,"placeholder","Snapshot Name"),b(Ie,"class","w3-rest"),b(we,"class","w3-row w3-section"),b(Te,"class","svelte-drd2kv"),b(Ue,"class","svelte-drd2kv"),b(Oe,"class","w3-text-blue"),b(qe,"class","w3-input w3-border"),b(qe,"type","file"),b(qe,"name","file"),b(Ge,"class","w3-col w3-input w3-border w3-margin-bottom"),b(Ge,"type","submit"),Ge.value="upload",b(Se,"class","w3-container w3-card-4"),b(Se,"enctype","multipart/form-data"),b(Ke,"class","w3-col w3-input w3-border w3-button"),b(ze,"class","w3-third"),b(_e,"class","w3-input w3-border"),b(_e,"name","logfileid"),b(_e,"type","text"),b(_e,"placeholder","Logfile ID"),b(Ze,"class","w3-rest"),b(Qe,"class","w3-row w3-section")},m(t,r){n(e,t,r),g(t,s,r),g(t,o,r),g(t,$,r),g(t,L,r),I(L,U),I(U,C),I(C,R),g(t,O,r),g(t,A,r),g(t,F,r),g(t,j,r),I(j,q),g(t,M,r),g(t,X,r),I(X,G),I(G,J),I(J,Q),I(Q,z),I(G,K),I(G,W),I(X,Y),I(X,Z),I(Z,_),I(_,aa),I(aa,ea),I(Z,sa),I(Z,ta),I(X,ra),I(X,na),I(na,oa),I(oa,ca),I(ca,la),I(na,ia),I(na,pa),I(X,ha),I(X,fa),I(fa,da),I(da,va),I(va,ua),I(fa,ma),I(fa,wa),I(X,Ea),I(X,ba),I(ba,ya),I(ya,ga),I(ga,Ia),I(ba,Pa),I(ba,Na),I(X,Ta),I(X,ka),I(ka,$a),I($a,La),I(La,Ba),I(ka,xa),I(ka,Ua),I(X,Ca),I(X,Da),I(Da,Va),I(Va,Ra),I(Ra,Sa),I(Da,Ha),I(Da,Oa),I(X,Aa),I(X,Fa),I(Fa,ja),I(ja,qa),I(qa,Ma),I(Fa,Xa),I(Fa,Ga),I(X,Ja),I(X,Qa),I(Qa,za),g(t,Ka,r),g(t,Wa,r),g(t,Ya,r),g(t,Za,r),I(Za,_a),g(t,ae,r),g(t,ee,r),I(ee,se),I(se,te),I(te,re),I(ee,ne),I(ee,oe),I(oe,ce),g(t,le,r),g(t,ie,r),I(ie,pe),I(pe,he),I(he,fe),I(ie,de),I(ie,ve),I(ve,ue),g(t,me,r),g(t,we,r),I(we,Ee),I(Ee,be),I(be,ye),I(we,ge),I(we,Ie),I(Ie,Pe),g(t,Ne,r),g(t,Te,r),g(t,ke,r),g(t,$e,r),I($e,Le),g(t,Be,r),cs&&cs.m(t,r),g(t,xe,r),g(t,Ue,r),g(t,Ce,r),g(t,De,r),I(De,Ve),g(t,Re,r),g(t,Se,r),I(Se,He),I(He,Oe),I(Oe,Ae),I(Ae,Fe),I(He,je),I(He,qe),I(Se,Me),I(Se,Xe),I(Xe,Ge),g(t,Je,r),g(t,Qe,r),I(Qe,ze),I(ze,Ke),I(Ke,We),I(Qe,Ye),I(Qe,Ze),I(Ze,_e),g(t,as,r),g(t,es,r),g(t,ss,r),ls&&ls.m(t,r),g(t,ts,r),rs=!0,ns||(os=[P(X,"submit",N(a[2])),P(te,"click",S),P(he,"click",H),P(be,"click",H),P(Se,"submit",N(a[3])),P(Ke,"click",deleteLogfile)],ns=!0)},p(a,[e]){a[0].length>0?cs?(cs.p(a,e),1&e&&c(cs,1)):(cs=D(a),cs.c(),c(cs,1),cs.m(xe.parentNode,xe)):cs&&(B(),l(cs,1,1,(()=>{cs=null})),T()),a[1].length>0?ls?(ls.p(a,e),2&e&&c(ls,1)):(ls=V(a),ls.c(),c(ls,1),ls.m(ts.parentNode,ts)):ls&&(B(),l(ls,1,1,(()=>{ls=null})),T())},i(a){rs||(c(e.$$.fragment,a),c(cs),c(ls),rs=!0)},o(a){l(e.$$.fragment,a),l(cs),l(ls),rs=!1},d(a){i(e,a),a&&E(s),a&&E(o),a&&E($),a&&E(L),a&&E(O),a&&E(A),a&&E(F),a&&E(j),a&&E(M),a&&E(X),a&&E(Ka),a&&E(Wa),a&&E(Ya),a&&E(Za),a&&E(ae),a&&E(ee),a&&E(le),a&&E(ie),a&&E(me),a&&E(we),a&&E(Ne),a&&E(Te),a&&E(ke),a&&E($e),a&&E(Be),cs&&cs.d(a),a&&E(xe),a&&E(Ue),a&&E(Ce),a&&E(De),a&&E(Re),a&&E(Se),a&&E(Je),a&&E(Qe),a&&E(as),a&&E(es),a&&E(ss),ls&&ls.d(a),a&&E(ts),ns=!1,k(os)}}}function S(){}function H(){}function O(a,e,s){let{snapshots:t=[]}=e,{logfiles:r=[]}=e,{checkpoints:n}=e;return a.$$set=a=>{"snapshots"in a&&s(0,t=a.snapshots),"logfiles"in a&&s(1,r=a.logfiles),"checkpoints"in a&&s(4,n=a.checkpoints)},[t,r,async function(){var a=new FormData;let e=!1;if(this.querySelectorAll("input").forEach((function(s){""!=s.name&&("file"==s.name?(a.append(s.name,s.files[0]),e=!0):a.append(s.name,s.value))})),e){var s=new XMLHttpRequest;s.open("POST","/checkpoints"),s.onreadystatechange=function(){if(4!==xhr.readyState||200!==xhr.status)return!1;console.log("response from checkpoint:",[xhr.response])},s.send(a)}else U.danger("please select a file.")},async function(){var a=new FormData;let e=!1,t="";this.querySelectorAll("input").forEach((function(s){""!=s.name&&"file"==s.name&&(console.log(s.files[0]),a.append(s.name,s.files[0]),t=s.files[0].name,e=!0)}));let n="/logfiles/"+t;if(e){var o=new XMLHttpRequest;o.open("POST",n),o.onreadystatechange=function(){if(4!==o.readyState||200!==o.status)return!1;{let a=JSON.parse(o.response);s(1,r=[...r,a.data]),console.log("response from checkpoint:",[o.response])}},o.send(a)}else U.danger("please select a file.")},n,function(a){t=a,s(0,t)},function(a){r=a,s(1,r)}]}export default class extends a{constructor(a){super(),e(this,a,O,R,s,{snapshots:0,logfiles:1,checkpoints:4})}}
