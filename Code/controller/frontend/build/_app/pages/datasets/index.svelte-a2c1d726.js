import{S as a,i as s,s as l,e as t,t as e,k as n,c,a as r,g as o,d as h,n as i,b as f,N as d,f as v,F as u,G as p,h as E,Q as w,M as g,j as m,L as T,m as x,o as b,v as D,r as y,w as k,z as C,T as F}from"../../chunks/vendor-c052606d.js";import{T as H,x as V,n as S}from"../../chunks/requests-213c1aee.js";/* empty css                                                       */const{document:B}=F;function N(a,s,l){const t=a.slice();return t[3]=s[l],t[5]=l,t}function R(a,s,l){const t=a.slice();return t[6]=s[l],t[5]=l,t}function A(a){let s,l,p,E,w,m,T,x,b,D,y,k=a[1],C=[];for(let t=0;t<k.length;t+=1)C[t]=I(R(a,k,t));return{c(){s=t("div"),l=t("div"),p=t("table"),E=t("thead"),w=t("tr"),m=t("th"),T=e("Filename"),x=n(),b=t("th"),D=e("Actions"),y=n();for(let a=0;a<C.length;a+=1)C[a].c();this.h()},l(a){s=c(a,"DIV",{class:!0});var t=r(s);l=c(t,"DIV",{class:!0});var e=r(l);p=c(e,"TABLE",{class:!0,style:!0});var n=r(p);E=c(n,"THEAD",{});var f=r(E);w=c(f,"TR",{class:!0});var d=r(w);m=c(d,"TH",{class:!0});var v=r(m);T=o(v,"Filename"),v.forEach(h),x=i(d),b=c(d,"TH",{class:!0});var u=r(b);D=o(u,"Actions"),u.forEach(h),d.forEach(h),f.forEach(h),y=i(n);for(let s=0;s<C.length;s+=1)C[s].l(n);n.forEach(h),e.forEach(h),t.forEach(h),this.h()},h(){f(m,"class","w3-left-align"),f(b,"class","w3-right-align"),f(w,"class","w3-dark-grey"),f(p,"class","w3-table-all"),d(p,"width","100%"),f(l,"class","w3-responsive"),f(s,"class","w3-container")},m(a,t){v(a,s,t),u(s,l),u(l,p),u(p,E),u(E,w),u(w,m),u(m,T),u(w,x),u(w,b),u(b,D),u(p,y);for(let s=0;s<C.length;s+=1)C[s].m(p,null)},p(a,s){if(2&s){let l;for(k=a[1],l=0;l<k.length;l+=1){const t=R(a,k,l);C[l]?C[l].p(t,s):(C[l]=I(t),C[l].c(),C[l].m(p,null))}for(;l<C.length;l+=1)C[l].d(1);C.length=k.length}},d(a){a&&h(s),g(C,a)}}}function I(a){let s,l,d,g,m,T,x,b,D,y,k,C,F,H,V=a[6]+"";return{c(){s=t("tr"),l=t("td"),d=e(V),g=n(),m=t("td"),T=t("div"),x=t("button"),b=e("Edit"),D=n(),y=t("button"),k=e("Download"),C=n(),this.h()},l(a){s=c(a,"TR",{});var t=r(s);l=c(t,"TD",{class:!0});var e=r(l);d=o(e,V),e.forEach(h),g=i(t),m=c(t,"TD",{class:!0});var n=r(m);T=c(n,"DIV",{});var f=r(T);x=c(f,"BUTTON",{index:!0});var v=r(x);b=o(v,"Edit"),v.forEach(h),D=i(f),y=c(f,"BUTTON",{index:!0});var u=r(y);k=o(u,"Download"),u.forEach(h),f.forEach(h),n.forEach(h),C=i(t),t.forEach(h),this.h()},h(){f(l,"class","w3-left-align"),f(x,"index",a[5]),f(y,"index",a[5]),f(m,"class","w3-right-align")},m(a,t){v(a,s,t),u(s,l),u(l,d),u(s,g),u(s,m),u(m,T),u(T,x),u(x,b),u(T,D),u(T,y),u(y,k),u(s,C),F||(H=[p(x,"click",L),p(y,"click",U)],F=!0)},p(a,s){2&s&&V!==(V=a[6]+"")&&E(d,V)},d(a){a&&h(s),F=!1,w(H)}}}function $(a){let s,l,p,E,w,m,T,x,b,D,y,k=a[0],C=[];for(let t=0;t<k.length;t+=1)C[t]=G(N(a,k,t));return{c(){s=t("div"),l=t("div"),p=t("table"),E=t("thead"),w=t("tr"),m=t("th"),T=e("Filename"),x=n(),b=t("th"),D=e("Actions"),y=n();for(let a=0;a<C.length;a+=1)C[a].c();this.h()},l(a){s=c(a,"DIV",{class:!0});var t=r(s);l=c(t,"DIV",{class:!0});var e=r(l);p=c(e,"TABLE",{class:!0,style:!0});var n=r(p);E=c(n,"THEAD",{});var f=r(E);w=c(f,"TR",{class:!0});var d=r(w);m=c(d,"TH",{class:!0});var v=r(m);T=o(v,"Filename"),v.forEach(h),x=i(d),b=c(d,"TH",{class:!0});var u=r(b);D=o(u,"Actions"),u.forEach(h),d.forEach(h),f.forEach(h),y=i(n);for(let s=0;s<C.length;s+=1)C[s].l(n);n.forEach(h),e.forEach(h),t.forEach(h),this.h()},h(){f(m,"class","w3-left-align"),f(b,"class","w3-right-align"),f(w,"class","w3-dark-grey"),f(p,"class","w3-table-all"),d(p,"width","100%"),f(l,"class","w3-responsive"),f(s,"class","w3-container")},m(a,t){v(a,s,t),u(s,l),u(l,p),u(p,E),u(E,w),u(w,m),u(m,T),u(w,x),u(w,b),u(b,D),u(p,y);for(let s=0;s<C.length;s+=1)C[s].m(p,null)},p(a,s){if(1&s){let l;for(k=a[0],l=0;l<k.length;l+=1){const t=N(a,k,l);C[l]?C[l].p(t,s):(C[l]=G(t),C[l].c(),C[l].m(p,null))}for(;l<C.length;l+=1)C[l].d(1);C.length=k.length}},d(a){a&&h(s),g(C,a)}}}function G(a){let s,l,d,w,g,m,T,x,b,D,y=a[3]+"";return{c(){s=t("tr"),l=t("td"),d=e(y),w=n(),g=t("td"),m=t("button"),T=e("Download"),x=n(),this.h()},l(a){s=c(a,"TR",{});var t=r(s);l=c(t,"TD",{class:!0});var e=r(l);d=o(e,y),e.forEach(h),w=i(t),g=c(t,"TD",{class:!0});var n=r(g);m=c(n,"BUTTON",{index:!0});var f=r(m);T=o(f,"Download"),f.forEach(h),n.forEach(h),x=i(t),t.forEach(h),this.h()},h(){f(l,"class","w3-left-align"),f(m,"index",a[5]),f(g,"class","w3-right-align")},m(a,t){v(a,s,t),u(s,l),u(l,d),u(s,w),u(s,g),u(g,m),u(m,T),u(s,x),b||(D=p(m,"click",L),b=!0)},p(a,s){1&s&&y!==(y=a[3]+"")&&E(d,y)},d(a){a&&h(s),b=!1,D()}}}function O(a){let s,l,E,g,C,F,V,S,N,R,I,G,O,U,L,q,J,z,M,Q,_,K,P,W,X,Y,Z,aa,sa,la,ta,ea,na,ca,ra,oa;l=new H({});let ha=a[1].length>0&&A(a),ia=a[0].length>0&&$(a);return{c(){s=n(),m(l.$$.fragment),E=n(),g=t("div"),C=t("h1"),F=t("b"),V=e("Capfiles"),S=n(),ha&&ha.c(),N=n(),R=t("hr"),I=n(),G=t("div"),O=t("h1"),U=t("b"),L=e("Edit Capfile Content"),q=e("\n\non click on capfiles, show another table of capfile content\n\n\n"),J=t("button"),z=e("Convert to CSV"),M=n(),Q=t("hr"),_=n(),K=t("div"),P=t("h1"),W=t("b"),X=e("Gridfs Files (CSVs stored in GridFS)"),Y=n(),Z=t("button"),aa=e("Reload GrifFS"),sa=n(),la=t("hr"),ta=n(),ia&&ia.c(),ea=n(),na=t("hr"),this.h()},l(a){T('[data-svelte="svelte-qmgm2y"]',B.head).forEach(h),s=i(a),x(l.$$.fragment,a),E=i(a),g=c(a,"DIV",{class:!0});var t=r(g);C=c(t,"H1",{class:!0,style:!0});var e=r(C);F=c(e,"B",{});var n=r(F);V=o(n,"Capfiles"),n.forEach(h),e.forEach(h),t.forEach(h),S=i(a),ha&&ha.l(a),N=i(a),R=c(a,"HR",{class:!0}),I=i(a),G=c(a,"DIV",{class:!0});var f=r(G);O=c(f,"H1",{class:!0,style:!0});var d=r(O);U=c(d,"B",{});var v=r(U);L=o(v,"Edit Capfile Content"),v.forEach(h),d.forEach(h),f.forEach(h),q=o(a,"\n\non click on capfiles, show another table of capfile content\n\n\n"),J=c(a,"BUTTON",{class:!0});var u=r(J);z=o(u,"Convert to CSV"),u.forEach(h),M=i(a),Q=c(a,"HR",{class:!0}),_=i(a),K=c(a,"DIV",{class:!0});var p=r(K);P=c(p,"H1",{class:!0,style:!0});var w=r(P);W=c(w,"B",{});var m=r(W);X=o(m,"Gridfs Files (CSVs stored in GridFS)"),m.forEach(h),w.forEach(h),p.forEach(h),Y=i(a),Z=c(a,"BUTTON",{class:!0});var b=r(Z);aa=o(b,"Reload GrifFS"),b.forEach(h),sa=i(a),la=c(a,"HR",{class:!0}),ta=i(a),ia&&ia.l(a),ea=i(a),na=c(a,"HR",{class:!0}),this.h()},h(){B.title="Database",f(C,"class","w3-text-yellow"),d(C,"text-shadow","1px 1px 0 #444"),f(g,"class","w3-panel w3-blue"),f(R,"class","svelte-lxonyp"),f(O,"class","w3-text-yellow"),d(O,"text-shadow","1px 1px 0 #444"),f(G,"class","w3-panel w3-blue"),f(J,"class","w3-col w3-input w3-border"),f(Q,"class","svelte-lxonyp"),f(P,"class","w3-text-yellow"),d(P,"text-shadow","1px 1px 0 #444"),f(K,"class","w3-panel w3-blue"),f(Z,"class","w3-col w3-input w3-border"),f(la,"class","svelte-lxonyp"),f(na,"class","svelte-lxonyp")},m(t,e){v(t,s,e),b(l,t,e),v(t,E,e),v(t,g,e),u(g,C),u(C,F),u(F,V),v(t,S,e),ha&&ha.m(t,e),v(t,N,e),v(t,R,e),v(t,I,e),v(t,G,e),u(G,O),u(O,U),u(U,L),v(t,q,e),v(t,J,e),u(J,z),v(t,M,e),v(t,Q,e),v(t,_,e),v(t,K,e),u(K,P),u(P,W),u(W,X),v(t,Y,e),v(t,Z,e),u(Z,aa),v(t,sa,e),v(t,la,e),v(t,ta,e),ia&&ia.m(t,e),v(t,ea,e),v(t,na,e),ca=!0,ra||(oa=[p(J,"click",j),p(Z,"click",a[2])],ra=!0)},p(a,[s]){a[1].length>0?ha?ha.p(a,s):(ha=A(a),ha.c(),ha.m(N.parentNode,N)):ha&&(ha.d(1),ha=null),a[0].length>0?ia?ia.p(a,s):(ia=$(a),ia.c(),ia.m(ea.parentNode,ea)):ia&&(ia.d(1),ia=null)},i(a){ca||(D(l.$$.fragment,a),ca=!0)},o(a){y(l.$$.fragment,a),ca=!1},d(a){a&&h(s),k(l,a),a&&h(E),a&&h(g),a&&h(S),ha&&ha.d(a),a&&h(N),a&&h(R),a&&h(I),a&&h(G),a&&h(q),a&&h(J),a&&h(M),a&&h(Q),a&&h(_),a&&h(K),a&&h(Y),a&&h(Z),a&&h(sa),a&&h(la),a&&h(ta),ia&&ia.d(a),a&&h(ea),a&&h(na),ra=!1,w(oa)}}}function U(){}function j(){}function L(){console.log(this.parentElement.parentElement.parentElement.firstElementChild.innerText),console.log(this.getAttribute("index"),"hereeee....")}function q(a,s,l){let t=[],e=[];function n(){V("/allgridfs",(function(a){let s=JSON.parse(a.response);s.data&&(S.success("Found data."),l(0,t=s.data))}))}return C((async()=>{n(),V("/capfile/all",(function(a){let s=JSON.parse(a.response);s.data&&(S.success("Found data."),l(1,e=s.data),console.log(e))}))})),[t,e,n]}export default class extends a{constructor(a){super(),s(this,a,q,O,l,{})}}
