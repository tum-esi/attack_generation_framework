import{S as a,i as s,s as l,e as t,t as e,k as c,c as n,a as r,g as o,d as h,n as i,b as f,N as d,f as v,F as u,G as w,h as p,Q as E,M as g,j as m,L as T,m as x,o as b,v as D,r as y,w as k,z as F,T as C}from"../../chunks/vendor-c052606d.js";import{T as H,x as V,n as S}from"../../chunks/requests-213c1aee.js";/* empty css                                                       */const{document:B}=C;function N(a,s,l){const t=a.slice();return t[3]=s[l],t[5]=l,t}function R(a,s,l){const t=a.slice();return t[6]=s[l],t[5]=l,t}function A(a){let s,l,w,p,E,m,T,x,b,D,y,k=a[1],F=[];for(let t=0;t<k.length;t+=1)F[t]=I(R(a,k,t));return{c(){s=t("div"),l=t("div"),w=t("table"),p=t("thead"),E=t("tr"),m=t("th"),T=e("Filename"),x=c(),b=t("th"),D=e("Actions"),y=c();for(let a=0;a<F.length;a+=1)F[a].c();this.h()},l(a){s=n(a,"DIV",{class:!0});var t=r(s);l=n(t,"DIV",{class:!0});var e=r(l);w=n(e,"TABLE",{class:!0,style:!0});var c=r(w);p=n(c,"THEAD",{});var f=r(p);E=n(f,"TR",{class:!0});var d=r(E);m=n(d,"TH",{class:!0});var v=r(m);T=o(v,"Filename"),v.forEach(h),x=i(d),b=n(d,"TH",{class:!0});var u=r(b);D=o(u,"Actions"),u.forEach(h),d.forEach(h),f.forEach(h),y=i(c);for(let s=0;s<F.length;s+=1)F[s].l(c);c.forEach(h),e.forEach(h),t.forEach(h),this.h()},h(){f(m,"class","w3-left-align"),f(b,"class","w3-right-align"),f(E,"class","w3-dark-grey"),f(w,"class","w3-table-all"),d(w,"width","100%"),f(l,"class","w3-responsive"),f(s,"class","w3-container")},m(a,t){v(a,s,t),u(s,l),u(l,w),u(w,p),u(p,E),u(E,m),u(m,T),u(E,x),u(E,b),u(b,D),u(w,y);for(let s=0;s<F.length;s+=1)F[s].m(w,null)},p(a,s){if(2&s){let l;for(k=a[1],l=0;l<k.length;l+=1){const t=R(a,k,l);F[l]?F[l].p(t,s):(F[l]=I(t),F[l].c(),F[l].m(w,null))}for(;l<F.length;l+=1)F[l].d(1);F.length=k.length}},d(a){a&&h(s),g(F,a)}}}function I(a){let s,l,d,g,m,T,x,b,D,y,k,F,C,H,V=a[6]+"";return{c(){s=t("tr"),l=t("td"),d=e(V),g=c(),m=t("td"),T=t("div"),x=t("button"),b=e("Edit"),D=c(),y=t("button"),k=e("Download"),F=c(),this.h()},l(a){s=n(a,"TR",{});var t=r(s);l=n(t,"TD",{class:!0});var e=r(l);d=o(e,V),e.forEach(h),g=i(t),m=n(t,"TD",{class:!0});var c=r(m);T=n(c,"DIV",{});var f=r(T);x=n(f,"BUTTON",{index:!0});var v=r(x);b=o(v,"Edit"),v.forEach(h),D=i(f),y=n(f,"BUTTON",{index:!0});var u=r(y);k=o(u,"Download"),u.forEach(h),f.forEach(h),c.forEach(h),F=i(t),t.forEach(h),this.h()},h(){f(l,"class","w3-left-align"),f(x,"index",a[5]),f(y,"index",a[5]),f(m,"class","w3-right-align")},m(a,t){v(a,s,t),u(s,l),u(l,d),u(s,g),u(s,m),u(m,T),u(T,x),u(x,b),u(T,D),u(T,y),u(y,k),u(s,F),C||(H=[w(x,"click",L),w(y,"click",U)],C=!0)},p(a,s){2&s&&V!==(V=a[6]+"")&&p(d,V)},d(a){a&&h(s),C=!1,E(H)}}}function $(a){let s,l,w,p,E,m,T,x,b,D,y,k=a[0],F=[];for(let t=0;t<k.length;t+=1)F[t]=G(N(a,k,t));return{c(){s=t("div"),l=t("div"),w=t("table"),p=t("thead"),E=t("tr"),m=t("th"),T=e("Filename"),x=c(),b=t("th"),D=e("Actions"),y=c();for(let a=0;a<F.length;a+=1)F[a].c();this.h()},l(a){s=n(a,"DIV",{class:!0});var t=r(s);l=n(t,"DIV",{class:!0});var e=r(l);w=n(e,"TABLE",{class:!0,style:!0});var c=r(w);p=n(c,"THEAD",{});var f=r(p);E=n(f,"TR",{class:!0});var d=r(E);m=n(d,"TH",{class:!0});var v=r(m);T=o(v,"Filename"),v.forEach(h),x=i(d),b=n(d,"TH",{class:!0});var u=r(b);D=o(u,"Actions"),u.forEach(h),d.forEach(h),f.forEach(h),y=i(c);for(let s=0;s<F.length;s+=1)F[s].l(c);c.forEach(h),e.forEach(h),t.forEach(h),this.h()},h(){f(m,"class","w3-left-align"),f(b,"class","w3-right-align"),f(E,"class","w3-dark-grey"),f(w,"class","w3-table-all"),d(w,"width","100%"),f(l,"class","w3-responsive"),f(s,"class","w3-container")},m(a,t){v(a,s,t),u(s,l),u(l,w),u(w,p),u(p,E),u(E,m),u(m,T),u(E,x),u(E,b),u(b,D),u(w,y);for(let s=0;s<F.length;s+=1)F[s].m(w,null)},p(a,s){if(1&s){let l;for(k=a[0],l=0;l<k.length;l+=1){const t=N(a,k,l);F[l]?F[l].p(t,s):(F[l]=G(t),F[l].c(),F[l].m(w,null))}for(;l<F.length;l+=1)F[l].d(1);F.length=k.length}},d(a){a&&h(s),g(F,a)}}}function G(a){let s,l,d,E,g,m,T,x,b,D,y=a[3]+"";return{c(){s=t("tr"),l=t("td"),d=e(y),E=c(),g=t("td"),m=t("button"),T=e("Download"),x=c(),this.h()},l(a){s=n(a,"TR",{});var t=r(s);l=n(t,"TD",{class:!0});var e=r(l);d=o(e,y),e.forEach(h),E=i(t),g=n(t,"TD",{class:!0});var c=r(g);m=n(c,"BUTTON",{index:!0});var f=r(m);T=o(f,"Download"),f.forEach(h),c.forEach(h),x=i(t),t.forEach(h),this.h()},h(){f(l,"class","w3-left-align"),f(m,"index",a[5]),f(g,"class","w3-right-align")},m(a,t){v(a,s,t),u(s,l),u(l,d),u(s,E),u(s,g),u(g,m),u(m,T),u(s,x),b||(D=w(m,"click",L),b=!0)},p(a,s){1&s&&y!==(y=a[3]+"")&&p(d,y)},d(a){a&&h(s),b=!1,D()}}}function O(a){let s,l,p,g,F,C,V,S,N,R,I,G,O,U,L,q,J,z,M,Q,_,K,P,W,X,Y,Z,aa,sa,la,ta,ea,ca,na;l=new H({});let ra=a[1].length>0&&A(a),oa=a[0].length>0&&$(a);return{c(){s=c(),m(l.$$.fragment),p=c(),g=t("div"),F=t("h1"),C=t("b"),V=e("Capfiles"),S=c(),ra&&ra.c(),N=c(),R=t("hr"),I=c(),G=t("div"),O=t("h1"),U=t("b"),L=e("Edit Capfile Content"),q=e("\n\non click on capfiles, show another table of capfile content\n\n\n"),J=t("button"),z=e("Convert to CSV"),M=c(),Q=t("hr"),_=c(),K=t("div"),P=t("h1"),W=t("b"),X=e("Gridfs Files (CSVs stored in GridFS)"),Y=c(),Z=t("button"),aa=e("Reload GrifFS"),sa=c(),oa&&oa.c(),la=c(),ta=t("hr"),this.h()},l(a){T('[data-svelte="svelte-qmgm2y"]',B.head).forEach(h),s=i(a),x(l.$$.fragment,a),p=i(a),g=n(a,"DIV",{class:!0});var t=r(g);F=n(t,"H1",{class:!0,style:!0});var e=r(F);C=n(e,"B",{});var c=r(C);V=o(c,"Capfiles"),c.forEach(h),e.forEach(h),t.forEach(h),S=i(a),ra&&ra.l(a),N=i(a),R=n(a,"HR",{class:!0}),I=i(a),G=n(a,"DIV",{class:!0});var f=r(G);O=n(f,"H1",{class:!0,style:!0});var d=r(O);U=n(d,"B",{});var v=r(U);L=o(v,"Edit Capfile Content"),v.forEach(h),d.forEach(h),f.forEach(h),q=o(a,"\n\non click on capfiles, show another table of capfile content\n\n\n"),J=n(a,"BUTTON",{class:!0});var u=r(J);z=o(u,"Convert to CSV"),u.forEach(h),M=i(a),Q=n(a,"HR",{class:!0}),_=i(a),K=n(a,"DIV",{class:!0});var w=r(K);P=n(w,"H1",{class:!0,style:!0});var E=r(P);W=n(E,"B",{});var m=r(W);X=o(m,"Gridfs Files (CSVs stored in GridFS)"),m.forEach(h),E.forEach(h),w.forEach(h),Y=i(a),Z=n(a,"BUTTON",{class:!0});var b=r(Z);aa=o(b,"Reload GrifFS"),b.forEach(h),sa=i(a),oa&&oa.l(a),la=i(a),ta=n(a,"HR",{class:!0}),this.h()},h(){B.title="Database",f(F,"class","w3-text-yellow"),d(F,"text-shadow","1px 1px 0 #444"),f(g,"class","w3-panel w3-blue"),f(R,"class","svelte-lxonyp"),f(O,"class","w3-text-yellow"),d(O,"text-shadow","1px 1px 0 #444"),f(G,"class","w3-panel w3-blue"),f(J,"class","w3-col w3-input w3-border"),f(Q,"class","svelte-lxonyp"),f(P,"class","w3-text-yellow"),d(P,"text-shadow","1px 1px 0 #444"),f(K,"class","w3-panel w3-blue"),f(Z,"class","w3-col w3-input w3-border"),f(ta,"class","svelte-lxonyp")},m(t,e){v(t,s,e),b(l,t,e),v(t,p,e),v(t,g,e),u(g,F),u(F,C),u(C,V),v(t,S,e),ra&&ra.m(t,e),v(t,N,e),v(t,R,e),v(t,I,e),v(t,G,e),u(G,O),u(O,U),u(U,L),v(t,q,e),v(t,J,e),u(J,z),v(t,M,e),v(t,Q,e),v(t,_,e),v(t,K,e),u(K,P),u(P,W),u(W,X),v(t,Y,e),v(t,Z,e),u(Z,aa),v(t,sa,e),oa&&oa.m(t,e),v(t,la,e),v(t,ta,e),ea=!0,ca||(na=[w(J,"click",j),w(Z,"click",a[2])],ca=!0)},p(a,[s]){a[1].length>0?ra?ra.p(a,s):(ra=A(a),ra.c(),ra.m(N.parentNode,N)):ra&&(ra.d(1),ra=null),a[0].length>0?oa?oa.p(a,s):(oa=$(a),oa.c(),oa.m(la.parentNode,la)):oa&&(oa.d(1),oa=null)},i(a){ea||(D(l.$$.fragment,a),ea=!0)},o(a){y(l.$$.fragment,a),ea=!1},d(a){a&&h(s),k(l,a),a&&h(p),a&&h(g),a&&h(S),ra&&ra.d(a),a&&h(N),a&&h(R),a&&h(I),a&&h(G),a&&h(q),a&&h(J),a&&h(M),a&&h(Q),a&&h(_),a&&h(K),a&&h(Y),a&&h(Z),a&&h(sa),oa&&oa.d(a),a&&h(la),a&&h(ta),ca=!1,E(na)}}}function U(){}function j(){}function L(){}function q(a,s,l){let t=[],e=[];function c(){V("/allgridfs",(function(a){let s=JSON.parse(a.response);s.data&&(S.success("Found data."),l(0,t=s.data))}))}return F((async()=>{c(),V("/capfile/all",(function(a){let s=JSON.parse(a.response);s.data&&(S.success("Found data."),l(1,e=s.data),console.log(e))}))})),[t,e,c]}export default class extends a{constructor(a){super(),s(this,a,q,O,l,{})}}
