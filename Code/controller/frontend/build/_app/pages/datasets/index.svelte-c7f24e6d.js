import{S as a,i as s,s as l,e as t,t as e,k as n,c,a as r,g as o,d as i,n as h,b as f,N as d,f as v,F as p,G as u,h as E,Q as g,M as w,j as m,L as T,m as x,o as b,v as D,r as y,w as C,z as k,T as F}from"../../chunks/vendor-c052606d.js";import{T as H,x as V,n as S}from"../../chunks/requests-213c1aee.js";/* empty css                                                       */const{document:B}=F;function N(a,s,l){const t=a.slice();return t[3]=s[l],t[5]=l,t}function R(a,s,l){const t=a.slice();return t[6]=s[l],t[5]=l,t}function A(a){let s,l,u,E,g,m,T,x,b,D,y,C=a[1],k=[];for(let t=0;t<C.length;t+=1)k[t]=I(R(a,C,t));return{c(){s=t("div"),l=t("div"),u=t("table"),E=t("thead"),g=t("tr"),m=t("th"),T=e("Filename"),x=n(),b=t("th"),D=e("Actions"),y=n();for(let a=0;a<k.length;a+=1)k[a].c();this.h()},l(a){s=c(a,"DIV",{class:!0});var t=r(s);l=c(t,"DIV",{class:!0});var e=r(l);u=c(e,"TABLE",{class:!0,style:!0});var n=r(u);E=c(n,"THEAD",{});var f=r(E);g=c(f,"TR",{class:!0});var d=r(g);m=c(d,"TH",{class:!0});var v=r(m);T=o(v,"Filename"),v.forEach(i),x=h(d),b=c(d,"TH",{class:!0});var p=r(b);D=o(p,"Actions"),p.forEach(i),d.forEach(i),f.forEach(i),y=h(n);for(let s=0;s<k.length;s+=1)k[s].l(n);n.forEach(i),e.forEach(i),t.forEach(i),this.h()},h(){f(m,"class","w3-left-align"),f(b,"class","w3-right-align"),f(g,"class","w3-dark-grey"),f(u,"class","w3-table-all"),d(u,"width","100%"),f(l,"class","w3-responsive"),f(s,"class","w3-container")},m(a,t){v(a,s,t),p(s,l),p(l,u),p(u,E),p(E,g),p(g,m),p(m,T),p(g,x),p(g,b),p(b,D),p(u,y);for(let s=0;s<k.length;s+=1)k[s].m(u,null)},p(a,s){if(2&s){let l;for(C=a[1],l=0;l<C.length;l+=1){const t=R(a,C,l);k[l]?k[l].p(t,s):(k[l]=I(t),k[l].c(),k[l].m(u,null))}for(;l<k.length;l+=1)k[l].d(1);k.length=C.length}},d(a){a&&i(s),w(k,a)}}}function I(a){let s,l,d,w,m,T,x,b,D,y,C,k,F,H,V=a[6]+"";return{c(){s=t("tr"),l=t("td"),d=e(V),w=n(),m=t("td"),T=t("div"),x=t("button"),b=e("Edit"),D=n(),y=t("button"),C=e("Download"),k=n(),this.h()},l(a){s=c(a,"TR",{});var t=r(s);l=c(t,"TD",{class:!0});var e=r(l);d=o(e,V),e.forEach(i),w=h(t),m=c(t,"TD",{class:!0});var n=r(m);T=c(n,"DIV",{});var f=r(T);x=c(f,"BUTTON",{index:!0});var v=r(x);b=o(v,"Edit"),v.forEach(i),D=h(f),y=c(f,"BUTTON",{index:!0});var p=r(y);C=o(p,"Download"),p.forEach(i),f.forEach(i),n.forEach(i),k=h(t),t.forEach(i),this.h()},h(){f(l,"class","w3-left-align"),f(x,"index",a[5]),f(y,"index",a[5]),f(m,"class","w3-right-align")},m(a,t){v(a,s,t),p(s,l),p(l,d),p(s,w),p(s,m),p(m,T),p(T,x),p(x,b),p(T,D),p(T,y),p(y,C),p(s,k),F||(H=[u(x,"click",L),u(y,"click",U)],F=!0)},p(a,s){2&s&&V!==(V=a[6]+"")&&E(d,V)},d(a){a&&i(s),F=!1,g(H)}}}function $(a){let s,l,u,E,g,m,T,x,b,D,y,C=a[0],k=[];for(let t=0;t<C.length;t+=1)k[t]=G(N(a,C,t));return{c(){s=t("div"),l=t("div"),u=t("table"),E=t("thead"),g=t("tr"),m=t("th"),T=e("Filename"),x=n(),b=t("th"),D=e("Actions"),y=n();for(let a=0;a<k.length;a+=1)k[a].c();this.h()},l(a){s=c(a,"DIV",{class:!0});var t=r(s);l=c(t,"DIV",{class:!0});var e=r(l);u=c(e,"TABLE",{class:!0,style:!0});var n=r(u);E=c(n,"THEAD",{});var f=r(E);g=c(f,"TR",{class:!0});var d=r(g);m=c(d,"TH",{class:!0});var v=r(m);T=o(v,"Filename"),v.forEach(i),x=h(d),b=c(d,"TH",{class:!0});var p=r(b);D=o(p,"Actions"),p.forEach(i),d.forEach(i),f.forEach(i),y=h(n);for(let s=0;s<k.length;s+=1)k[s].l(n);n.forEach(i),e.forEach(i),t.forEach(i),this.h()},h(){f(m,"class","w3-left-align"),f(b,"class","w3-right-align"),f(g,"class","w3-dark-grey"),f(u,"class","w3-table-all"),d(u,"width","100%"),f(l,"class","w3-responsive"),f(s,"class","w3-container")},m(a,t){v(a,s,t),p(s,l),p(l,u),p(u,E),p(E,g),p(g,m),p(m,T),p(g,x),p(g,b),p(b,D),p(u,y);for(let s=0;s<k.length;s+=1)k[s].m(u,null)},p(a,s){if(1&s){let l;for(C=a[0],l=0;l<C.length;l+=1){const t=N(a,C,l);k[l]?k[l].p(t,s):(k[l]=G(t),k[l].c(),k[l].m(u,null))}for(;l<k.length;l+=1)k[l].d(1);k.length=C.length}},d(a){a&&i(s),w(k,a)}}}function G(a){let s,l,d,g,w,m,T,x,b,D,y=a[3]+"";return{c(){s=t("tr"),l=t("td"),d=e(y),g=n(),w=t("td"),m=t("button"),T=e("Download"),x=n(),this.h()},l(a){s=c(a,"TR",{});var t=r(s);l=c(t,"TD",{class:!0});var e=r(l);d=o(e,y),e.forEach(i),g=h(t),w=c(t,"TD",{class:!0});var n=r(w);m=c(n,"BUTTON",{index:!0});var f=r(m);T=o(f,"Download"),f.forEach(i),n.forEach(i),x=h(t),t.forEach(i),this.h()},h(){f(l,"class","w3-left-align"),f(m,"index",a[5]),f(w,"class","w3-right-align")},m(a,t){v(a,s,t),p(s,l),p(l,d),p(s,g),p(s,w),p(w,m),p(m,T),p(s,x),b||(D=u(m,"click",L),b=!0)},p(a,s){1&s&&y!==(y=a[3]+"")&&E(d,y)},d(a){a&&i(s),b=!1,D()}}}function O(a){let s,l,E,w,k,F,V,S,N,R,I,G,O,U,L,q,J,z,M,Q,_,K,P,W,X,Y,Z,aa,sa,la,ta,ea,na,ca,ra,oa;l=new H({});let ia=a[1].length>0&&A(a),ha=a[0].length>0&&$(a);return{c(){s=n(),m(l.$$.fragment),E=n(),w=t("div"),k=t("h1"),F=t("b"),V=e("Capfiles"),S=n(),ia&&ia.c(),N=n(),R=t("hr"),I=n(),G=t("div"),O=t("h1"),U=t("b"),L=e("Edit Capfile Content"),q=e("\n\non click on capfiles, show another table of capfile content\n\n\n"),J=t("button"),z=e("Convert to CSV"),M=n(),Q=t("hr"),_=n(),K=t("div"),P=t("h1"),W=t("b"),X=e("Gridfs Files (CSVs stored in GridFS)"),Y=n(),Z=t("button"),aa=e("Reload GrifFS"),sa=n(),la=t("hr"),ta=n(),ha&&ha.c(),ea=n(),na=t("hr"),this.h()},l(a){T('[data-svelte="svelte-qmgm2y"]',B.head).forEach(i),s=h(a),x(l.$$.fragment,a),E=h(a),w=c(a,"DIV",{class:!0});var t=r(w);k=c(t,"H1",{class:!0,style:!0});var e=r(k);F=c(e,"B",{});var n=r(F);V=o(n,"Capfiles"),n.forEach(i),e.forEach(i),t.forEach(i),S=h(a),ia&&ia.l(a),N=h(a),R=c(a,"HR",{class:!0}),I=h(a),G=c(a,"DIV",{class:!0});var f=r(G);O=c(f,"H1",{class:!0,style:!0});var d=r(O);U=c(d,"B",{});var v=r(U);L=o(v,"Edit Capfile Content"),v.forEach(i),d.forEach(i),f.forEach(i),q=o(a,"\n\non click on capfiles, show another table of capfile content\n\n\n"),J=c(a,"BUTTON",{class:!0});var p=r(J);z=o(p,"Convert to CSV"),p.forEach(i),M=h(a),Q=c(a,"HR",{class:!0}),_=h(a),K=c(a,"DIV",{class:!0});var u=r(K);P=c(u,"H1",{class:!0,style:!0});var g=r(P);W=c(g,"B",{});var m=r(W);X=o(m,"Gridfs Files (CSVs stored in GridFS)"),m.forEach(i),g.forEach(i),u.forEach(i),Y=h(a),Z=c(a,"BUTTON",{class:!0});var b=r(Z);aa=o(b,"Reload GrifFS"),b.forEach(i),sa=h(a),la=c(a,"HR",{class:!0}),ta=h(a),ha&&ha.l(a),ea=h(a),na=c(a,"HR",{class:!0}),this.h()},h(){B.title="Database",f(k,"class","w3-text-yellow"),d(k,"text-shadow","1px 1px 0 #444"),f(w,"class","w3-panel w3-blue"),f(R,"class","svelte-lxonyp"),f(O,"class","w3-text-yellow"),d(O,"text-shadow","1px 1px 0 #444"),f(G,"class","w3-panel w3-blue"),f(J,"class","w3-col w3-input w3-border"),f(Q,"class","svelte-lxonyp"),f(P,"class","w3-text-yellow"),d(P,"text-shadow","1px 1px 0 #444"),f(K,"class","w3-panel w3-blue"),f(Z,"class","w3-col w3-input w3-border"),f(la,"class","svelte-lxonyp"),f(na,"class","svelte-lxonyp")},m(t,e){v(t,s,e),b(l,t,e),v(t,E,e),v(t,w,e),p(w,k),p(k,F),p(F,V),v(t,S,e),ia&&ia.m(t,e),v(t,N,e),v(t,R,e),v(t,I,e),v(t,G,e),p(G,O),p(O,U),p(U,L),v(t,q,e),v(t,J,e),p(J,z),v(t,M,e),v(t,Q,e),v(t,_,e),v(t,K,e),p(K,P),p(P,W),p(W,X),v(t,Y,e),v(t,Z,e),p(Z,aa),v(t,sa,e),v(t,la,e),v(t,ta,e),ha&&ha.m(t,e),v(t,ea,e),v(t,na,e),ca=!0,ra||(oa=[u(J,"click",j),u(Z,"click",a[2])],ra=!0)},p(a,[s]){a[1].length>0?ia?ia.p(a,s):(ia=A(a),ia.c(),ia.m(N.parentNode,N)):ia&&(ia.d(1),ia=null),a[0].length>0?ha?ha.p(a,s):(ha=$(a),ha.c(),ha.m(ea.parentNode,ea)):ha&&(ha.d(1),ha=null)},i(a){ca||(D(l.$$.fragment,a),ca=!0)},o(a){y(l.$$.fragment,a),ca=!1},d(a){a&&i(s),C(l,a),a&&i(E),a&&i(w),a&&i(S),ia&&ia.d(a),a&&i(N),a&&i(R),a&&i(I),a&&i(G),a&&i(q),a&&i(J),a&&i(M),a&&i(Q),a&&i(_),a&&i(K),a&&i(Y),a&&i(Z),a&&i(sa),a&&i(la),a&&i(ta),ha&&ha.d(a),a&&i(ea),a&&i(na),ra=!1,g(oa)}}}function U(){console.log(this.parentElement.parentElement.parentElement.firstElementChild.innerText)}function j(){}function L(){console.log(this.parentElement.parentElement.firstElementChild.innerText),console.log(this.getAttribute("index"),"hereeee....")}function q(a,s,l){let t=[],e=[];function n(){V("/allgridfs",(function(a){let s=JSON.parse(a.response);s.data&&(S.success("Found data."),l(0,t=s.data))}))}return k((async()=>{n(),V("/capfile/all",(function(a){let s=JSON.parse(a.response);s.data&&(S.success("Found data."),l(1,e=s.data),console.log(e))}))})),[t,e,n]}export default class extends a{constructor(a){super(),s(this,a,q,O,l,{})}}
