import{S as t,i as e,s as a,e as s,t as n,c as o,a as l,g as r,d as c,f as i,F as f,h as u,k as h,n as d,b as m,G as p,H as g,l as v,v as E,j as b,m as w,o as y,a6 as S,r as $,w as k,B as I,u as x,M as B,Q as D,z as T,a7 as O,a4 as N,a5 as V,N as H,L as C,R}from"../../chunks/vendor-5d015fce.js";import{T as j}from"../../chunks/index-b7ca9129.js";import{T as F,n as L,x as P,a as _,g as M}from"../../chunks/requests-b02e315d.js";import{s as q,a as U,b as A}from"../../chunks/store-50f97f41.js";/* empty css                                                       */function z(t){let e,a,h,d,m,p,g=t[2].toFixed(3)+"";return{c(){e=s("h6"),a=n("Frame: "),h=n(t[3]),d=n(" at time t="),m=n(g),p=n(" seconds.")},l(s){e=o(s,"H6",{});var n=l(e);a=r(n,"Frame: "),h=r(n,t[3]),d=r(n," at time t="),m=r(n,g),p=r(n," seconds."),n.forEach(c)},m(t,s){i(t,e,s),f(e,a),f(e,h),f(e,d),f(e,m),f(e,p)},p(t,e){8&e&&u(h,t[3]),4&e&&g!==(g=t[2].toFixed(3)+"")&&u(m,g)},d(t){t&&c(e)}}}function J(t){let e,a,n,r,u,v,E=t[0]&&z(t);return{c(){e=s("div"),E&&E.c(),a=h(),n=s("img"),this.h()},l(t){e=o(t,"DIV",{ref:!0,class:!0});var s=l(e);E&&E.l(s),a=d(s),n=o(s,"IMG",{src:!0,alt:!0}),s.forEach(c),this.h()},h(){n.src!==(r=t[1])&&m(n,"src",r),m(n,"alt",W),m(e,"ref","display"),m(e,"class","image-display")},m(s,o){i(s,e,o),E&&E.m(e,null),f(e,a),f(e,n),u||(v=p(e,"click",t[4]),u=!0)},p(t,[s]){t[0]?E?E.p(t,s):(E=z(t),E.c(),E.m(e,a)):E&&(E.d(1),E=null),2&s&&n.src!==(r=t[1])&&m(n,"src",r)},i:g,o:g,d(t){t&&c(e),E&&E.d(),u=!1,v()}}}let W="carla viewer";function G(t,e,a){let{sensorName:s=""}=e,{showStats:n=!0}=e,{startImage:o=""}=e,{src:l="data:image/jpeg;base64,"+o}=e,{timestamp:r=0}=e,{frame:c=0}=e,{sensorData:i={}}=e;return t.$$set=t=>{"sensorName"in t&&a(5,s=t.sensorName),"showStats"in t&&a(0,n=t.showStats),"startImage"in t&&a(6,o=t.startImage),"src"in t&&a(1,l=t.src),"timestamp"in t&&a(2,r=t.timestamp),"frame"in t&&a(3,c=t.frame),"sensorData"in t&&a(7,i=t.sensorData)},[n,l,r,c,function(){console.log(c)},s,o,i]}class Q extends t{constructor(t){super(),e(this,t,G,J,a,{sensorName:5,showStats:0,startImage:6,src:1,timestamp:2,frame:3,sensorData:7})}}class K extends t{constructor(t){super(),e(this,t,null,null,a,{})}}function X(t,e,a){const s=t.slice();return s[35]=e[a],s[36]=e,s[37]=a,s}function Y(t){let e,a,s,n;function o(e){t[10](e,t[35])}function l(e){t[11](e,t[35])}let r={};return void 0!==t[35].name&&(r.name=t[35].name),void 0!==t[35].type&&(r.type=t[35].type),e=new K({props:r}),N.push((()=>V(e,"name",o))),N.push((()=>V(e,"type",l))),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p(n,o){t=n;const l={};!a&&2&o[0]&&(a=!0,l.name=t[35].name,S((()=>a=!1))),!s&&2&o[0]&&(s=!0,l.type=t[35].type,S((()=>s=!1))),e.$set(l)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Z(t){let e,a,s=t[3].includes(t[35]),n=s&&Y(t);return{c(){n&&n.c(),e=v()},l(t){n&&n.l(t),e=v()},m(t,s){n&&n.m(t,s),i(t,e,s),a=!0},p(t,a){2&a[0]&&(s=t[3].includes(t[35])),s?n?(n.p(t,a),2&a[0]&&E(n,1)):(n=Y(t),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(I(),$(n,1,1,(()=>{n=null})),x())},i(t){a||(E(n),a=!0)},o(t){$(n),a=!1},d(t){n&&n.d(t),t&&c(e)}}}function tt(t){let e,a,g,v,S,T,O,N,V,H,C,R,j,L,P,_,M,q,U,A,z,J,W,G,K,Y,tt,et,at,st,nt,ot,lt,rt,ct,it,ft,ut,ht,dt,mt,pt,gt,vt,Et,bt,wt,yt,St,$t,kt,It,xt,Bt,Dt,Tt,Ot,Nt,Vt,Ht,Ct,Rt,jt,Ft,Lt,Pt,_t,Mt,qt,Ut,At,zt,Jt,Wt,Gt,Qt,Kt,Xt,Yt,Zt,te,ee,ae,se,ne,oe,le,re,ce,ie,fe,ue,he,de,me,pe,ge,ve,Ee,be,we,ye=t[2].throttle.toFixed(3)+"",Se=t[2].brake.toFixed(3)+"",$e=t[2].steer.toFixed(3)+"";e=new F({}),ce=new Q({props:{sensorName:"autopilot-camera1",":showStats":"false"}}),ue=new Q({props:{sensorName:"autopilot-camera2",":showStats":"false"}});let ke=t[1],Ie=[];for(let s=0;s<ke.length;s+=1)Ie[s]=Z(X(t,ke,s));const xe=t=>$(Ie[t],1,1,(()=>{Ie[t]=null}));return{c(){b(e.$$.fragment),a=h(),g=s("div"),v=s("h5"),S=n(t[0]),T=h(),O=s("div"),N=s("div"),V=s("div"),H=s("b"),C=s("div"),R=s("h4"),j=n("Manual Control"),L=h(),P=s("form"),_=s("input"),M=h(),q=s("h4"),U=n("Vehicle Inputs"),A=h(),z=s("b"),J=s("b"),W=s("label"),G=n("Throttle:"),K=h(),Y=s("b"),tt=s("form"),et=h(),at=s("b"),st=s("div"),nt=n(ye),ot=h(),lt=s("b"),rt=s("b"),ct=s("label"),it=n("Brake:"),ft=h(),ut=s("b"),ht=s("form"),dt=h(),mt=s("b"),pt=s("div"),gt=n(Se),vt=h(),Et=s("b"),bt=s("b"),wt=s("label"),yt=n("Steer:"),St=h(),$t=s("b"),kt=s("form"),It=h(),xt=s("b"),Bt=s("div"),Dt=n($e),Tt=h(),Ot=s("b"),Nt=s("b"),Vt=s("h4"),Ht=n("Position"),Ct=h(),Rt=s("p"),jt=n(t[5]),Ft=h(),Lt=s("b"),Pt=s("h4"),_t=n("Orientation"),Mt=h(),qt=s("p"),Ut=n(t[6]),At=h(),zt=s("b"),Jt=s("h4"),Wt=n("Speed"),Gt=h(),Qt=s("p"),Kt=n(t[4]),Xt=h(),Yt=s("div"),Zt=s("button"),te=n("Reset Vehicle"),ee=h(),ae=s("div"),se=s("h4"),ne=n("Dash Cam"),oe=h(),le=s("b"),re=s("b"),b(ce.$$.fragment),ie=h(),fe=s("b"),b(ue.$$.fragment),he=h(),de=s("h4"),me=n("Sensors"),pe=h(),ge=s("div"),ve=s("div");for(let t=0;t<Ie.length;t+=1)Ie[t].c();this.h()},l(s){w(e.$$.fragment,s),a=d(s),g=o(s,"DIV",{class:!0});var n=l(g);v=o(n,"H5",{});var i=l(v);S=r(i,t[0]),i.forEach(c),T=d(n),O=o(n,"DIV",{class:!0});var f=l(O);N=o(f,"DIV",{class:!0});var u=l(N);V=o(u,"DIV",{fluid:!0,class:!0});var h=l(V);H=o(h,"B",{});var m=l(H);C=o(m,"DIV",{class:!0});var p=l(C);R=o(p,"H4",{});var E=l(R);j=r(E,"Manual Control"),E.forEach(c),L=d(p),P=o(p,"FORM",{class:!0,id:!0,label:!0,"label-for":!0,"label-cols":!0});var b=l(P);_=o(b,"INPUT",{type:!0}),b.forEach(c),M=d(p),q=o(p,"H4",{});var y=l(q);U=r(y,"Vehicle Inputs"),y.forEach(c),A=d(p),z=o(p,"B",{});var $=l(z);J=o($,"B",{cols:!0,class:!0});var k=l(J);W=o(k,"LABEL",{for:!0});var I=l(W);G=r(I,"Throttle:"),I.forEach(c),k.forEach(c),K=d($),Y=o($,"B",{cols:!0,class:!0});var x=l(Y);tt=o(x,"FORM",{id:!0,"v-model":!0,type:!0,min:!0,max:!0,step:!0,number:!0}),l(tt).forEach(c),x.forEach(c),et=d($),at=o($,"B",{cols:!0,class:!0});var B=l(at);st=o(B,"DIV",{class:!0});var D=l(st);nt=r(D,ye),D.forEach(c),B.forEach(c),$.forEach(c),ot=d(p),lt=o(p,"B",{});var F=l(lt);rt=o(F,"B",{cols:!0,class:!0});var Q=l(rt);ct=o(Q,"LABEL",{for:!0});var X=l(ct);it=r(X,"Brake:"),X.forEach(c),Q.forEach(c),ft=d(F),ut=o(F,"B",{cols:!0,class:!0});var Z=l(ut);ht=o(Z,"FORM",{id:!0,"v-model":!0,type:!0,min:!0,max:!0,step:!0,number:!0}),l(ht).forEach(c),Z.forEach(c),dt=d(F),mt=o(F,"B",{cols:!0,class:!0});var Ee=l(mt);pt=o(Ee,"DIV",{class:!0});var be=l(pt);gt=r(be,Se),be.forEach(c),Ee.forEach(c),F.forEach(c),vt=d(p),Et=o(p,"B",{});var we=l(Et);bt=o(we,"B",{cols:!0,class:!0});var ke=l(bt);wt=o(ke,"LABEL",{for:!0});var xe=l(wt);yt=r(xe,"Steer:"),xe.forEach(c),ke.forEach(c),St=d(we),$t=o(we,"B",{cols:!0,class:!0});var Be=l($t);kt=o(Be,"FORM",{id:!0,"v-model":!0,type:!0,min:!0,max:!0,step:!0,number:!0}),l(kt).forEach(c),Be.forEach(c),It=d(we),xt=o(we,"B",{cols:!0,class:!0});var De=l(xt);Bt=o(De,"DIV",{class:!0});var Te=l(Bt);Dt=r(Te,$e),Te.forEach(c),De.forEach(c),we.forEach(c),Tt=d(p),Ot=o(p,"B",{class:!0});var Oe=l(Ot);Nt=o(Oe,"B",{});var Ne=l(Nt);Vt=o(Ne,"H4",{});var Ve=l(Vt);Ht=r(Ve,"Position"),Ve.forEach(c),Ct=d(Ne),Rt=o(Ne,"P",{class:!0});var He=l(Rt);jt=r(He,t[5]),He.forEach(c),Ne.forEach(c),Ft=d(Oe),Lt=o(Oe,"B",{});var Ce=l(Lt);Pt=o(Ce,"H4",{});var Re=l(Pt);_t=r(Re,"Orientation"),Re.forEach(c),Mt=d(Ce),qt=o(Ce,"P",{class:!0});var je=l(qt);Ut=r(je,t[6]),je.forEach(c),Ce.forEach(c),At=d(Oe),zt=o(Oe,"B",{});var Fe=l(zt);Jt=o(Fe,"H4",{});var Le=l(Jt);Wt=r(Le,"Speed"),Le.forEach(c),Gt=d(Fe),Qt=o(Fe,"P",{class:!0});var Pe=l(Qt);Kt=r(Pe,t[4]),Pe.forEach(c),Fe.forEach(c),Oe.forEach(c),Xt=d(p),Yt=o(p,"DIV",{class:!0});var _e=l(Yt);Zt=o(_e,"BUTTON",{class:!0});var Me=l(Zt);te=r(Me,"Reset Vehicle"),Me.forEach(c),_e.forEach(c),p.forEach(c),ee=d(m),ae=o(m,"DIV",{class:!0});var qe=l(ae);se=o(qe,"H4",{});var Ue=l(se);ne=r(Ue,"Dash Cam"),Ue.forEach(c),oe=d(qe),le=o(qe,"B",{});var Ae=l(le);re=o(Ae,"B",{});var ze=l(re);w(ce.$$.fragment,ze),ze.forEach(c),ie=d(Ae),fe=o(Ae,"B",{});var Je=l(fe);w(ue.$$.fragment,Je),Je.forEach(c),Ae.forEach(c),qe.forEach(c),m.forEach(c),he=d(h),de=o(h,"H4",{});var We=l(de);me=r(We,"Sensors"),We.forEach(c),pe=d(h),ge=o(h,"DIV",{class:!0});var Ge=l(ge);ve=o(Ge,"DIV",{class:!0});var Qe=l(ve);for(let t=0;t<Ie.length;t+=1)Ie[t].l(Qe);Qe.forEach(c),Ge.forEach(c),h.forEach(c),u.forEach(c),f.forEach(c),n.forEach(c),this.h()},h(){m(_,"type","checkbox"),m(P,"class","align-items-center"),m(P,"id","manual-control-group"),m(P,"label","Manual Control:"),m(P,"label-for","manual-control"),m(P,"label-cols","2"),m(W,"for","range-throttle"),m(J,"cols","2"),m(J,"class","align-self-center"),m(tt,"id","range-throttle"),m(tt,"v-model","control.throttle"),m(tt,"type","range"),m(tt,"min","0"),m(tt,"max","1"),m(tt,"step","0.01"),m(tt,"number",""),m(Y,"cols","8"),m(Y,"class","align-self-center"),m(st,"class","mt-2"),m(at,"cols","2"),m(at,"class","align-self-center"),m(ct,"for","range-brake"),m(rt,"cols","2"),m(rt,"class","align-self-center"),m(ht,"id","range-brake"),m(ht,"v-model","control.brake"),m(ht,"type","range"),m(ht,"min","0"),m(ht,"max","1"),m(ht,"step","0.01"),m(ht,"number",""),m(ut,"cols","8"),m(ut,"class","align-self-center"),m(pt,"class","mt-2"),m(mt,"cols","2"),m(mt,"class","align-self-center"),m(wt,"for","range-throttle"),m(bt,"cols","2"),m(bt,"class","align-self-center"),m(kt,"id","range-steer"),m(kt,"v-model","control.steer"),m(kt,"type","range"),m(kt,"min","-1"),m(kt,"max","1"),m(kt,"step","0.01"),m(kt,"number",""),m($t,"cols","8"),m($t,"class","align-self-center"),m(Bt,"class","mt-2"),m(xt,"cols","2"),m(xt,"class","align-self-center"),m(Rt,"class","svelte-au1azq"),m(qt,"class","svelte-au1azq"),m(Qt,"class","svelte-au1azq"),m(Ot,"class","mt-3"),m(Zt,"class","my-1 align-self-center"),m(Yt,"class","text-center"),m(C,"class","col-xl-6"),m(ae,"class","col-xl-6"),m(ve,"class",""),m(ge,"class",""),m(V,"fluid",""),m(V,"class","w3-container"),m(N,"class","autopilot"),m(O,"class","w3-responsive"),m(g,"class","w3-container")},m(s,n){y(e,s,n),i(s,a,n),i(s,g,n),f(g,v),f(v,S),f(g,T),f(g,O),f(O,N),f(N,V),f(V,H),f(H,C),f(C,R),f(R,j),f(C,L),f(C,P),f(P,_),f(C,M),f(C,q),f(q,U),f(C,A),f(C,z),f(z,J),f(J,W),f(W,G),f(z,K),f(z,Y),f(Y,tt),f(z,et),f(z,at),f(at,st),f(st,nt),f(C,ot),f(C,lt),f(lt,rt),f(rt,ct),f(ct,it),f(lt,ft),f(lt,ut),f(ut,ht),f(lt,dt),f(lt,mt),f(mt,pt),f(pt,gt),f(C,vt),f(C,Et),f(Et,bt),f(bt,wt),f(wt,yt),f(Et,St),f(Et,$t),f($t,kt),f(Et,It),f(Et,xt),f(xt,Bt),f(Bt,Dt),f(C,Tt),f(C,Ot),f(Ot,Nt),f(Nt,Vt),f(Vt,Ht),f(Nt,Ct),f(Nt,Rt),f(Rt,jt),f(Ot,Ft),f(Ot,Lt),f(Lt,Pt),f(Pt,_t),f(Lt,Mt),f(Lt,qt),f(qt,Ut),f(Ot,At),f(Ot,zt),f(zt,Jt),f(Jt,Wt),f(zt,Gt),f(zt,Qt),f(Qt,Kt),f(C,Xt),f(C,Yt),f(Yt,Zt),f(Zt,te),f(H,ee),f(H,ae),f(ae,se),f(se,ne),f(ae,oe),f(ae,le),f(le,re),y(ce,re,null),f(le,ie),f(le,fe),y(ue,fe,null),f(V,he),f(V,de),f(de,me),f(V,pe),f(V,ge),f(ge,ve);for(let t=0;t<Ie.length;t+=1)Ie[t].m(ve,null);Ee=!0,be||(we=[p(_,"change",t[7]),p(Zt,"click",t[8])],be=!0)},p(t,e){if((!Ee||1&e[0])&&u(S,t[0]),(!Ee||4&e[0])&&ye!==(ye=t[2].throttle.toFixed(3)+"")&&u(nt,ye),(!Ee||4&e[0])&&Se!==(Se=t[2].brake.toFixed(3)+"")&&u(gt,Se),(!Ee||4&e[0])&&$e!==($e=t[2].steer.toFixed(3)+"")&&u(Dt,$e),10&e[0]){let a;for(ke=t[1],a=0;a<ke.length;a+=1){const s=X(t,ke,a);Ie[a]?(Ie[a].p(s,e),E(Ie[a],1)):(Ie[a]=Z(s),Ie[a].c(),E(Ie[a],1),Ie[a].m(ve,null))}for(I(),a=ke.length;a<Ie.length;a+=1)xe(a);x()}},i(t){if(!Ee){E(e.$$.fragment,t),E(ce.$$.fragment,t),E(ue.$$.fragment,t);for(let t=0;t<ke.length;t+=1)E(Ie[t]);Ee=!0}},o(t){$(e.$$.fragment,t),$(ce.$$.fragment,t),$(ue.$$.fragment,t),Ie=Ie.filter(Boolean);for(let e=0;e<Ie.length;e+=1)$(Ie[e]);Ee=!1},d(t){k(e,t),t&&c(a),t&&c(g),k(ce),k(ue),B(Ie,t),be=!1,D(we)}}}function et(t,e,a){let{title:s}=e,{input_data:n}=e,o=[{name:"autopilot-gnss",type:"gnss"},{name:"autopilot-imu",type:"imu"},{name:"autopilot-tachometer",type:"tachometer"},{name:"autopilot-camera1",type:"camera"},{name:"autopilot-camera2",type:"camera"}],l=!1,r=null,c={throttle:0,brake:0,steer:0},i={};function f(t){let e=i[t];return e||null}let u=f("autopilot-tachometer");u&&u.speed.toFixed(3);let h=f("autopilot-gnss");h&&(h.latitude,h.longitude,h.altitude.toFixed(2));let d=f("autopilot-imu");function m(){console.log("Manual Control switched on"),window.addEventListener("keydown",p),window.addEventListener("keyup",g),a(2,c.throttle=0,c),a(2,c.brake=1,c),a(2,c.steer=0,c)}function p(t){let e=String.fromCharCode(t.keyCode).toLowerCase();l&&r===e||(l=!0,r=e,"w"===e?a(2,c.throttle=1,c):"a"===e?a(2,c.steer=-1,c):"s"===e?a(2,c.brake=1,c):"d"===e&&a(2,c.steer=1,c),v())}function g(t){l=!1;let e=String.fromCharCode(t.keyCode).toLowerCase();"w"===e?a(2,c.throttle=0,c):"a"===e?a(2,c.steer=0,c):"s"===e?a(2,c.brake=0,c):"d"===e&&a(2,c.steer=0,c),v()}function v(){O({method:"POST",url:"http://localhost:8300/control",data:c,headers:{"content-type":"application/json"}}).catch((function(t){L.danger("apply control failed")}))}return d&&d.orientation.toFixed(3),T((async()=>{let t={enabled:!0,updateInterval:.1,imageWidth:800,imageHeight:600,fov:90},e="/sensor/camera/autopilot-camera1";O({method:"POST",url:e,data:{settings:t},headers:{"content-type":"application/json"}}).catch((function(t){L.danger("axos request 1 to carla failed")})),t.position={x:-6,y:0,z:5},t.rotation={roll:0,pitch:-35,yaw:0},e="/sensor/camera/autopilot-camera2",O({method:"POST",url:e,data:{settings:t},headers:{"content-type":"application/json"}}).catch((function(t){L.danger("axos request 2 to carla failed")}));e="/sensor/imu/autopilot-imu",O({method:"POST",url:e,data:{settings:{enabled:!0,updateInterval:.1}},headers:{"content-type":"application/json"}}).catch((function(t){L.danger("axos request 3 to carla failed")}));e="/sensor/gnss/autopilot-gnss",O({method:"POST",url:e,data:{settings:{enabled:!0,updateInterval:.1}},headers:{"content-type":"application/json"}}).catch((function(t){L.danger("axos request 4 to carla failed")}));e="/sensor/tachometer/autopilot-tachometer",O({method:"POST",url:e,data:{settings:{enabled:!0,updateInterval:.1}},headers:{"content-type":"application/json"}}).then((()=>{L.danger("canging to manual control"),m()})),L.success("The required sensors for the autopilot have been successfully created.")})),t.$$set=t=>{"title"in t&&a(0,s=t.title),"input_data"in t&&a(9,n=t.input_data)},[s,o,c,[],u,h,d,m,function(){a(2,c.throttle=0,c),a(2,c.brake=1,c),a(2,c.steer=0,c),O({method:"POST",url:"/config",headers:{"content-type":"application/json"},data:{simulation:{reset:!0}}}).then((()=>{console.log("Simulation was reset!")}),(t=>{console.log(t)}))},n,function(e,s){t.$$.not_equal(s.name,e)&&(s.name=e,a(1,o))},function(e,s){t.$$.not_equal(s.type,e)&&(s.type=e,a(1,o))}]}class at extends t{constructor(t){super(),e(this,t,et,tt,a,{title:0,input_data:9},[-1,-1])}}function st(t){let e,a,u,v,E,b,w,y,S,$;return{c(){e=s("div"),a=s("span"),u=n("×"),v=h(),E=s("img"),w=h(),y=s("div"),this.h()},l(t){e=o(t,"DIV",{id:!0,class:!0});var s=l(e);a=o(s,"SPAN",{class:!0});var n=l(a);u=r(n,"×"),n.forEach(c),v=d(s),E=o(s,"IMG",{class:!0,id:!0,src:!0}),w=d(s),y=o(s,"DIV",{id:!0,class:!0}),l(y).forEach(c),s.forEach(c),this.h()},h(){m(a,"class","close svelte-rk4oiy"),m(E,"class","modal-content svelte-rk4oiy"),m(E,"id","img01"),E.src!==(b="")&&m(E,"src",""),m(y,"id","caption"),m(y,"class","svelte-rk4oiy"),m(e,"id","myModal"),m(e,"class","modal svelte-rk4oiy")},m(t,s){i(t,e,s),f(e,a),f(a,u),f(e,v),f(e,E),f(e,w),f(e,y),S||($=p(a,"click",nt),S=!0)},p:g,i:g,o:g,d(t){t&&c(e),S=!1,$()}}}function nt(){document.getElementById("myModal").style.display="none"}function ot(t,e){var a=document.getElementById("myModal"),s=document.getElementById("img01"),n=document.getElementById("caption");a.style.display="block",s.src=t,n.innerHTML=e}function lt(t,e,a){return[ot]}class rt extends t{constructor(t){super(),e(this,t,lt,st,a,{changeImage:0})}get changeImage(){return ot}}function ct(t,e,a){const s=t.slice();return s[33]=e[a],s[35]=a,s}function it(t,e,a){const s=t.slice();return s[36]=e[a],s[35]=a,s}function ft(t,e,a){const s=t.slice();return s[36]=e[a],s[35]=a,s}function ut(t,e,a){const s=t.slice();return s[39]=e[a],s[40]=e,s[41]=a,s}function ht(t){let e,a,g,v,b,w,y,S,k,B,T,O,N,V,H,C,R,j,F,L,P,_,M,q,U,A,z,J,W,G,Q,K,X,Y,Z,tt,et="configurations"in t[1]&&dt(t);return{c(){e=s("h4"),a=n("Scenario: "),g=n(t[3]),v=n(" Number of Containers: "),b=n(t[4]),w=n("."),y=h(),S=s("div"),k=s("div"),B=s("button"),T=n("Start Simulation"),O=h(),N=s("div"),V=s("button"),H=n("Stop Simulation"),C=h(),R=s("div"),j=s("button"),F=n("Reset WS Connection"),L=h(),P=s("hr"),_=h(),M=s("section"),q=s("h3"),U=n("Application Logs"),A=h(),z=s("button"),J=n("Clear Logs"),W=h(),et&&et.c(),G=h(),Q=s("br"),K=h(),X=s("hr"),this.h()},l(s){e=o(s,"H4",{});var n=l(e);a=r(n,"Scenario: "),g=r(n,t[3]),v=r(n," Number of Containers: "),b=r(n,t[4]),w=r(n,"."),n.forEach(c),y=d(s),S=o(s,"DIV",{class:!0});var i=l(S);k=o(i,"DIV",{class:!0});var f=l(k);B=o(f,"BUTTON",{class:!0});var u=l(B);T=r(u,"Start Simulation"),u.forEach(c),f.forEach(c),O=d(i),N=o(i,"DIV",{class:!0});var h=l(N);V=o(h,"BUTTON",{class:!0});var m=l(V);H=r(m,"Stop Simulation"),m.forEach(c),h.forEach(c),C=d(i),R=o(i,"DIV",{class:!0});var p=l(R);j=o(p,"BUTTON",{class:!0});var E=l(j);F=r(E,"Reset WS Connection"),E.forEach(c),p.forEach(c),i.forEach(c),L=d(s),P=o(s,"HR",{class:!0}),_=d(s),M=o(s,"SECTION",{class:!0});var $=l(M);q=o($,"H3",{});var I=l(q);U=r(I,"Application Logs"),I.forEach(c),$.forEach(c),A=d(s),z=o(s,"BUTTON",{class:!0});var x=l(z);J=r(x,"Clear Logs"),x.forEach(c),W=d(s),et&&et.l(s),G=d(s),Q=o(s,"BR",{}),K=d(s),X=o(s,"HR",{class:!0}),this.h()},h(){m(B,"class","w3-col w3-input w3-border"),m(k,"class","w3-third"),m(V,"class","w3-col w3-input w3-border"),m(N,"class","w3-third"),m(j,"class","w3-col w3-input w3-border"),m(R,"class","w3-third"),m(S,"class","w3-row w3-section"),m(P,"class","svelte-drd2kv"),m(M,"class","page-headline"),m(z,"class","w3-col w3-input w3-border w3-button"),m(X,"class","svelte-drd2kv")},m(s,n){i(s,e,n),f(e,a),f(e,g),f(e,v),f(e,b),f(e,w),i(s,y,n),i(s,S,n),f(S,k),f(k,B),f(B,T),f(S,O),f(S,N),f(N,V),f(V,H),f(S,C),f(S,R),f(R,j),f(j,F),i(s,L,n),i(s,P,n),i(s,_,n),i(s,M,n),f(M,q),f(q,U),i(s,A,n),i(s,z,n),f(z,J),i(s,W,n),et&&et.m(s,n),i(s,G,n),i(s,Q,n),i(s,K,n),i(s,X,n),Y=!0,Z||(tt=[p(B,"click",t[16]),p(V,"click",t[17]),p(j,"click",t[18]),p(z,"click",t[8])],Z=!0)},p(t,e){(!Y||8&e[0])&&u(g,t[3]),(!Y||16&e[0])&&u(b,t[4]),"configurations"in t[1]?et?(et.p(t,e),2&e[0]&&E(et,1)):(et=dt(t),et.c(),E(et,1),et.m(G.parentNode,G)):et&&(I(),$(et,1,1,(()=>{et=null})),x())},i(t){Y||(E(et),Y=!0)},o(t){$(et),Y=!1},d(t){t&&c(e),t&&c(y),t&&c(S),t&&c(L),t&&c(P),t&&c(_),t&&c(M),t&&c(A),t&&c(z),t&&c(W),et&&et.d(t),t&&c(G),t&&c(Q),t&&c(K),t&&c(X),Z=!1,D(tt)}}}function dt(t){let e,a,s=t[1].configurations.length>0&&mt(t);return{c(){s&&s.c(),e=v()},l(t){s&&s.l(t),e=v()},m(t,n){s&&s.m(t,n),i(t,e,n),a=!0},p(t,a){t[1].configurations.length>0?s?(s.p(t,a),2&a[0]&&E(s,1)):(s=mt(t),s.c(),E(s,1),s.m(e.parentNode,e)):s&&(I(),$(s,1,1,(()=>{s=null})),x())},i(t){a||(E(s),a=!0)},o(t){$(s),a=!1},d(t){s&&s.d(t),t&&c(e)}}}function mt(t){let e,a,s=t[1].configurations,n=[];for(let l=0;l<s.length;l+=1)n[l]=Et(ut(t,s,l));const o=t=>$(n[t],1,1,(()=>{n[t]=null}));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=v()},l(t){for(let e=0;e<n.length;e+=1)n[e].l(t);e=v()},m(t,s){for(let e=0;e<n.length;e+=1)n[e].m(t,s);i(t,e,s),a=!0},p(t,a){if(34&a[0]){let l;for(s=t[1].configurations,l=0;l<s.length;l+=1){const o=ut(t,s,l);n[l]?(n[l].p(o,a),E(n[l],1)):(n[l]=Et(o),n[l].c(),E(n[l],1),n[l].m(e.parentNode,e))}for(I(),l=s.length;l<n.length;l+=1)o(l);x()}},i(t){if(!a){for(let t=0;t<s.length;t+=1)E(n[t]);a=!0}},o(t){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)$(n[e]);a=!1},d(t){B(n,t),t&&c(e)}}}function pt(t){let e,a,s=t[41].toString()in t[5],n=s&&gt(t);return{c(){n&&n.c(),e=v()},l(t){n&&n.l(t),e=v()},m(t,s){n&&n.m(t,s),i(t,e,s),a=!0},p(t,a){32&a[0]&&(s=t[41].toString()in t[5]),s?n?(n.p(t,a),32&a[0]&&E(n,1)):(n=gt(t),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(I(),$(n,1,1,(()=>{n=null})),x())},i(t){a||(E(n),a=!0)},o(t){$(n),a=!1},d(t){n&&n.d(t),t&&c(e)}}}function gt(t){let e,a,s=t[5][t[41].toString()].length>0,n=s&&vt(t);return{c(){n&&n.c(),e=v()},l(t){n&&n.l(t),e=v()},m(t,s){n&&n.m(t,s),i(t,e,s),a=!0},p(t,a){32&a[0]&&(s=t[5][t[41].toString()].length>0),s?n?(n.p(t,a),32&a[0]&&E(n,1)):(n=vt(t),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(I(),$(n,1,1,(()=>{n=null})),x())},i(t){a||(E(n),a=!0)},o(t){$(n),a=!1},d(t){n&&n.d(t),t&&c(e)}}}function vt(t){let e,a,m,p,g,v,I=t[39].container_info.name+"";function x(e){t[19](e,t[41])}let B={title:t[39].container_info.name,headers:Object.keys(t[5][t[41].toString()][0])};return void 0!==t[5][t[41].toString()]&&(B.data=t[5][t[41].toString()]),p=new j({props:B}),N.push((()=>V(p,"data",x))),{c(){e=s("h5"),a=n(I),m=h(),b(p.$$.fragment)},l(t){e=o(t,"H5",{});var s=l(e);a=r(s,I),s.forEach(c),m=d(t),w(p.$$.fragment,t)},m(t,s){i(t,e,s),f(e,a),i(t,m,s),y(p,t,s),v=!0},p(e,s){t=e,(!v||2&s[0])&&I!==(I=t[39].container_info.name+"")&&u(a,I);const n={};2&s[0]&&(n.title=t[39].container_info.name),32&s[0]&&(n.headers=Object.keys(t[5][t[41].toString()][0])),!g&&32&s[0]&&(g=!0,n.data=t[5][t[41].toString()],S((()=>g=!1))),p.$set(n)},i(t){v||(E(p.$$.fragment,t),v=!0)},o(t){$(p.$$.fragment,t),v=!1},d(t){t&&c(e),t&&c(m),k(p,t)}}}function Et(t){let e,a,s=Object.keys(t[5]).length>0,n=s&&pt(t);return{c(){n&&n.c(),e=v()},l(t){n&&n.l(t),e=v()},m(t,s){n&&n.m(t,s),i(t,e,s),a=!0},p(t,a){32&a[0]&&(s=Object.keys(t[5]).length>0),s?n?(n.p(t,a),32&a[0]&&E(n,1)):(n=pt(t),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(I(),$(n,1,1,(()=>{n=null})),x())},i(t){a||(E(n),a=!0)},o(t){$(n),a=!1},d(t){n&&n.d(t),t&&c(e)}}}function bt(t){let e,a,u,g,v,E,b,w,y,S,$,k,I,x,B,T,O,N,V,C,R,j,F,L=t[6].length>0&&wt(t);return{c(){e=s("div"),a=s("div"),u=s("button"),g=n("Start Simulation"),v=h(),E=s("hr"),b=h(),w=s("div"),y=s("h1"),S=s("b"),$=n("Edit Files"),k=h(),L&&L.c(),I=h(),x=s("hr"),B=h(),T=s("div"),O=s("div"),N=s("button"),V=n("Delete Files"),C=h(),R=s("hr"),this.h()},l(t){e=o(t,"DIV",{class:!0});var s=l(e);a=o(s,"DIV",{class:!0});var n=l(a);u=o(n,"BUTTON",{class:!0});var i=l(u);g=r(i,"Start Simulation"),i.forEach(c),n.forEach(c),s.forEach(c),v=d(t),E=o(t,"HR",{class:!0}),b=d(t),w=o(t,"DIV",{class:!0});var f=l(w);y=o(f,"H1",{class:!0,style:!0});var h=l(y);S=o(h,"B",{});var m=l(S);$=r(m,"Edit Files"),m.forEach(c),h.forEach(c),f.forEach(c),k=d(t),L&&L.l(t),I=d(t),x=o(t,"HR",{class:!0}),B=d(t),T=o(t,"DIV",{class:!0});var p=l(T);O=o(p,"DIV",{class:!0});var D=l(O);N=o(D,"BUTTON",{class:!0});var H=l(N);V=r(H,"Delete Files"),H.forEach(c),D.forEach(c),p.forEach(c),C=d(t),R=o(t,"HR",{class:!0}),this.h()},h(){m(u,"class","w3-col w3-input w3-border"),m(a,"class","w3-rest"),m(e,"class","w3-row w3-section"),m(E,"class","svelte-drd2kv"),m(y,"class","w3-text-yellow"),H(y,"text-shadow","1px 1px 0 #444"),m(w,"class","w3-panel w3-blue"),m(x,"class","svelte-drd2kv"),m(N,"class","w3-col w3-input w3-border"),m(O,"class","w3-rest"),m(T,"class","w3-row w3-section"),m(R,"class","svelte-drd2kv")},m(s,n){i(s,e,n),f(e,a),f(a,u),f(u,g),i(s,v,n),i(s,E,n),i(s,b,n),i(s,w,n),f(w,y),f(y,S),f(S,$),i(s,k,n),L&&L.m(s,n),i(s,I,n),i(s,x,n),i(s,B,n),i(s,T,n),f(T,O),f(O,N),f(N,V),i(s,C,n),i(s,R,n),j||(F=[p(u,"click",t[11]),p(N,"click",t[13])],j=!0)},p(t,e){t[6].length>0?L?L.p(t,e):(L=wt(t),L.c(),L.m(I.parentNode,I)):L&&(L.d(1),L=null)},d(t){t&&c(e),t&&c(v),t&&c(E),t&&c(b),t&&c(w),t&&c(k),L&&L.d(t),t&&c(I),t&&c(x),t&&c(B),t&&c(T),t&&c(C),t&&c(R),j=!1,D(F)}}}function wt(t){let e,a,n,r,u,p,g=Object.keys(t[6][0]),v=[];for(let s=0;s<g.length;s+=1)v[s]=yt(ft(t,g,s));let E=t[6],b=[];for(let s=0;s<E.length;s+=1)b[s]=It(ct(t,E,s));return{c(){e=s("div"),a=s("div"),n=s("table"),r=s("thead"),u=s("tr");for(let t=0;t<v.length;t+=1)v[t].c();p=h();for(let t=0;t<b.length;t+=1)b[t].c();this.h()},l(t){e=o(t,"DIV",{class:!0});var s=l(e);a=o(s,"DIV",{class:!0});var i=l(a);n=o(i,"TABLE",{class:!0,style:!0});var f=l(n);r=o(f,"THEAD",{});var h=l(r);u=o(h,"TR",{class:!0});var m=l(u);for(let e=0;e<v.length;e+=1)v[e].l(m);m.forEach(c),h.forEach(c),p=d(f);for(let e=0;e<b.length;e+=1)b[e].l(f);f.forEach(c),i.forEach(c),s.forEach(c),this.h()},h(){m(u,"class","w3-dark-grey"),m(n,"class","w3-table-all"),H(n,"width","100%"),m(a,"class","w3-responsive"),m(e,"class","w3-container")},m(t,s){i(t,e,s),f(e,a),f(a,n),f(n,r),f(r,u);for(let e=0;e<v.length;e+=1)v[e].m(u,null);f(n,p);for(let e=0;e<b.length;e+=1)b[e].m(n,null)},p(t,e){if(64&e[0]){let a;for(g=Object.keys(t[6][0]),a=0;a<g.length;a+=1){const s=ft(t,g,a);v[a]?v[a].p(s,e):(v[a]=yt(s),v[a].c(),v[a].m(u,null))}for(;a<v.length;a+=1)v[a].d(1);v.length=g.length}if(16448&e[0]){let a;for(E=t[6],a=0;a<E.length;a+=1){const s=ct(t,E,a);b[a]?b[a].p(s,e):(b[a]=It(s),b[a].c(),b[a].m(n,null))}for(;a<b.length;a+=1)b[a].d(1);b.length=E.length}},d(t){t&&c(e),B(v,t),B(b,t)}}}function yt(t){let e,a,h=t[36]+"";return{c(){e=s("th"),a=n(h)},l(t){e=o(t,"TH",{});var s=l(e);a=r(s,h),s.forEach(c)},m(t,s){i(t,e,s),f(e,a)},p(t,e){64&e[0]&&h!==(h=t[36]+"")&&u(a,h)},d(t){t&&c(e)}}}function St(t){let e,a,h=t[33][t[36]]+"";return{c(){e=s("td"),a=n(h)},l(t){e=o(t,"TD",{});var s=l(e);a=r(s,h),s.forEach(c)},m(t,s){i(t,e,s),f(e,a)},p(t,e){64&e[0]&&h!==(h=t[33][t[36]]+"")&&u(a,h)},d(t){t&&c(e)}}}function $t(t){let e,a,h,d,m=t[33][t[36]]+"";return{c(){e=s("td"),a=n(m)},l(t){e=o(t,"TD",{});var s=l(e);a=r(s,m),s.forEach(c)},m(s,n){i(s,e,n),f(e,a),h||(d=p(e,"click",t[14]),h=!0)},p(t,e){64&e[0]&&m!==(m=t[33][t[36]]+"")&&u(a,m)},d(t){t&&c(e),h=!1,d()}}}function kt(t){let e;function a(t,e){return"filename"==t[36]?$t:St}let s=a(t),n=s(t);return{c(){n.c(),e=v()},l(t){n.l(t),e=v()},m(t,a){n.m(t,a),i(t,e,a)},p(t,o){s===(s=a(t))&&n?n.p(t,o):(n.d(1),n=s(t),n&&(n.c(),n.m(e.parentNode,e)))},d(t){n.d(t),t&&c(e)}}}function It(t){let e,a,n=Object.keys(t[6][0]),r=[];for(let s=0;s<n.length;s+=1)r[s]=kt(it(t,n,s));return{c(){e=s("tr");for(let t=0;t<r.length;t+=1)r[t].c();a=h()},l(t){e=o(t,"TR",{});var s=l(e);for(let e=0;e<r.length;e+=1)r[e].l(s);a=d(s),s.forEach(c)},m(t,s){i(t,e,s);for(let a=0;a<r.length;a+=1)r[a].m(e,null);f(e,a)},p(t,s){if(16448&s[0]){let o;for(n=Object.keys(t[6][0]),o=0;o<n.length;o+=1){const l=it(t,n,o);r[o]?r[o].p(l,s):(r[o]=kt(l),r[o].c(),r[o].m(e,a))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&c(e),B(r,t)}}}function xt(t){let e,a,u,g,v,I,x,B,D,T,O,H,C,R;function j(e){t[20](e)}let F={title:"AutoPilot Component"};return void 0!==t[7]&&(F.input_data=t[7]),B=new at({props:F}),N.push((()=>V(B,"input_data",j))),{c(){e=s("div"),a=s("div"),u=s("button"),g=n("Start Simulation"),v=h(),I=s("hr"),x=h(),b(B.$$.fragment),T=h(),O=s("hr"),this.h()},l(t){e=o(t,"DIV",{class:!0});var s=l(e);a=o(s,"DIV",{class:!0});var n=l(a);u=o(n,"BUTTON",{class:!0});var i=l(u);g=r(i,"Start Simulation"),i.forEach(c),n.forEach(c),s.forEach(c),v=d(t),I=o(t,"HR",{class:!0}),x=d(t),w(B.$$.fragment,t),T=d(t),O=o(t,"HR",{class:!0}),this.h()},h(){m(u,"class","w3-col w3-input w3-border"),m(a,"class","w3-rest"),m(e,"class","w3-row w3-section"),m(I,"class","svelte-drd2kv"),m(O,"class","svelte-drd2kv")},m(s,n){i(s,e,n),f(e,a),f(a,u),f(u,g),i(s,v,n),i(s,I,n),i(s,x,n),y(B,s,n),i(s,T,n),i(s,O,n),H=!0,C||(R=p(u,"click",t[12]),C=!0)},p(t,e){const a={};!D&&128&e[0]&&(D=!0,a.input_data=t[7],S((()=>D=!1))),B.$set(a)},i(t){H||(E(B.$$.fragment,t),H=!0)},o(t){$(B.$$.fragment,t),H=!1},d(t){t&&c(e),t&&c(v),t&&c(I),t&&c(x),k(B,t),t&&c(T),t&&c(O),C=!1,R()}}}function Bt(t){let e,a,u,p,g,v,S,B,D,T,O,N,V,R,j,L,P,_,M;a=new F({});p=new rt({props:{}}),t[15](p);let q="Communication"==t[2]&&ht(t),U="Static"==t[2]&&bt(t),A="Driving Simulation"==t[2]&&xt(t);return{c(){e=h(),b(a.$$.fragment),u=h(),b(p.$$.fragment),g=h(),v=s("hr"),S=h(),B=s("div"),D=s("h1"),T=s("b"),O=n("Simulation"),N=h(),V=s("hr"),R=h(),q&&q.c(),j=h(),U&&U.c(),L=h(),A&&A.c(),P=h(),_=s("hr"),this.h()},l(t){C('[data-svelte="svelte-1smsifb"]',document.head).forEach(c),e=d(t),w(a.$$.fragment,t),u=d(t),w(p.$$.fragment,t),g=d(t),v=o(t,"HR",{class:!0}),S=d(t),B=o(t,"DIV",{class:!0});var s=l(B);D=o(s,"H1",{class:!0,style:!0});var n=l(D);T=o(n,"B",{});var i=l(T);O=r(i,"Simulation"),i.forEach(c),n.forEach(c),s.forEach(c),N=d(t),V=o(t,"HR",{class:!0}),R=d(t),q&&q.l(t),j=d(t),U&&U.l(t),L=d(t),A&&A.l(t),P=d(t),_=o(t,"HR",{class:!0}),this.h()},h(){document.title="Simulation",m(v,"class","svelte-drd2kv"),m(D,"class","w3-text-yellow"),H(D,"text-shadow","1px 1px 0 #444"),m(B,"class","w3-panel w3-blue"),m(V,"class","svelte-drd2kv"),m(_,"class","svelte-drd2kv")},m(t,s){i(t,e,s),y(a,t,s),i(t,u,s),y(p,t,s),i(t,g,s),i(t,v,s),i(t,S,s),i(t,B,s),f(B,D),f(D,T),f(T,O),i(t,N,s),i(t,V,s),i(t,R,s),q&&q.m(t,s),i(t,j,s),U&&U.m(t,s),i(t,L,s),A&&A.m(t,s),i(t,P,s),i(t,_,s),M=!0},p(t,e){p.$set({}),"Communication"==t[2]?q?(q.p(t,e),4&e[0]&&E(q,1)):(q=ht(t),q.c(),E(q,1),q.m(j.parentNode,j)):q&&(I(),$(q,1,1,(()=>{q=null})),x()),"Static"==t[2]?U?U.p(t,e):(U=bt(t),U.c(),U.m(L.parentNode,L)):U&&(U.d(1),U=null),"Driving Simulation"==t[2]?A?(A.p(t,e),4&e[0]&&E(A,1)):(A=xt(t),A.c(),E(A,1),A.m(P.parentNode,P)):A&&(I(),$(A,1,1,(()=>{A=null})),x())},i(t){M||(E(a.$$.fragment,t),E(p.$$.fragment,t),E(q),E(A),M=!0)},o(t){$(a.$$.fragment,t),$(p.$$.fragment,t),$(q),$(A),M=!1},d(s){s&&c(e),k(a,s),s&&c(u),t[15](null),k(p,s),s&&c(g),s&&c(v),s&&c(S),s&&c(B),s&&c(N),s&&c(V),s&&c(R),q&&q.d(s),s&&c(j),U&&U.d(s),s&&c(L),A&&A.d(s),s&&c(P),s&&c(_)}}}function Dt(t,e,a){let s,n=[],o={},l="";const r=q.subscribe((t=>{n=t})),c=U.subscribe((t=>{a(1,o=t)})),i=A.subscribe((t=>{a(2,l=t)}));let f=[],u=[];R((()=>{r(),c(),i();for(let t=0;t<f.length;t++)f[t].close();for(let t=0;t<u.length;t++)u[t].close()}));let h="Please create and select a scenario before starting the simulation.",d=!1,m=0,p=[],g={},v=[],E=[];function b(){for(const[t,e]of Object.entries(g))a(5,g[t]=[],g)}async function w(t){if(!d)return void L.danger("please create and activate a scenario first.");"start"==t&&b(),_("/simulation/comm","POST",{command:t,configs:o},(function(t){t.data&&(L.success("simulation started."),console.log("response of simulation",t.data))}))}function y(){for(var t=0;t<f.length;t++)ws=f[t],ws.close()}T((async()=>{let t="";for(let e=0;e<n.length;e++)n[e].activated&&(a(3,h=n[e].name),d=!0,t="/api/db1/scenario_configurations/ref-"+n[e]._id);!function(t,e){P(t,(function(t){let a=JSON.parse(t.response);a.data&&a.data.length>0&&(U.set(a.data[0]),e())}))}(t,(function(){if("Communication"==o.type){"configurations"in o&&a(4,m=o.configurations.length);for(var t=0;t<m;t++){a(5,g[t.toString()]=[],g);let e="ws://localhost:8000/simulation/comm/ws/"+t.toString(),s=new WebSocket(e);s.onopen=function(){window.console.log("Successfully connected to the echo websocket server...")},s.onmessage=function(t){let e=JSON.parse(t.data);console.log(e,"printing JSON now");let s=e.client_index,n=JSON.parse(e.data);"status"in n?p[s]=n.status:a(5,g[s]=[...g[s],n],g)},f.push(s)}}if("Static"==o.type){console.log("hello static sample");let t=new WebSocket("ws://localhost:8000/simulation/static/ws");t.onopen=function(){window.console.log("static simulation websocket")},t.onmessage=function(t){let e=JSON.parse(t.data);a(6,v=[...v,e])},u.push(t)}"Communication"==o.type&&console.log("hello driving scenario")}))}));return[s,o,l,h,m,g,v,E,b,w,y,function(){_("/simulation/static","POST",{configs:o},(function(t){t.data&&(L.success("simulation started."),console.log("response of simulation",t.data))}))},function(){_("/simulation/static","POST",{configs:o},(function(t){t.data&&(L.success("simulation started."),console.log("response of simulation",t.data))}))},function(){_("/simulation/static","DELETE",{configs:o},(function(t){t.data&&(L.success("Delete successful."),a(6,v=[]),console.log("response of simulation",t.data))}))},function(){let t=this.innerText;M("/simulation/static","POST",{configs:o,filename:t},(function(e){if(e){let a=new Blob([e.response],{type:"octet/stream"}),n=(window.URL||window.webkitURL).createObjectURL(a);s.changeImage(n,t)}}))},function(t){N[t?"unshift":"push"]((()=>{s=t,a(0,s)}))},()=>w("start"),()=>w("stop"),()=>y(),function(e,s){t.$$.not_equal(g[s.toString()],e)&&(g[s.toString()]=e,a(5,g))},function(t){E=t,a(7,E)}]}export default class extends t{constructor(t){super(),e(this,t,Dt,Bt,a,{},[-1,-1])}}
