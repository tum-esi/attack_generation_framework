import{S as t,i as e,s,e as n,t as a,k as o,c as l,a as c,g as r,d as i,n as u,b as f,f as d,F as h,h as m,H as g,G as p,v,l as w,j as S,m as E,o as b,a6 as k,r as $,w as y,u as T,M as N,Q as D,N as I,L as O,R as H,z as R,B,a4 as V,a5 as x}from"../../chunks/vendor-c052606d.js";import{T as j}from"../../chunks/index-991a9a56.js";import{T as _,x as C,n as L,a as U,g as P}from"../../chunks/requests-531e903b.js";import{s as A,a as M,b as F}from"../../chunks/store-ce76cd4a.js";/* empty css                                                       */function J(t){let e,s,p,v,w;return{c(){e=n("div"),s=n("h5"),p=a(t[0]),v=o(),w=n("div"),this.h()},l(n){e=l(n,"DIV",{class:!0});var a=c(e);s=l(a,"H5",{});var o=c(s);p=r(o,t[0]),o.forEach(i),v=u(a),w=l(a,"DIV",{class:!0}),c(w).forEach(i),a.forEach(i),this.h()},h(){f(w,"class","w3-responsive"),f(e,"class","w3-container")},m(t,n){d(t,e,n),h(e,s),h(s,p),h(e,v),h(e,w)},p(t,[e]){1&e&&m(p,t[0])},i:g,o:g,d(t){t&&i(e)}}}function W(t,e,s){let{title:n}=e,{input_data:a}=e;return t.$$set=t=>{"title"in t&&s(0,n=t.title),"input_data"in t&&s(1,a=t.input_data)},[n,a]}class q extends t{constructor(t){super(),e(this,t,W,J,s,{title:0,input_data:1})}}function G(t){let e,s,m,v,w,S,E,b,k,$;return{c(){e=n("div"),s=n("span"),m=a("×"),v=o(),w=n("img"),E=o(),b=n("div"),this.h()},l(t){e=l(t,"DIV",{id:!0,class:!0});var n=c(e);s=l(n,"SPAN",{class:!0});var a=c(s);m=r(a,"×"),a.forEach(i),v=u(n),w=l(n,"IMG",{class:!0,id:!0,src:!0}),E=u(n),b=l(n,"DIV",{id:!0,class:!0}),c(b).forEach(i),n.forEach(i),this.h()},h(){f(s,"class","close svelte-rk4oiy"),f(w,"class","modal-content svelte-rk4oiy"),f(w,"id","img01"),w.src!==(S="")&&f(w,"src",""),f(b,"id","caption"),f(b,"class","svelte-rk4oiy"),f(e,"id","myModal"),f(e,"class","modal svelte-rk4oiy")},m(t,n){d(t,e,n),h(e,s),h(s,m),h(e,v),h(e,w),h(e,E),h(e,b),k||($=p(s,"click",z),k=!0)},p:g,i:g,o:g,d(t){t&&i(e),k=!1,$()}}}function z(){document.getElementById("myModal").style.display="none"}function Q(t,e){var s=document.getElementById("myModal"),n=document.getElementById("img01"),a=document.getElementById("caption");s.style.display="block",n.src=t,a.innerHTML=e}function K(t,e,s){return[Q]}class X extends t{constructor(t){super(),e(this,t,K,G,s,{changeImage:0})}get changeImage(){return Q}}function Y(t,e,s){const n=t.slice();return n[33]=e[s],n[35]=s,n}function Z(t,e,s){const n=t.slice();return n[36]=e[s],n[35]=s,n}function tt(t,e,s){const n=t.slice();return n[36]=e[s],n[35]=s,n}function et(t,e,s){const n=t.slice();return n[39]=e[s],n[40]=e,n[41]=s,n}function st(t){let e,s,g,w,S,E,b,k,y,N,I,O,H,R,V,x,j,_,C,L,U,P,A,M,F,J,W,q,G,z,Q,K,X,Y,Z,tt,et="configurations"in t[1]&&nt(t);return{c(){e=n("h4"),s=a("Scenario: "),g=a(t[3]),w=a(" Number of Containers: "),S=a(t[4]),E=a("."),b=o(),k=n("div"),y=n("div"),N=n("button"),I=a("Start Simulation"),O=o(),H=n("div"),R=n("button"),V=a("Stop Simulation"),x=o(),j=n("div"),_=n("button"),C=a("Reset WS Connection"),L=o(),U=n("hr"),P=o(),A=n("section"),M=n("h3"),F=a("Application Logs"),J=o(),W=n("button"),q=a("Clear Logs"),G=o(),et&&et.c(),z=o(),Q=n("br"),K=o(),X=n("hr"),this.h()},l(n){e=l(n,"H4",{});var a=c(e);s=r(a,"Scenario: "),g=r(a,t[3]),w=r(a," Number of Containers: "),S=r(a,t[4]),E=r(a,"."),a.forEach(i),b=u(n),k=l(n,"DIV",{class:!0});var o=c(k);y=l(o,"DIV",{class:!0});var f=c(y);N=l(f,"BUTTON",{class:!0});var d=c(N);I=r(d,"Start Simulation"),d.forEach(i),f.forEach(i),O=u(o),H=l(o,"DIV",{class:!0});var h=c(H);R=l(h,"BUTTON",{class:!0});var m=c(R);V=r(m,"Stop Simulation"),m.forEach(i),h.forEach(i),x=u(o),j=l(o,"DIV",{class:!0});var p=c(j);_=l(p,"BUTTON",{class:!0});var v=c(_);C=r(v,"Reset WS Connection"),v.forEach(i),p.forEach(i),o.forEach(i),L=u(n),U=l(n,"HR",{class:!0}),P=u(n),A=l(n,"SECTION",{class:!0});var $=c(A);M=l($,"H3",{});var T=c(M);F=r(T,"Application Logs"),T.forEach(i),$.forEach(i),J=u(n),W=l(n,"BUTTON",{class:!0});var D=c(W);q=r(D,"Clear Logs"),D.forEach(i),G=u(n),et&&et.l(n),z=u(n),Q=l(n,"BR",{}),K=u(n),X=l(n,"HR",{class:!0}),this.h()},h(){f(N,"class","w3-col w3-input w3-border"),f(y,"class","w3-third"),f(R,"class","w3-col w3-input w3-border"),f(H,"class","w3-third"),f(_,"class","w3-col w3-input w3-border"),f(j,"class","w3-third"),f(k,"class","w3-row w3-section"),f(U,"class","svelte-drd2kv"),f(A,"class","page-headline"),f(W,"class","w3-col w3-input w3-border w3-button"),f(X,"class","svelte-drd2kv")},m(n,a){d(n,e,a),h(e,s),h(e,g),h(e,w),h(e,S),h(e,E),d(n,b,a),d(n,k,a),h(k,y),h(y,N),h(N,I),h(k,O),h(k,H),h(H,R),h(R,V),h(k,x),h(k,j),h(j,_),h(_,C),d(n,L,a),d(n,U,a),d(n,P,a),d(n,A,a),h(A,M),h(M,F),d(n,J,a),d(n,W,a),h(W,q),d(n,G,a),et&&et.m(n,a),d(n,z,a),d(n,Q,a),d(n,K,a),d(n,X,a),Y=!0,Z||(tt=[p(N,"click",t[16]),p(R,"click",t[17]),p(_,"click",t[18]),p(W,"click",t[8])],Z=!0)},p(t,e){(!Y||8&e[0])&&m(g,t[3]),(!Y||16&e[0])&&m(S,t[4]),"configurations"in t[1]?et?(et.p(t,e),2&e[0]&&v(et,1)):(et=nt(t),et.c(),v(et,1),et.m(z.parentNode,z)):et&&(B(),$(et,1,1,(()=>{et=null})),T())},i(t){Y||(v(et),Y=!0)},o(t){$(et),Y=!1},d(t){t&&i(e),t&&i(b),t&&i(k),t&&i(L),t&&i(U),t&&i(P),t&&i(A),t&&i(J),t&&i(W),t&&i(G),et&&et.d(t),t&&i(z),t&&i(Q),t&&i(K),t&&i(X),Z=!1,D(tt)}}}function nt(t){let e,s,n=t[1].configurations.length>0&&at(t);return{c(){n&&n.c(),e=w()},l(t){n&&n.l(t),e=w()},m(t,a){n&&n.m(t,a),d(t,e,a),s=!0},p(t,s){t[1].configurations.length>0?n?(n.p(t,s),2&s[0]&&v(n,1)):(n=at(t),n.c(),v(n,1),n.m(e.parentNode,e)):n&&(B(),$(n,1,1,(()=>{n=null})),T())},i(t){s||(v(n),s=!0)},o(t){$(n),s=!1},d(t){n&&n.d(t),t&&i(e)}}}function at(t){let e,s,n=t[1].configurations,a=[];for(let l=0;l<n.length;l+=1)a[l]=rt(et(t,n,l));const o=t=>$(a[t],1,1,(()=>{a[t]=null}));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=w()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=w()},m(t,n){for(let e=0;e<a.length;e+=1)a[e].m(t,n);d(t,e,n),s=!0},p(t,s){if(34&s[0]){let l;for(n=t[1].configurations,l=0;l<n.length;l+=1){const o=et(t,n,l);a[l]?(a[l].p(o,s),v(a[l],1)):(a[l]=rt(o),a[l].c(),v(a[l],1),a[l].m(e.parentNode,e))}for(B(),l=n.length;l<a.length;l+=1)o(l);T()}},i(t){if(!s){for(let t=0;t<n.length;t+=1)v(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)$(a[e]);s=!1},d(t){N(a,t),t&&i(e)}}}function ot(t){let e,s,n=t[41].toString()in t[5],a=n&&lt(t);return{c(){a&&a.c(),e=w()},l(t){a&&a.l(t),e=w()},m(t,n){a&&a.m(t,n),d(t,e,n),s=!0},p(t,s){32&s[0]&&(n=t[41].toString()in t[5]),n?a?(a.p(t,s),32&s[0]&&v(a,1)):(a=lt(t),a.c(),v(a,1),a.m(e.parentNode,e)):a&&(B(),$(a,1,1,(()=>{a=null})),T())},i(t){s||(v(a),s=!0)},o(t){$(a),s=!1},d(t){a&&a.d(t),t&&i(e)}}}function lt(t){let e,s,n=t[5][t[41].toString()].length>0,a=n&&ct(t);return{c(){a&&a.c(),e=w()},l(t){a&&a.l(t),e=w()},m(t,n){a&&a.m(t,n),d(t,e,n),s=!0},p(t,s){32&s[0]&&(n=t[5][t[41].toString()].length>0),n?a?(a.p(t,s),32&s[0]&&v(a,1)):(a=ct(t),a.c(),v(a,1),a.m(e.parentNode,e)):a&&(B(),$(a,1,1,(()=>{a=null})),T())},i(t){s||(v(a),s=!0)},o(t){$(a),s=!1},d(t){a&&a.d(t),t&&i(e)}}}function ct(t){let e,s,f,g,p,w,T=t[39].container_info.name+"";function N(e){t[19](e,t[41])}let D={title:t[39].container_info.name,headers:Object.keys(t[5][t[41].toString()][0])};return void 0!==t[5][t[41].toString()]&&(D.data=t[5][t[41].toString()]),g=new j({props:D}),V.push((()=>x(g,"data",N))),{c(){e=n("h5"),s=a(T),f=o(),S(g.$$.fragment)},l(t){e=l(t,"H5",{});var n=c(e);s=r(n,T),n.forEach(i),f=u(t),E(g.$$.fragment,t)},m(t,n){d(t,e,n),h(e,s),d(t,f,n),b(g,t,n),w=!0},p(e,n){t=e,(!w||2&n[0])&&T!==(T=t[39].container_info.name+"")&&m(s,T);const a={};2&n[0]&&(a.title=t[39].container_info.name),32&n[0]&&(a.headers=Object.keys(t[5][t[41].toString()][0])),!p&&32&n[0]&&(p=!0,a.data=t[5][t[41].toString()],k((()=>p=!1))),g.$set(a)},i(t){w||(v(g.$$.fragment,t),w=!0)},o(t){$(g.$$.fragment,t),w=!1},d(t){t&&i(e),t&&i(f),y(g,t)}}}function rt(t){let e,s,n=Object.keys(t[5]).length>0,a=n&&ot(t);return{c(){a&&a.c(),e=w()},l(t){a&&a.l(t),e=w()},m(t,n){a&&a.m(t,n),d(t,e,n),s=!0},p(t,s){32&s[0]&&(n=Object.keys(t[5]).length>0),n?a?(a.p(t,s),32&s[0]&&v(a,1)):(a=ot(t),a.c(),v(a,1),a.m(e.parentNode,e)):a&&(B(),$(a,1,1,(()=>{a=null})),T())},i(t){s||(v(a),s=!0)},o(t){$(a),s=!1},d(t){a&&a.d(t),t&&i(e)}}}function it(t){let e,s,m,g,v,w,S,E,b,k,$,y,T,N,O,H,R,B,V,x,j,_,C,L=t[6].length>0&&ut(t);return{c(){e=n("div"),s=n("div"),m=n("button"),g=a("Start Simulation"),v=o(),w=n("hr"),S=o(),E=n("div"),b=n("h1"),k=n("b"),$=a("Edit Files"),y=o(),L&&L.c(),T=o(),N=n("hr"),O=o(),H=n("div"),R=n("div"),B=n("button"),V=a("Delete Files"),x=o(),j=n("hr"),this.h()},l(t){e=l(t,"DIV",{class:!0});var n=c(e);s=l(n,"DIV",{class:!0});var a=c(s);m=l(a,"BUTTON",{class:!0});var o=c(m);g=r(o,"Start Simulation"),o.forEach(i),a.forEach(i),n.forEach(i),v=u(t),w=l(t,"HR",{class:!0}),S=u(t),E=l(t,"DIV",{class:!0});var f=c(E);b=l(f,"H1",{class:!0,style:!0});var d=c(b);k=l(d,"B",{});var h=c(k);$=r(h,"Edit Files"),h.forEach(i),d.forEach(i),f.forEach(i),y=u(t),L&&L.l(t),T=u(t),N=l(t,"HR",{class:!0}),O=u(t),H=l(t,"DIV",{class:!0});var p=c(H);R=l(p,"DIV",{class:!0});var D=c(R);B=l(D,"BUTTON",{class:!0});var I=c(B);V=r(I,"Delete Files"),I.forEach(i),D.forEach(i),p.forEach(i),x=u(t),j=l(t,"HR",{class:!0}),this.h()},h(){f(m,"class","w3-col w3-input w3-border"),f(s,"class","w3-rest"),f(e,"class","w3-row w3-section"),f(w,"class","svelte-drd2kv"),f(b,"class","w3-text-yellow"),I(b,"text-shadow","1px 1px 0 #444"),f(E,"class","w3-panel w3-blue"),f(N,"class","svelte-drd2kv"),f(B,"class","w3-col w3-input w3-border"),f(R,"class","w3-rest"),f(H,"class","w3-row w3-section"),f(j,"class","svelte-drd2kv")},m(n,a){d(n,e,a),h(e,s),h(s,m),h(m,g),d(n,v,a),d(n,w,a),d(n,S,a),d(n,E,a),h(E,b),h(b,k),h(k,$),d(n,y,a),L&&L.m(n,a),d(n,T,a),d(n,N,a),d(n,O,a),d(n,H,a),h(H,R),h(R,B),h(B,V),d(n,x,a),d(n,j,a),_||(C=[p(m,"click",t[11]),p(B,"click",t[13])],_=!0)},p(t,e){t[6].length>0?L?L.p(t,e):(L=ut(t),L.c(),L.m(T.parentNode,T)):L&&(L.d(1),L=null)},d(t){t&&i(e),t&&i(v),t&&i(w),t&&i(S),t&&i(E),t&&i(y),L&&L.d(t),t&&i(T),t&&i(N),t&&i(O),t&&i(H),t&&i(x),t&&i(j),_=!1,D(C)}}}function ut(t){let e,s,a,r,m,g,p=Object.keys(t[6][0]),v=[];for(let n=0;n<p.length;n+=1)v[n]=ft(tt(t,p,n));let w=t[6],S=[];for(let n=0;n<w.length;n+=1)S[n]=gt(Y(t,w,n));return{c(){e=n("div"),s=n("div"),a=n("table"),r=n("thead"),m=n("tr");for(let t=0;t<v.length;t+=1)v[t].c();g=o();for(let t=0;t<S.length;t+=1)S[t].c();this.h()},l(t){e=l(t,"DIV",{class:!0});var n=c(e);s=l(n,"DIV",{class:!0});var o=c(s);a=l(o,"TABLE",{class:!0,style:!0});var f=c(a);r=l(f,"THEAD",{});var d=c(r);m=l(d,"TR",{class:!0});var h=c(m);for(let e=0;e<v.length;e+=1)v[e].l(h);h.forEach(i),d.forEach(i),g=u(f);for(let e=0;e<S.length;e+=1)S[e].l(f);f.forEach(i),o.forEach(i),n.forEach(i),this.h()},h(){f(m,"class","w3-dark-grey"),f(a,"class","w3-table-all"),I(a,"width","100%"),f(s,"class","w3-responsive"),f(e,"class","w3-container")},m(t,n){d(t,e,n),h(e,s),h(s,a),h(a,r),h(r,m);for(let e=0;e<v.length;e+=1)v[e].m(m,null);h(a,g);for(let e=0;e<S.length;e+=1)S[e].m(a,null)},p(t,e){if(64&e[0]){let s;for(p=Object.keys(t[6][0]),s=0;s<p.length;s+=1){const n=tt(t,p,s);v[s]?v[s].p(n,e):(v[s]=ft(n),v[s].c(),v[s].m(m,null))}for(;s<v.length;s+=1)v[s].d(1);v.length=p.length}if(16448&e[0]){let s;for(w=t[6],s=0;s<w.length;s+=1){const n=Y(t,w,s);S[s]?S[s].p(n,e):(S[s]=gt(n),S[s].c(),S[s].m(a,null))}for(;s<S.length;s+=1)S[s].d(1);S.length=w.length}},d(t){t&&i(e),N(v,t),N(S,t)}}}function ft(t){let e,s,o=t[36]+"";return{c(){e=n("th"),s=a(o)},l(t){e=l(t,"TH",{});var n=c(e);s=r(n,o),n.forEach(i)},m(t,n){d(t,e,n),h(e,s)},p(t,e){64&e[0]&&o!==(o=t[36]+"")&&m(s,o)},d(t){t&&i(e)}}}function dt(t){let e,s,o=t[33][t[36]]+"";return{c(){e=n("td"),s=a(o)},l(t){e=l(t,"TD",{});var n=c(e);s=r(n,o),n.forEach(i)},m(t,n){d(t,e,n),h(e,s)},p(t,e){64&e[0]&&o!==(o=t[33][t[36]]+"")&&m(s,o)},d(t){t&&i(e)}}}function ht(t){let e,s,o,u,f=t[33][t[36]]+"";return{c(){e=n("td"),s=a(f)},l(t){e=l(t,"TD",{});var n=c(e);s=r(n,f),n.forEach(i)},m(n,a){d(n,e,a),h(e,s),o||(u=p(e,"click",t[14]),o=!0)},p(t,e){64&e[0]&&f!==(f=t[33][t[36]]+"")&&m(s,f)},d(t){t&&i(e),o=!1,u()}}}function mt(t){let e;function s(t,e){return"filename"==t[36]?ht:dt}let n=s(t),a=n(t);return{c(){a.c(),e=w()},l(t){a.l(t),e=w()},m(t,s){a.m(t,s),d(t,e,s)},p(t,o){n===(n=s(t))&&a?a.p(t,o):(a.d(1),a=n(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&i(e)}}}function gt(t){let e,s,a=Object.keys(t[6][0]),r=[];for(let n=0;n<a.length;n+=1)r[n]=mt(Z(t,a,n));return{c(){e=n("tr");for(let t=0;t<r.length;t+=1)r[t].c();s=o()},l(t){e=l(t,"TR",{});var n=c(e);for(let e=0;e<r.length;e+=1)r[e].l(n);s=u(n),n.forEach(i)},m(t,n){d(t,e,n);for(let s=0;s<r.length;s+=1)r[s].m(e,null);h(e,s)},p(t,n){if(16448&n[0]){let o;for(a=Object.keys(t[6][0]),o=0;o<a.length;o+=1){const l=Z(t,a,o);r[o]?r[o].p(l,n):(r[o]=mt(l),r[o].c(),r[o].m(e,s))}for(;o<r.length;o+=1)r[o].d(1);r.length=a.length}},d(t){t&&i(e),N(r,t)}}}function pt(t){let e,s,m,g,w,T,N,D,I,O,H,R,B,j;function _(e){t[20](e)}let C={title:"AutoPilot Component"};return void 0!==t[7]&&(C.input_data=t[7]),D=new q({props:C}),V.push((()=>x(D,"input_data",_))),{c(){e=n("div"),s=n("div"),m=n("button"),g=a("Start Simulation"),w=o(),T=n("hr"),N=o(),S(D.$$.fragment),O=o(),H=n("hr"),this.h()},l(t){e=l(t,"DIV",{class:!0});var n=c(e);s=l(n,"DIV",{class:!0});var a=c(s);m=l(a,"BUTTON",{class:!0});var o=c(m);g=r(o,"Start Simulation"),o.forEach(i),a.forEach(i),n.forEach(i),w=u(t),T=l(t,"HR",{class:!0}),N=u(t),E(D.$$.fragment,t),O=u(t),H=l(t,"HR",{class:!0}),this.h()},h(){f(m,"class","w3-col w3-input w3-border"),f(s,"class","w3-rest"),f(e,"class","w3-row w3-section"),f(T,"class","svelte-drd2kv"),f(H,"class","svelte-drd2kv")},m(n,a){d(n,e,a),h(e,s),h(s,m),h(m,g),d(n,w,a),d(n,T,a),d(n,N,a),b(D,n,a),d(n,O,a),d(n,H,a),R=!0,B||(j=p(m,"click",t[12]),B=!0)},p(t,e){const s={};!I&&128&e[0]&&(I=!0,s.input_data=t[7],k((()=>I=!1))),D.$set(s)},i(t){R||(v(D.$$.fragment,t),R=!0)},o(t){$(D.$$.fragment,t),R=!1},d(t){t&&i(e),t&&i(w),t&&i(T),t&&i(N),y(D,t),t&&i(O),t&&i(H),B=!1,j()}}}function vt(t){let e,s,m,g,p,w,k,N,D,H,R,V,x,j,C,L,U,P,A;s=new _({});g=new X({props:{}}),t[15](g);let M="Communication"==t[2]&&st(t),F="Static"==t[2]&&it(t),J="Driving Simulation"==t[2]&&pt(t);return{c(){e=o(),S(s.$$.fragment),m=o(),S(g.$$.fragment),p=o(),w=n("hr"),k=o(),N=n("div"),D=n("h1"),H=n("b"),R=a("Simulation"),V=o(),x=n("hr"),j=o(),M&&M.c(),C=o(),F&&F.c(),L=o(),J&&J.c(),U=o(),P=n("hr"),this.h()},l(t){O('[data-svelte="svelte-1smsifb"]',document.head).forEach(i),e=u(t),E(s.$$.fragment,t),m=u(t),E(g.$$.fragment,t),p=u(t),w=l(t,"HR",{class:!0}),k=u(t),N=l(t,"DIV",{class:!0});var n=c(N);D=l(n,"H1",{class:!0,style:!0});var a=c(D);H=l(a,"B",{});var o=c(H);R=r(o,"Simulation"),o.forEach(i),a.forEach(i),n.forEach(i),V=u(t),x=l(t,"HR",{class:!0}),j=u(t),M&&M.l(t),C=u(t),F&&F.l(t),L=u(t),J&&J.l(t),U=u(t),P=l(t,"HR",{class:!0}),this.h()},h(){document.title="Simulation",f(w,"class","svelte-drd2kv"),f(D,"class","w3-text-yellow"),I(D,"text-shadow","1px 1px 0 #444"),f(N,"class","w3-panel w3-blue"),f(x,"class","svelte-drd2kv"),f(P,"class","svelte-drd2kv")},m(t,n){d(t,e,n),b(s,t,n),d(t,m,n),b(g,t,n),d(t,p,n),d(t,w,n),d(t,k,n),d(t,N,n),h(N,D),h(D,H),h(H,R),d(t,V,n),d(t,x,n),d(t,j,n),M&&M.m(t,n),d(t,C,n),F&&F.m(t,n),d(t,L,n),J&&J.m(t,n),d(t,U,n),d(t,P,n),A=!0},p(t,e){g.$set({}),"Communication"==t[2]?M?(M.p(t,e),4&e[0]&&v(M,1)):(M=st(t),M.c(),v(M,1),M.m(C.parentNode,C)):M&&(B(),$(M,1,1,(()=>{M=null})),T()),"Static"==t[2]?F?F.p(t,e):(F=it(t),F.c(),F.m(L.parentNode,L)):F&&(F.d(1),F=null),"Driving Simulation"==t[2]?J?(J.p(t,e),4&e[0]&&v(J,1)):(J=pt(t),J.c(),v(J,1),J.m(U.parentNode,U)):J&&(B(),$(J,1,1,(()=>{J=null})),T())},i(t){A||(v(s.$$.fragment,t),v(g.$$.fragment,t),v(M),v(J),A=!0)},o(t){$(s.$$.fragment,t),$(g.$$.fragment,t),$(M),$(J),A=!1},d(n){n&&i(e),y(s,n),n&&i(m),t[15](null),y(g,n),n&&i(p),n&&i(w),n&&i(k),n&&i(N),n&&i(V),n&&i(x),n&&i(j),M&&M.d(n),n&&i(C),F&&F.d(n),n&&i(L),J&&J.d(n),n&&i(U),n&&i(P)}}}function wt(t,e,s){let n,a=[],o={},l="";const c=A.subscribe((t=>{a=t})),r=M.subscribe((t=>{s(1,o=t)})),i=F.subscribe((t=>{s(2,l=t)}));let u=[],f=[];H((()=>{c(),r(),i();for(let t=0;t<u.length;t++)u[t].close();for(let t=0;t<f.length;t++)f[t].close()}));let d="Please create and select a scenario before starting the simulation.",h=!1,m=0,g=[],p={},v=[],w=[];function S(){for(const[t,e]of Object.entries(p))s(5,p[t]=[],p)}async function E(t){if(!h)return void L.danger("please create and activate a scenario first.");"start"==t&&S(),U("/simulation/comm","POST",{command:t,configs:o},(function(t){t.data&&(L.success("simulation started."),console.log("response of simulation",t.data))}))}function b(){for(var t=0;t<u.length;t++)ws=u[t],ws.close()}R((async()=>{let t="";for(let e=0;e<a.length;e++)a[e].activated&&(s(3,d=a[e].name),h=!0,t="/api/db1/scenario_configurations/ref-"+a[e]._id);!function(t,e){C(t,(function(t){let s=JSON.parse(t.response);s.data&&s.data.length>0&&(M.set(s.data[0]),e())}))}(t,(function(){if("Communication"==o.type){"configurations"in o&&s(4,m=o.configurations.length);for(var t=0;t<m;t++){s(5,p[t.toString()]=[],p);let e="ws://localhost:8000/simulation/comm/ws/"+t.toString(),n=new WebSocket(e);n.onopen=function(){window.console.log("Successfully connected to the echo websocket server...")},n.onmessage=function(t){let e=JSON.parse(t.data);console.log(e,"printing JSON now");let n=e.client_index,a=JSON.parse(e.data);"status"in a?g[n]=a.status:s(5,p[n]=[...p[n],a],p)},u.push(n)}}if("Static"==o.type){console.log("hello static sample");let t=new WebSocket("ws://localhost:8000/simulation/static/ws");t.onopen=function(){window.console.log("static simulation websocket")},t.onmessage=function(t){let e=JSON.parse(t.data);s(6,v=[...v,e])},f.push(t)}"Communication"==o.type&&console.log("hello driving scenario")}))}));return[n,o,l,d,m,p,v,w,S,E,b,function(){U("/simulation/static","POST",{configs:o},(function(t){t.data&&(L.success("simulation started."),console.log("response of simulation",t.data))}))},function(){U("/simulation/static","POST",{configs:o},(function(t){t.data&&(L.success("simulation started."),console.log("response of simulation",t.data))}))},function(){U("/simulation/static","DELETE",{configs:o},(function(t){t.data&&(L.success("Delete successful."),s(6,v=[]),console.log("response of simulation",t.data))}))},function(){let t=this.innerText;P("/simulation/static","POST",{configs:o,filename:t},(function(e){if(e){let s=new Blob([e.response],{type:"octet/stream"}),a=(window.URL||window.webkitURL).createObjectURL(s);n.changeImage(a,t)}}))},function(t){V[t?"unshift":"push"]((()=>{n=t,s(0,n)}))},()=>E("start"),()=>E("stop"),()=>b(),function(e,n){t.$$.not_equal(p[n.toString()],e)&&(p[n.toString()]=e,s(5,p))},function(t){w=t,s(7,w)}]}export default class extends t{constructor(t){super(),e(this,t,wt,vt,s,{},[-1,-1])}}
